System.register("chunks:///_virtual/ActivityData.ts",["cc"],(function(t){var c,e;return{setters:[function(t){c=t.cclegacy,e=t._decorator}],execute:function(){var i,a;c._RF.push({},"9dee3px3NdH3qU6U5VTYPQB","ActivityData",void 0);const{ccclass:n,property:s}=e;t("ActivityData",n("ActivityData")(((a=class t{clear(){}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,i=a))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/ActivityPopup.ts",["cc"],(function(t){var c,o,e;return{setters:[function(t){c=t.cclegacy,o=t.Component,e=t._decorator}],execute:function(){var i;c._RF.push({},"f35ca9MBdpGvKljuRhb5R9A","ActivityPopup",void 0);const{ccclass:n,property:p}=e;t("ActivityPopup",n("ActivityPopup")(i=class extends o{show(){}onEnable(){}onDisable(){}})||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/AdManager.ts",["cc","./HttpService.ts","./Api.ts","./OpenPopupManager.ts","./GameDefine.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var i,o,e,n,s,r,a,d;return{setters:[function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.HttpService},function(t){n=t.Api},function(t){s=t.OpenPopupManager},function(t){r=t.GameDefine},function(t){a=t.EventListener},function(t){d=t.GameEvent}],execute:function(){var h,c;i._RF.push({},"36136ZXzb9G6J7LMyXnX9NK","AdManager",void 0);const{ccclass:_,property:A}=o;t("AdManager",_("AdManager")(((c=class t{constructor(){this._sign=null,this._adsgramBlockId=null,this._monetagZone=null,this._inappZone="9342539",this.onClickAShow=null,this._initAdTypes=[p.Monatag,p.Onclicka,p.Adsonar],this._showAdOrders=[p.Monatag,p.Onclicka,p.Adsonar],this._adTime=0,this._inAppAdId=0}init(t,i,o){this._adsgramBlockId=i+"",this._monetagZone=o;let e=[];if(t&&t.length)for(let i=0;i<t.length;i++)this._initAdTypes.indexOf(t[i])>=0&&e.push(t[i]);e.length>0&&(this._showAdOrders=e),this._initOnclicka(),this._initMonatag(),this._initAdsonar()}_initOnclicka(){try{window.initCdTma&&window.initCdTma({id:"6077510"}).then((t=>{this.onClickAShow=t}))}catch(t){console.log(t);let i=t.description?t.description:t.toString();e.instance.post(n.SYSTEM_WARN,{type:"ad",message:"onclicka|init|"+i+"|blockId:"+this._adsgramBlockId}).then((t=>{})).catch((t=>{}))}}_initMonatag(){if(window["show_"+this._monetagZone])return;const t=document.createElement("script");t.src="https://zidreersatsy.com/sdk.js",t.dataset.zone=this._monetagZone,t.dataset.sdk="show_"+this._monetagZone,document.body.appendChild(t)}_initAdSurge(){if(window.showAdSurge)return;const t=document.createElement("script");t.src="//cdn.adsurge.tech/sdk.js",t.dataset.surge="b4c254a90cbeojcfagfb",document.body.appendChild(t)}initTraffy(t){if(window.Traffy)return void t();const i=document.createElement("script");i.onload=function(){t()},i.src="https://embed.traffy.site/v0.0.7/traffy-wrapper.min.js",i.setAttribute("resource-id","f2566cf9-c8ec-405e-a1d9-a23b2b5de506"),i.setAttribute("mode","production"),document.head.appendChild(i)}showTraffy(){try{window.Traffy&&window.Traffy.renderTasks(document.querySelector("#container-id"),{})}catch(t){}}_initAdsonar(){if(window.Sonar)return;const t=document.createElement("script");t.src="//static.sonartech.io/lib/1.0.0/sonar.js?appId=app_9538fc65",document.body.appendChild(t)}onAdsgramNonStopShow(){console.log("onNonStopShow")}clear(){}showGameAd(t,i,o){this.reportAd(t,i),r.isDebug?o(0,this._sign,""):(a.emit(d.SHOW_LOADING),this._showAd(this._showAdOrders,o,""))}showAd(t,i,o){a.emit(d.SHOW_LOADING),e.instance.post(n.AD_REPORT,{type:t,subId:i}).then((t=>{if(0==t.code){let i=t.data.sign;if(r.isDebug)return a.emit(d.HIDE_LOADING),void o(0,i);this._showAd(this._showAdOrders,o,i)}else a.emit(d.HIDE_LOADING),s.instance.showToast(t.msg)}))}showPopAd(t,i,o){a.emit(d.SHOW_LOADING),e.instance.post(n.AD_REPORT,{type:t,subId:i}).then((t=>{if(0==t.code){let i=t.data.sign;this.showMonatagAdPop(o,i)}else a.emit(d.HIDE_LOADING),s.instance.showToast(t.msg)}))}showSpecailAd(t,i,o,r){a.emit(d.SHOW_LOADING),e.instance.post(n.AD_REPORT,{type:t,subId:i}).then((t=>{if(0==t.code){let i=t.data.sign;this._showAd(o,r,i)}else a.emit(d.HIDE_LOADING),s.instance.showToast(t.msg)}))}initInAppAd(){if(window["show_"+this._inappZone])return;const t=document.createElement("script");t.src="https://cwwsh.com/sdk.js",t.dataset.zone=this._inappZone,t.dataset.sdk="show_"+this._inappZone,document.body.appendChild(t)}canShowInApp(){if(Math.floor((new Date).getTime()/1e3)-this._adTime<30)return!1;let t=document.querySelectorAll("iframe"),i=null;if(t)for(let o=0;o<t.length;o++)t[o]&&"webview"!=t[o].id&&(i=t[o]);return!i}showInAppAd(t,i,o){if(!window["show_"+this._inappZone])return;let s=this._inAppAdId;e.instance.post(n.AD_REPORT,{type:t,subId:s}).then((t=>{if(0==t.code){i(0);let e=t.data.sign;this._inAppAdId++,window["show_"+this._inappZone]().then((t=>{o(0,e),a.emit(d.HIDE_INAPP_AD)})).catch((t=>{o(1),console.log(t),a.emit(d.HIDE_INAPP_AD)}))}}))}updateIframe(){let t=document.querySelectorAll("iframe"),i=null;if(t)for(let o=0;o<t.length;o++)t[o]&&"webview"!=t[o].id&&(i=t[o]);if(i){s.instance.showAdPopup();let t=i.getAttribute("style");return t="width: 80% !important; height: 60% !important; opacity: 1 !important; max-width: 80% !important; border: 0px !important; position: fixed !important; display: block !important; z-index: 2147483647 !important; background: rgba(0, 0, 0, 0.3) !important; color-scheme: auto !important; min-height: 60% !important; visibility: visible; left: 0;right: 0;bottom: 0;top: 0;margin: auto;",i.setAttribute("style",t),!0}return!1}showMonatagAdPop(t,i){if(!window["show_"+this._monetagZone])return this.reportError(p.Monatag,"MonatagAd pop is null",0),this._initMonatag(),t(1),void a.emit(d.HIDE_LOADING);window["show_"+this._monetagZone]("pop").then((o=>{t(0,i),a.emit(d.HIDE_LOADING,0)})).catch((i=>{t(1),a.emit(d.HIDE_LOADING,0),console.log(i)}))}reportAd(t,i,o){e.instance.post(n.AD_REPORT,{type:t,subId:i}).then((t=>{0==t.code&&(this._sign=t.data.sign)}))}_showAd(t,i,o,e,n){if(void 0===e&&(e=0),void 0===n&&(n=""),this._adTime=Math.floor((new Date).getTime()/1e3),t.length>e){let n=t[e];n==p.Adsonar?this._showAdsonarAd(t,i,o,e):n==p.Onclicka?this._showOnclickaAd(t,i,o,e):n==p.AdSurge?this._showAdSurgeAd(t,i,o,e):n==p.AdsonarReward?this._showAdsonarRewardAd(t,i,o,e):this._showMonatagAd(t,i,o,e)}else a.emit(d.HIDE_LOADING),i(1,o||this._sign),s.instance.showToast(n)}_showMonatagAd(t,i,o,e){window["show_"+this._monetagZone]?window["show_"+this._monetagZone]().then((t=>{a.emit(d.HIDE_LOADING),setTimeout(function(){i(0,o||this._sign,t)}.bind(this),500)})).catch((n=>{let s=n.description?n.description:n.toString();this.reportError(p.Monatag,s,e),this._showAd(t,i,o,++e,s)})):this._showAd(t,i,o,++e,"")}_showAdSurgeAd(t,i,o,e){window.showAdSurge?window.showAdSurge().then((t=>{a.emit(d.HIDE_LOADING),setTimeout(function(){i(0,o||this._sign,t)}.bind(this),500)})).catch((n=>{let s=n.description?n.description:n.toString();this.reportError(p.AdSurge,s,e),this._showAd(t,i,o,++e,s)})):this._showAd(t,i,o,++e,"")}_showAdsonarRewardAd(t,i,o,e){if(!window.Sonar)return this.reportError(p.AdsonarReward,"Adsonar is null",e),this._showAd(t,i,o,++e,"ad.error"),void this._initAdsonar();window.Sonar.show({adUnit:"ad1",onShow:()=>{},onReward:t=>{a.emit(d.HIDE_LOADING),setTimeout(function(){i(0,o||this._sign,t)}.bind(this),500)},onClose:()=>{},onError:()=>{}}).then((n=>{if("error"===n.status){let s=n.message;this.reportError(p.AdsonarReward,s,e),this._showAd(t,i,o,++e,s)}})).catch((n=>{let s=n.description?n.description:n.toString();this.reportError(p.AdsonarReward,s,e),this._showAd(t,i,o,++e,s)}))}_showAdsonarAd(t,i,o,e){if(!window.Sonar)return this.reportError(p.Adsonar,"Adsonar is null",e),this._showAd(t,i,o,++e,"ad.error"),void this._initAdsonar();window.Sonar.show({adUnit:"ad2",onShow:()=>{},onClose:t=>{a.emit(d.HIDE_LOADING),setTimeout(function(){i(0,o||this._sign,t)}.bind(this),500)},onError:()=>{console.log("onError")}}).then((n=>{if("error"===n.status){let s=n.message;this.reportError(p.Adsonar,s,e),this._showAd(t,i,o,++e,s)}})).catch((n=>{let s=n.description?n.description:n.toString();this.reportError(p.Adsonar,s,e),this._showAd(t,i,o,++e,s)}))}_showOnclickaAd(t,i,o,e){if(!this.onClickAShow)return this.reportError(p.Onclicka,"onClickAShow is null",e),void this._showAd(t,i,o,++e,"");this.onClickAShow().then((()=>{a.emit(d.HIDE_LOADING),setTimeout(function(){i(0,o||this._sign)}.bind(this),500)})).catch((n=>{a.emit(d.HIDE_LOADING),console.log(n,"error");let s=n.description?n.description:n.toString();this.reportError(p.Onclicka,s,e),this._showAd(t,i,o,++e,s)}))}reportError(t,i,o){let s="ad:"+t+"|msg:"+i+"|index:"+o;t==p.Adsgram&&(s+="|blockId:"+this._adsgramBlockId),e.instance.post(n.SYSTEM_WARN,{type:"ad",message:s}).then((t=>{})).catch((t=>{}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,h=c))||h);let p=t("AdPlatform",function(t){return t.Adsgram="adsgram",t.Onclicka="onclicka",t.Monatag="monatag",t.AdSurge="adsurge",t.Adsonar="adsonar",t.AdsonarReward="adsonarReward",t}({}));t("AdType",function(t){return t.LLAMA_RESOTRE="llama_restore",t.LLAMA_BOOSTENERGY="llama_energy",t.LLAMA_SHEAR="llama_shear",t.LLAMA_BOOSTWOOL="llama_wool",t.LAB_BOOST="lab_boost",t.MORSE_NUMBER="morse_number",t.CARD_DOUBLEOFFLINE="card_offline",t.CARD_UNLOCK="card_unlock",t.SHOP_LLAMA="shop_llama",t.SHOP_BOX="shop_box",t.SHOP_CARD="shop_card",t.SHOP_CARD_REFRESH="shop_refresh",t.SHOP_GOLD="shop_gold",t.SPIN_DRAW="spin_draw",t.SIGNIN_CLAIM="signin_claim",t.QUEST_CLAIM="quest_claim",t.QUEST_POINT="quest_point",t.EVENT_TOMA="event_toma",t.GOOD_GAME="good_game",t.TASKAD="task",t.MINE="mine",t.WITHDRAW="withdraw",t.INAPP="inapp",t.MINIGAME="minigame",t}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/AdModel.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"6f0e2/PnV5G7KCVFTG5r0+O","AdModel",void 0);E("AdGameType",function(E){return E[E.GAME_TYPE_GRID=0]="GAME_TYPE_GRID",E[E.GAME_TYPE_WEAPON=1]="GAME_TYPE_WEAPON",E[E.GAME_TYPE_COIN=2]="GAME_TYPE_COIN",E[E.GAME_TYPE_SPEEDUP=3]="GAME_TYPE_SPEEDUP",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/AdPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./EventListener.ts","./GameEvent.ts"],(function(e){var t,i,n,s,o,l,r,a,c,u,h,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Node,o=e.Label,l=e._decorator,r=e.Component,a=e.tween,c=e.v3},function(e){u=e.Constants},function(e){h=e.OpenPopupManager},function(e){p=e.EventListener},function(e){d=e.GameEvent}],execute:function(){var m,f,g,A,_,P,v,b,T;n._RF.push({},"aa876XiFE1EAaW7XqFAvYPL","AdPopup",void 0);const{ccclass:y,property:I}=l;e("AdPopup",(m=y("AdPopup"),f=I(s),g=I(o),A=I(s),m((v=t((P=class extends r{constructor(){super(...arguments),i(this,"loading",v,this),i(this,"timeText",b,this),i(this,"closeIcon",T,this),this._time=5,this._startTime=0,this._hasFrame=!1}show(){this._time=5,this._startTime=Math.floor((new Date).getTime()/1e3),this.timeText.string=this._time+"",this.timeText.node.parent.active=!0,this.closeIcon.active=!1,this.schedule(this.updateTime,1);let e=this.loading.children.length;for(let t=0;t<this.loading.children.length;t++){let i=this.loading.children[t];a(i).sequence(a().delay(.2*t),a().to(.2,{position:c(i.position.x,20,0)},{easing:"circInOut"}),a().to(.2,{position:c(i.position.x,0,0)},{easing:"circInOut"}),a().delay(.2*(e-t))).repeatForever().start()}this.schedule(this.checkFrame,1)}checkFrame(){if(this._hasFrame){let e=document.querySelectorAll("iframe"),t=null;if(e)for(let i=0;i<e.length;i++)e[i]&&"webview"!=e[i].id&&(t=e[i]);t||h.instance.hide(u.PopupUI.AdPopup)}else{let e=document.querySelectorAll("iframe"),t=null;if(e)for(let i=0;i<e.length;i++)e[i]&&"webview"!=e[i].id&&(t=e[i]);t&&(this._hasFrame=!0)}}updateTime(){this._time--,this._time<0&&(this.timeText.node.parent.active=!1,this.closeIcon.active=!0,this.loading.active=!1,this.unschedule(this.updateTime)),this.timeText.string=this._time+""}onCloseBtn(){let e=document.querySelectorAll("iframe"),t=null;if(e)for(let i=0;i<e.length;i++)e[i]&&"webview"!=e[i].id&&(t=e[i]);let i=Math.floor((new Date).getTime()/1e3);if(i-this._startTime>20){if(t&&t.contentDocument){let e=t.contentDocument.getElementsByTagName("div");e.length>2&&e[2].click()}}else{if(t){let e=t.getAttribute("style");e&&e.indexOf("z-index")>=0&&(e+="z-index: -1 !important;",t.setAttribute("style",e))}p.emit(d.HIDE_INAPP_AD,i-this._startTime)}h.instance.hide(u.PopupUI.AdPopup)}onHideAd(e){0==e&&h.instance.hide(u.PopupUI.AdPopup)}onEnable(){p.on(d.HIDE_INAPP_AD,this.onHideAd,this)}onDisable(){this.unschedule(this.updateTime),this.unschedule(this.checkFrame),p.off(d.HIDE_INAPP_AD,this.onHideAd,this)}}).prototype,"loading",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(P.prototype,"timeText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"closeIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=P))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./OpenPopupManager.ts","./Constants.ts"],(function(t){var i,s,o,r,e,n,a,d,c;return{setters:[function(t){i=t.cclegacy,s=t._decorator},function(t){o=t.HttpService},function(t){r=t.Api},function(t){e=t.EventListener},function(t){n=t.GameEvent},function(t){a=t.PlayerData},function(t){d=t.OpenPopupManager},function(t){c=t.Constants}],execute:function(){var p,u;i._RF.push({},"b7f3aDUxNVIZInZ8aGslVJV","AirdropData",void 0);const{ccclass:A}=s;t("AirdropData",A("AirdropData")(((u=class t{constructor(){this._airdropObj=null,this._myAirdropObj=null,this._airdropRecord=[]}get airdropObj(){return this._airdropObj}get myAirdropObj(){return this._myAirdropObj}get airdropRecord(){return this._airdropRecord}getAirdropInfo(){o.instance.post(r.AIRDROP_INFO).then((t=>{t&&0==t.code&&(this._airdropObj=t.data.issue,this._myAirdropObj=t.data.myAirdrop,e.emit(n.UPDATE_AIRDROP_DATA))}))}getAirdropRecords(){o.instance.post(r.AIRDROP_RECORDS).then((t=>{t&&0==t.code&&(this._airdropRecord=t.data.items,e.emit(n.UPDATE_AIRDROP_RECORD_DATA))}))}invest(t,i){e.emit(n.SHOW_LOADING),o.instance.post(r.AIRDROP_INVEST,{issueId:t,candyAmount:i}).then((t=>{e.emit(n.HIDE_LOADING),t&&0==t.code?(this._airdropObj=t.data.issue,this._myAirdropObj=t.data.myAirdrop,a.instance.getPlayerInfo(),e.emit(n.UPDATE_AIRDROP_DATA),d.instance.show(c.PopupUI.AirdropSuccessPopup)):d.instance.showToast(t.msg)}))}claim(t){o.instance.post(r.AIRDROP_CLAIM,{issueId:t}).then((t=>{t&&0==t.code&&(e.emit(n.UPDATE_AIRDROP_RECORD_DATA),a.instance.getPlayerInfo(),d.instance.showRewardPopup(t.data.rewards)),this.getAirdropRecords()}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,p=u))||p);t("AirdropInfoResult",class{constructor(){this.issue=void 0,this.myAirdrop=void 0}});t("AirdropObj",class{constructor(){this.issueId=void 0,this.llamaAmount=void 0,this.totalInvest=void 0,this.countdown=void 0,this.inviteRequire=void 0,this.adRequire=void 0,this.freeAmount=void 0,this.totalLlama=void 0}});t("MyAirdropObj",class{constructor(){this.investCandy=void 0,this.expectLlama=void 0,this.inviteCount=void 0,this.adCount=void 0,this.totalIncome=void 0}});t("AirdropRecordResult",class{constructor(){this.items=void 0}});t("AirdropRecordObj",class{constructor(){this.issueId=void 0,this.llamaAmount=void 0,this.totalInvest=void 0,this.date=void 0,this.myAirdropLlama=void 0,this.myInvestCandy=void 0,this.draw=void 0}});t("AirdropClaimResult",class{constructor(){this.rewards=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropInvestPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./AirdropData.ts","./PlayerData.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var n,e,i,o,a,s,r,c,p,u,l,d,h,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Label,a=t.EditBox,s=t.Node,r=t._decorator,c=t.Component},function(t){p=t.OpenPopupManager},function(t){u=t.Constants},function(t){l=t.AirdropData},function(t){d=t.PlayerData},function(t){h=t.EventListener},function(t){f=t.GameEvent}],execute:function(){var P,y,b,v,m,A,_,I,B;i._RF.push({},"2982bCfo7RGnrq90IIr4I8z","AirdropInvestPopup",void 0);const{ccclass:E,property:D}=r;t("AirdropInvestPopup",(P=E("AirdropInvestPopup"),y=D(o),b=D(a),v=D(s),P((_=n((A=class extends c{constructor(){super(...arguments),e(this,"candyBalance",_,this),e(this,"amountEditBox",I,this),e(this,"investBtn",B,this),this._amount="0.0",this._canClick=!1}show(){this.onUpdatePlayerInfo(),this.onMaxBtn(),this._canClick=!0}onInvestBtn(){l.instance.invest(l.instance.airdropObj.issueId,this._amount)}onAmountChange(t){this._amount=t}onMaxBtn(){this._amount=""+10*Math.floor(d.instance.assetObj.candy/10),this.amountEditBox.string=this._amount}onCloseBtn(){this._canClick&&p.instance.hide(u.PopupUI.AirdropInvestPopup)}onUpdatePlayerInfo(){this.candyBalance.string=`${d.instance.assetObj.candy}`}onEnable(){h.on(f.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this)}onDisable(){h.off(f.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this)}}).prototype,"candyBalance",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(A.prototype,"amountEditBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(A.prototype,"investBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=A))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./AirdropData.ts","./EventListener.ts","./GameEvent.ts","./Util.ts","./PlayerData.ts","./NewerLlamaItem.ts"],(function(t){var e,n,i,a,o,r,s,l,p,u,c,d,h,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Label,o=t.Node,r=t._decorator,s=t.Component},function(t){l=t.OpenPopupManager},function(t){p=t.Constants},function(t){u=t.AirdropData},function(t){c=t.EventListener},function(t){d=t.GameEvent},function(t){h=t.Util},function(t){m=t.PlayerData},function(t){b=t.NewerLlamaItem}],execute:function(){var y,A,f,T,P,g,v,x,D,I,C,w,L,U,O,_,B,E,R;i._RF.push({},"33d708UmLxA56IKOUt0y2BP","AirdropPopup",void 0);const{ccclass:j,property:z}=r;t("AirdropPopup",(y=j("AirdropPopup"),A=z(a),f=z(a),T=z(a),P=z(a),g=z(a),v=z(a),x=z(o),D=z(o),y((w=e((C=class extends s{constructor(){super(...arguments),n(this,"candyBalance",w,this),n(this,"earnLlamaText",L,this),n(this,"totalInvestCandyText",U,this),n(this,"myInvestCandyText",O,this),n(this,"estimateLlamaText",_,this),n(this,"timeText",B,this),n(this,"investBtn",E,this),n(this,"llamas",R,this)}show(){for(let t=0;t<this.llamas.children.length;t++){let e=t>4?0:t+1;this.llamas.children[t].getComponent(b).init(e)}u.instance.getAirdropInfo(),this.onUpdateContent(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}onUpdateContent(){let t=m.instance.assetObj;if(this.candyBalance.string=`${t.candy}`,!u.instance.airdropObj)return;let e=u.instance.airdropObj;this.earnLlamaText.string=Number(`${e.llamaAmount}`).toLocaleString(),this.totalInvestCandyText.string=`${e.totalInvest}`;let n=u.instance.myAirdropObj;this.myInvestCandyText.string=`${n.investCandy}`,this.estimateLlamaText.string=`${n.expectLlama}`}updateTime(){u.instance.airdropObj&&(u.instance.airdropObj.countdown<=0&&(u.instance.getAirdropInfo(),this.unschedule(this.updateTime)),u.instance.airdropObj.countdown--,this.timeText.string=h.countdownByDay(u.instance.airdropObj.countdown))}onInvestBtn(){l.instance.show(p.PopupUI.AirdropInvestPopup)}onRecordBtn(){l.instance.show(p.PopupUI.AirdropRecordPopup)}onCloseBtn(){l.instance.hide(p.PopupUI.AirdropPopup)}onEnable(){c.on(d.UPDATE_AIRDROP_DATA,this.onUpdateContent,this),c.on(d.UPDATE_PLAYER_DATA,this.onUpdateContent,this)}onDisable(){c.off(d.UPDATE_AIRDROP_DATA,this.onUpdateContent,this),c.off(d.UPDATE_PLAYER_DATA,this.onUpdateContent,this),this.unschedule(this.updateTime)}}).prototype,"candyBalance",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(C.prototype,"earnLlamaText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(C.prototype,"totalInvestCandyText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(C.prototype,"myInvestCandyText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(C.prototype,"estimateLlamaText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(C.prototype,"timeText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(C.prototype,"investBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(C.prototype,"llamas",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=C))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AirdropData.ts"],(function(t){var e,i,r,n,o,l,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Label,o=t.Node,l=t._decorator,a=t.Component},function(t){s=t.AirdropData}],execute:function(){var c,p,u,d,m,h,b,y,I,x,g,T,f,v,A;r._RF.push({},"1dd398fFIlIH7jfISwig8Pg","AirdropRecordItem",void 0);const{ccclass:w,property:z}=l;t("AirdropRecordItem",(c=w("AirdropRecordItem"),p=z(n),u=z(n),d=z(n),m=z(n),h=z(n),b=z(o),c((x=e((I=class extends a{constructor(){super(...arguments),i(this,"timeText",x,this),i(this,"myInvestText",g,this),i(this,"myAirdropText",T,this),i(this,"totalInvestText",f,this),i(this,"totalAirdropText",v,this),i(this,"claimBtn",A,this),this._issueId=0}init(t){this._issueId=t.issueId,this.timeText.string=t.date,this.totalInvestText.string=`${t.totalInvest}`,this.totalAirdropText.string=`${t.llamaAmount}`,this.myInvestText.string=`${t.myInvestCandy}`,this.myAirdropText.string=`${t.myAirdropLlama}`,t.draw?this.claimBtn.active=!1:this.claimBtn.active=!0}onClaimBtn(){s.instance.claim(this._issueId)}}).prototype,"timeText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(I.prototype,"myInvestText",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(I.prototype,"myAirdropText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(I.prototype,"totalInvestText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(I.prototype,"totalAirdropText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(I.prototype,"claimBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=I))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropRecordPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./AirdropData.ts","./EventListener.ts","./GameEvent.ts","./AirdropRecordItem.ts"],(function(t){var e,n,o,r,i,p,c,s,a,d,l,u,A,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.Node,i=t.Prefab,p=t._decorator,c=t.Component,s=t.instantiate},function(t){a=t.OpenPopupManager},function(t){d=t.Constants},function(t){l=t.AirdropData},function(t){u=t.EventListener},function(t){A=t.GameEvent},function(t){R=t.AirdropRecordItem}],execute:function(){var f,h,D,P,m,b,C;o._RF.push({},"abfa1S7iD9Cc4A42V0K3nyb","AirdropRecordPopup",void 0);const{ccclass:g,property:_}=p;t("AirdropRecordPopup",(f=g("AirdropRecordPopup"),h=_(r),D=_(i),f((b=e((m=class extends c{constructor(){super(...arguments),n(this,"content",b,this),n(this,"recordItem",C,this)}show(){l.instance.getAirdropRecords()}onCloseBtn(){a.instance.hide(d.PopupUI.AirdropRecordPopup)}onUpdateContent(){this.content.removeAllChildren();let t=l.instance.airdropRecord;for(let e=0;e<t.length;e++){let n=s(this.recordItem);n.getComponent(R).init(t[e]),n.parent=this.content}}onEnable(){u.on(A.UPDATE_AIRDROP_RECORD_DATA,this.onUpdateContent,this)}onDisable(){u.off(A.UPDATE_AIRDROP_RECORD_DATA,this.onUpdateContent,this)}}).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"recordItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=m))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/AirdropSuccessPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./AirdropData.ts","./Util.ts","./EventListener.ts","./GameEvent.ts"],(function(e){var t,i,n,r,s,o,a,u,p,c,l,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.ParticleSystem2D,s=e.Label,o=e._decorator,a=e.Component},function(e){u=e.Constants},function(e){p=e.OpenPopupManager},function(e){c=e.AirdropData},function(e){l=e.Util},function(e){d=e.EventListener},function(e){m=e.GameEvent}],execute:function(){var h,f,b,A,g,P,T,y,w;n._RF.push({},"5ce85UQ9FJD2Z8gfWIyBxfp","AirdropSuccessPopup",void 0);const{ccclass:x,property:v}=o;e("AirdropSuccessPopup",(h=x("AirdropSuccessPopup"),f=v(r),b=v(s),A=v(s),h((T=t((P=class extends a{constructor(){super(...arguments),i(this,"rewardAnim",T,this),i(this,"timeText",y,this),i(this,"llamaText",w,this)}show(){d.emit(m.HIDE_LOADING),p.instance.hide(u.PopupUI.AirdropInvestPopup),this.llamaText.string=`${c.instance.myAirdropObj.expectLlama}`,this.rewardAnim.resetSystem(),this.updateTime(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}updateTime(){c.instance.airdropObj&&(c.instance.airdropObj.countdown<=0&&(c.instance.getAirdropInfo(),this.unschedule(this.updateTime)),c.instance.airdropObj.countdown--,this.timeText.string=l.timeToStrings(c.instance.airdropObj.countdown))}onCloseBtn(){p.instance.hide(u.PopupUI.AirdropSuccessPopup),this.unschedule(this.updateTime)}}).prototype,"rewardAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(P.prototype,"timeText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"llamaText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/AniBg.ts",["cc"],(function(t){var e,n,o,s,i,r;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.UITransform,s=t.tween,i=t.v3,r=t._decorator}],execute:function(){var c;e._RF.push({},"82da1pt/NBJ85BeRNpJiBJe","AniBg",void 0);const{ccclass:a,property:p}=r;t("AniBg",a("AniBg")(c=class extends n{start(){this.node.getComponent(o).setContentSize(2e3,2e3),s(this.node).set({position:i(0,0,0)}).to(10,{position:i(403,202)}).union().repeatForever().start()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationUI.ts",["cc"],(function(t){var e,n,o,i,s,a,c,r,l;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.Node,i=t.BlockInputEvents,s=t.UITransform,a=t.UIOpacity,c=t.tween,r=t.v3,l=t._decorator}],execute:function(){var d;e._RF.push({},"a05e5ex0PBBGKnHqFKc4eio","AnimationUI",void 0);const{ccclass:p,property:g}=l;t("AnimationUI",p("AnimationUI")(d=class extends n{constructor(){super(...arguments),this._during=.1,this._blocker=null}onLoad(){let t=this.node.getChildByName("blocker");if(t)this._blocker=t;else{let t=new o("blocker");t.addComponent(i),t.addComponent(s),t.parent=this.node,t.getComponent(s).setContentSize(this.node.getComponent(s).contentSize),this._blocker=t}}close(t){this._blocker.active=!0;let e=this.node.getChildByName("Bg"),n=this.node.getChildByName("Content");e.getComponent(a)||e.addComponent(a),c(e.getComponent(a)).to(this._during,{opacity:0},{easing:"backIn"}).start(),c(n).to(this._during,{scale:r(.5,.5,.5)}).call((()=>{this._blocker.active=!1,t&&t()})).start()}open(t){this._blocker.active=!0;let e=this.node.getChildByName("Bg"),n=this.node.getChildByName("Content");e.getComponent(a)?(e.getComponent(a).opacity=0,c(e.getComponent(a)).to(this._during,{opacity:255},{easing:"backOut"}).start()):(e.addComponent(a),e.getComponent(a).opacity=0,c(e.getComponent(a)).to(this._during,{opacity:255},{easing:"backOut"}).start()),n.setScale(.5,.5,.5),c(n).to(this._during,{scale:r(1,1,1)}).call((()=>{this._blocker.active=!1,t&&t()})).start()}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/Api.ts",["cc"],(function(_){var e,a;return{setters:[function(_){e=_.cclegacy,a=_._decorator}],execute:function(){var A,i;e._RF.push({},"0907bgJANRBBpK3vHm+NHxo","Api",void 0);const{ccclass:s,property:E}=a;_("Api",s("Api")(((i=class{}).USER_INFO="/user/info",i.USER_GUIDE_STEP="user/guide/step",i.USER_LOAD_STEP="user/load/step",i.USER_PLAYER_INFO="/user/player/info",i.USER_EDIT_NAME="/user/edit/name",i.USER_SET_AVATAR="/user/set/avatar",i.ASSET_BALANCE="/asset/balance",i.SYSTEM_WARN="/system/warn",i.AUTH_LOGIN="/auth/login",i.MORSE_INFO="/morse/info",i.MORSE_ANSWER="/morse/answer",i.MORSE_ADD="/morse/add",i.RANK_INFO="/rank/info",i.RANK_INVITE="/rank/invite/issue",i.RANK_RAINBOW="/rank/rainbow/issue",i.RANK_GOLD="/rank/gold/issue",i.RANK_RECORD="/rank/record",i.RANK_CLAIM="/rank/claim",i.RANK_AD="/rank/ad/issue",i.CARD_INFO="/card/info",i.CARD_UPGARDE="/card/upgrade",i.CARD_RESET="/card/reset",i.CARD_OFFLINE="/card/offline/double",i.CARD_UNLOCK_AD="/card/unlock/ad",i.LLAMA_INFO="/llama/info",i.LLAMA_ITEMS="/llama/items",i.LLAMA_MERGE="/llama/merge",i.LLAMA_DELETE="/llama/delete",i.LLAMA_TAP="/llama/tap",i.LLAMA_ENERGY_RESTORE="/llama/energy/restore",i.LLAMA_ENERGY_BOOST="/llama/energy/boost",i.LLAMA_WOOL_SHEAR="/llama/wool/shear",i.LLAMA_WOOL_BOOST="/llama/wool/boost",i.LLAMA_WOOL_MERGE="/llama/wool/merge",i.LLAMA_SWAP_INFO="/llama/swap/info",i.LLAMA_SWAP_START="/llama/swap/start",i.LLAMA_SWAP_OFFER="/llama/swap/offer",i.LLAMA_SWAP_CANCEL="/llama/swap/cancel",i.LAB_INFO="/lab/info",i.LAB_RESEARCH="/lab/research",i.LAB_BOOST="/lab/boost",i.LINK_SHARE="/link/share",i.LINK_LIST="/link/list",i.LINK_CLICK="/link/click",i.LINK_INFO="/link/info",i.FRENS_INFO="/frens/info",i.FRENS_LIST="/frens/list",i.FRENS_CLAIM="/frens/claim",i.EARN_INFO="/earn/info",i.EARN_INVEST="/earn/invest",i.EARN_RECORDS="/earn/records",i.EARN_CLAIM="/earn/claim",i.AIRDROP_INFO="/airdrop/info",i.AIRDROP_INVEST="/airdrop/invest",i.AIRDROP_RECORDS="/airdrop/records",i.AIRDROP_CLAIM="/airdrop/claim",i.SHOP_INFO="/shop/info",i.SHOP_CARD_BUY="/shop/card/buy",i.SHOP_LLAMA_BUY="/shop/llama/buy",i.SHOP_CARDBOX_BUY="/shop/cardbox/buy",i.SHOP_CARD_REFRESH="/shop/card/refresh",i.SHOP_GOLD_BUY="/shop/gold/buy",i.SPIN_INFO="/spin/info",i.SPIN_DRAW="/spin/draw",i.SPIN_RANK="/spin/ranking",i.SPIN_RECORD="/spin/record",i.SPIN_FUND="/spin/fund",i.SPIN_WITHDRAW_PRE="/spin/withdraw/pre",i.SIGNIN_INFO="/event/signin/info",i.SIGNIN_CLAIM="/event/signin/claim",i.QUEST_INFO="/event/quest/info",i.QUEST_CLAIM="/event/quest/claim",i.QUEST_DOUBLE_CLAIM="/event/quest/double/claim",i.QUEST_CLAIM_POINT="/event/quest/point/claim",i.QUEST_DOUBLE_CLAIM_POINT="/event/quest/point/double/claim",i.WALLET_WITHDRAW_INFO="/asset/withdraw/info",i.WALLET_BILL_LAST="/asset/bill/last",i.WALLET_WITHDRAW_PRE="/asset/withdraw/pre",i.WALLET_WITHDRAW_SUBMIT="/asset/withdraw/submit",i.WALLET_WITHDRAW_BILL="/asset/withdraw/bill",i.WALLET_WITHDRAW_AD="/asset/withdraw/ad",i.EVENT_TOMA_INFO="/event/toma/info",i.EVENT_TOMA_CLAIM="/event/toma/claim",i.AD_REPORT="/ad/report",i.AD_WARNING="/ad/warning",i.GOOD_INFO="/good/info",i.GOOD_PLAY="/good/play",i.GOOD_SETTLE="/good/settle",i.GOOD_DOUBLE="/good/double",i.GOOD_CLAIM="/good/daily/claim",i.GOOD_ITEM_APPLY="/good/item/apply",i.GOOD_ITEM_USE="/good/item/use",i.GOOD_DRAW="/good/spin/draw",i.GOOD_TIME="/good/time",i.TASK_LIST="/task/list",i.TASK_REPORT="/task/report",i.TASK_CLAIM="task/claim",i.TASK_TRAFFY_CLAIM="task/traffy/claim",i.MINE_INFO="mine/info",i.MINE_ISSUE="mine/issue",i.MINE_INVEST="mine/invest",i.MINE_RECORD="mine/record",i.MINE_ENERGY="mine/energy",i.MINE_MINER="mine/miner",i.MINE_LLAMA="mine/llama",i.MINI_HELP_INFO="mini/help/info",i.MINI_HELP_SETTLE="mini/help/settle",i.MINI_HELP_HINT="mini/help/hint",A=i))||A);e._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"81742d5Mk1LDIiWDl/z8rts","ArrayUtil",void 0);t("ArrayUtil",class{static has(t,e){return!!t&&(!(t.length<=0)&&-1!=t.indexOf(e))}static shuffle(t){if(t&&!(t.length<=1))for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}static remove(t,e){if(!t)return!1;if(t.length<=0)return!1;const r=t.indexOf(e);if(-1===r)return!1;t.splice(r,1)}static removeMultiIdx(t,e){if(!e)return t;if(e.length<=0)return t;const r=[],n=new Set(e);for(let e=0;e<t.length;e++)n.has(e)||r.push(t[e]);return r}static pickItem(t){if(!t)return null;if(t.length<=0)return null;return t[Math.floor(Math.random()*t.length)]}static pickIndex(t){if(!t)return null;if(t.length<=0)return null;return Math.floor(Math.random()*t.length)}static pickItems(t,e,r){if(void 0===r&&(r=!1),!t)return null;if(t.length<=0)return null;let n=[];if(r){let r=[...t];for(let t=0;t<e;t++){let t=this.pickIndex(r),e=r[t];if(n.push(e),r.splice(t,1),r.length<=0)break}return n}for(let r=0;r<e;r++){let e=this.pickItem(t);n.push(e)}return n}static pickIndexs(t,e,r){if(void 0===r&&(r=!1),!t)return null;if(t.length<=0)return null;let n=[];if(r){let r=[...t];for(let t=0;t<e;t++){let t=this.pickIndex(r);if(n.push(t),r.splice(t,1),r.length<=0)break}return n}for(let r=0;r<e;r++){let e=this.pickIndex(t);n.push(e)}return n}static removeSame(t,e,r){r||(r=(t,e)=>t===e);const n=[],l=[];let i=1;for(let u=1;u<t.length;u++){if(r(t[u],t[u-1])){if(i++,i>=e){const t=[];n.push(t);for(let r=0;r<e;r++){const e=u+r-i+1;t.push(e),l.push(e)}}}else i=1}return{removeIdxArr:n,arr:t=this.removeMultiIdx(t,l)}}static isAllSame(t,e){return e?t.every((r=>r[e]===t[0][e])):t.every((e=>e===t[0]))}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./Util.ts","./Constants.ts","./ResourcesUtil.ts"],(function(t){var e,n,o,i,a,s,r,l,c,d,m,h,u,p,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Label,a=t._decorator,s=t.Component,r=t.UITransform,l=t.instantiate,c=t.tween,d=t.v3},function(t){m=t.EventListener},function(t){h=t.GameEvent},function(t){u=t.PlayerData},function(t){p=t.Util},function(t){g=t.Constants},function(t){f=t.ResourcesUtil}],execute:function(){var y,A,P,b,E,D,_,G,R,T,I;o._RF.push({},"977edk63TlHN5ZaXr+BidU7","AssetItem",void 0);const{ccclass:U,property:C}=a;t("AssetItem",(y=U("AssetItem"),A=C(i),P=C(i),b=C(i),E=C(i),y((G=e((_=class extends s{constructor(){super(...arguments),n(this,"gold",G,this),n(this,"candy",R,this),n(this,"rainbow",T,this),n(this,"usdt",I,this)}onLoad(){this.onUpdatePlayerInfo()}onGameCoin(t){let e=this.gold.node.parent.getChildByName("icon").getPosition(),n=Math.min(10,t.num),o=t.pos,i=g.commonPrefabPath+"goldItem",a=this.gold.node.parent.getComponent(r).convertToNodeSpaceAR(o);f.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=l(t),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;i.parent=this.gold.node.parent,i.setPosition(a),this.scheduleOnce((()=>{c(i).to(.2,{position:d(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&1!=o||m.emit(h.UPDATE_PLAYER_DATA,"gold")})).start()}),.05+.05*o)}}))}onGameCandy(t){let e=this.candy.node.parent.getChildByName("icon").getPosition(),n=Math.min(t.num,10),o=t.pos,i=g.commonPrefabPath+"candyItem",a=this.candy.node.parent.getComponent(r).convertToNodeSpaceAR(o);f.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=l(t),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;i.parent=this.candy.node.parent,i.setPosition(a),this.scheduleOnce((()=>{c(i).to(.2,{position:d(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&1!=o||m.emit(h.UPDATE_PLAYER_DATA,"candy")})).start()}),.05+.05*o)}}))}onGameGem(t){let e=this.rainbow.node.parent.getChildByName("icon").getPosition(),n=Math.min(t.num,10),o=t.pos,i=g.commonPrefabPath+"gemItem",a=this.rainbow.node.parent.getComponent(r).convertToNodeSpaceAR(o);f.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=l(t),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;i.parent=this.rainbow.node.parent,i.setPosition(a),this.scheduleOnce((()=>{c(i).to(.2,{position:d(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&1!=o||m.emit(h.UPDATE_PLAYER_DATA,"ticket")})).start()}),.05+.05*o)}}))}onUpdatePlayerInfo(t){let e=u.instance.assetObj;t&&"all"!=t&&"gold"!=t||p.numberAnimation(this.gold,e.gold),t&&"all"!=t&&"candy"!=t||p.numberAnimation(this.candy,e.candy),t&&"all"!=t&&"gem"!=t||(this.rainbow.string=e.gem>10?Number(e.gem).toFixed(0):`${e.gem}`),t&&"all"!=t&&"usdt"!=t||(this.usdt.string=`${e.usdt}`)}onEnable(){m.on(h.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),m.on(h.GET_GOLD_REWARD,this.onGameCoin,this),m.on(h.GET_GEM_REWARD,this.onGameGem,this)}onDisable(){m.off(h.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),m.off(h.GET_GOLD_REWARD,this.onGameCoin,this),m.off(h.GET_GEM_REWARD,this.onGameGem,this)}}).prototype,"gold",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"candy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(_.prototype,"rainbow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(_.prototype,"usdt",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=_))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./ResourcesUtil.ts","./CfgMgr.ts","./SoundCfg.ts","./Configuration.ts","./Constants.ts"],(function(t){var s,e,i,o,u,n,c,a,l,h,m,r;return{setters:[function(t){s=t.cclegacy,e=t.Node,i=t.director,o=t.Button,t.Toggle,u=t.AudioSource,n=t.AudioClip,c=t.assetManager},function(t){a=t.ResourcesUtil},function(t){l=t.CfgMgr},function(t){h=t.SoundCfg},function(t){m=t.Configuration},function(t){r=t.Constants}],execute:function(){s._RF.push({},"05fc0Ua1slE04pfKYS6Neg/","AudioManager",void 0);class d{constructor(){this.dictWeaponSoundIndex={},this.mainVolume=1,this._musicVolume=1,this._soundVolume=1,this._musicSwitch=1,this._soundSwitch=1,this._mapSound=new Map,this._mapMusic=new Map,this._persistRootNode=null,this._musicSource=null,this._curSounds=[],this._soundNameIdData=new Map}static get instance(){return this._instance||(this._instance=new d),this._instance}get musicSource(){return this._musicSource}get musicVolume(){return this._musicVolume*this._musicSwitch}set musicVolume(t){this._musicVolume=t,m.instance.setConfigData("musicVolume",t.toFixed(2)),this._setCurMusicVolume()}get soundVolume(){return this._soundVolume*this._soundSwitch}set soundVolume(t){this._soundVolume=t,m.instance.setConfigData("soundVolume",t.toFixed(2)),this._setCurSoundVolume()}init(){if(this._persistRootNode)return;this._persistRootNode=new e("audio"),i.getScene().addChild(this._persistRootNode),i.addPersistRootNode(this._persistRootNode),this.SetButtonSound(),this._musicSwitch=this.getAudioSetting(!0)?1:0,this._soundSwitch=this.getAudioSetting(!1)?1:0;let t=m.instance.getConfigData("musicVolume");this.musicVolume=t&&Number(t)<=1&&Number(t)>=0?Number(t):1;let s=m.instance.getConfigData("soundVolume");this.soundVolume=s&&Number(s)<=1&&Number(s)>=0?Number(s):1;let o=l.getCfgDataArray(new h);for(let t=0;t<o.length;t++){let s=o[t];if("Effect"==s.group){let t="Main"!=s.type?s.type+"|"+s.name:s.name;this._soundNameIdData.set(t,s.Id)}}}SetButtonSound(){o.prototype.touchBeganClone||(o.prototype.touchBeganClone=o.prototype._onTouchEnded,o.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(t.target.name.indexOf("close")>=0||t.target.name.indexOf("backbtn")>=0?d.instance.playSoundById(102):d.instance.playSoundById(101)),this.touchBeganClone(t)})}_setCurMusicVolume(){for(const t of this._mapMusic.values())t.volume=this.musicVolume}_setCurSoundVolume(){for(const t of this._mapSound.values())t.forEach((t=>{t.volume=this.soundVolume}))}getAudioSetting(t){let s;return s=t?m.instance.getConfigData("music"):m.instance.getConfigData("sound"),!s||"true"===s}_getAudioSource(t){let s;return this._mapSound.forEach(((e,i)=>{if(t.name!=i);else if(e.length>0){const t=e.pop();s=t,this._mapSound.set(i,e)}})),s||(s=this._persistRootNode.addComponent(u)),s.clip=t,s.currentTime=0,s}async playMusic(t,s,e){let i=this._geAudioNameById(t);if(!i)return;let o=i.mp3,c=r.AUDIO_FILE_PATH.MUSIC+o,l=this._musicSource;if(l&&l.stop(),l&&l.clip.name==o);else if(this._mapMusic.get(o))l&&!this._mapMusic.get(l.clip.name)&&this._mapMusic.set(l.clip.name,l),l=this._mapMusic.get(o);else{let t=this._getExistMusicSource(o);if(!t){let s=await a.loadResNew(c,n);t=this._getExistMusicSource(o),t||(t=this._persistRootNode.addComponent(u),t.clip=s,this._mapMusic.set(o,t))}l=t}l.currentTime=0,l.volume=i.volume*this.musicVolume,l.loop=s,l.playOnAwake=!1,this._musicSource=l,this._musicSwitch&&l.play(),e&&e()}_getExistMusicSource(t){for(let s=this._persistRootNode.components.length-1;s>=0;s--){let e=this._persistRootNode.components[s];if(e instanceof u&&e.clip.name==t)return e}return null}_geAudioNameById(t){return l.getDataById(new h,t)}async playSound(t,s,e){void 0===s&&(s=!1);let i=this._soundNameIdData.get(t);this.playSoundById(i,s,e)}async playSoundById(t,s,e){void 0===s&&(s=!1);let i=this._geAudioNameById(t);if(!i)return;let o=i.mp3,u=i.type,c=r.AUDIO_FILE_PATH.SOUND+o;"Good"==i.type&&(c=r.AUDIO_FILE_PATH.GOODSOUND+o);const l=await a.loadResNew(c,n);let h=this._getAudioSource(l);h.volume=i.volume*this.soundVolume,h.loop=s,h.playOnAwake=!1,this._curSounds.push(h),this._soundSwitch&&(h.play(),setTimeout((()=>{this._curSounds.indexOf(h)>=0&&this._curSounds.splice(this._curSounds.indexOf(h),1);let t=u+"|"+o;if(this._mapSound.get(t)){const s=this._mapSound.get(t);s.push(h),this._mapSound.set(t,s)}else this._mapSound.set(t,[h]);e?.()}),1e3*h.duration))}isSoundPlaying(t){return this._curSounds.some((s=>s.clip?.name==t))}isMusicExist(t){return null!=this._mapMusic.get(t)}isMusicPlaying(t){return this._musicSource&&this._musicSource.clip.name==t&&this._musicSource.playing}async preLoadMusics(t){for(let s=0;s<t.length;s++){const e=t[s];let i=this._geAudioNameById(e);if(!i)continue;let o=i.mp3,c=r.AUDIO_FILE_PATH.MUSIC+o;const l=await a.loadResNew(c,n);if(l){const t=this._persistRootNode.addComponent(u);t.clip=l,this._mapMusic.set(o,t)}}}switchMusic(t){t?this.resumeMusic():this.stopMusic(),m.instance.setConfigData("music",`${t}`)}switchSound(t){t?this.resumeSound():this.pauseSound(),m.instance.setConfigData("sound",`${t}`)}stopAllAudio(){this.stopMusic(),this.pauseSound()}stopMusic(){this._musicSwitch=0,this._musicSource&&this._musicSource.pause()}stopAllMusic(){for(const t of this._mapMusic.values())t&&t.playing&&t.stop()}destroyMusic(){this._musicSource.clip&&(this._mapMusic.has(this._musicSource.clip.name)&&this._mapMusic.delete(this._musicSource.clip.name),this._musicSource&&(this._musicSource.destroy(),this._musicSource=null))}pauseSound(){this._soundSwitch=0,this._curSounds.forEach((t=>{t.playing&&t.pause()}))}stopAllSound(){for(const t of this._mapSound.values())t&&t.length&&t.forEach((t=>{t&&t.playing&&t.stop()}));for(let t=0;t<this._curSounds.length;t++){let s=this._curSounds[t];s&&s.playing&&s.stop()}}stopSoundArr(t){for(const s of this._mapSound.values())s&&s.length&&s.forEach((s=>{s&&s.playing&&-1!=t.indexOf(s.clip.name)&&s.stop()}));for(let s=0;s<this._curSounds.length;s++){let e=this._curSounds[s];e&&e.playing&&-1!=t.indexOf(e.clip.name)&&e.stop()}}stopMusicArr(t){for(let s of this._mapMusic.values())s&&s.playing&&-1!=t.indexOf(s.clip.name)&&s.stop()}resumeAll(){this.resumeMusic(),this.resumeSound()}resumeMusic(){this._musicSwitch=1,this._musicSource&&(this._musicSource.volume=this.musicVolume,this._musicSource.play())}resumeSound(){this._soundSwitch=1,this._curSounds.forEach((t=>{t.state==u.AudioState.PAUSED&&(t.volume=this.soundVolume,t.play())}))}removeMusic(t){for(let s=0;s<t.length;s++){const e=t[s],i=this._mapMusic.get(e);this._mapMusic.delete(e),i&&(c.releaseAsset(i.clip),i.destroy(),this._mapMusic[e]=null)}}removeSound(t){for(let s=0;s<t.length;s++){const e=t[s],i=this._mapSound.get(e);i&&i.length&&(this._mapSound.delete(e),i.forEach((t=>{c.releaseAsset(t.clip),t.destroy()})))}}setMusic(t){this.musicVolume=t;for(let t of this._mapMusic.values())t&&(t.volume=this.musicVolume*this.mainVolume)}setMusicWithoutSave(t){for(let s of this._mapMusic.values())s&&(s.volume=t*this.mainVolume)}setSound(t){this.soundVolume=t;for(const t of this._mapSound.values())t&&t.length&&t.forEach((t=>{t.volume=this.soundVolume*this.mainVolume}));for(let t=0;t<this._curSounds.length;t++){this._curSounds[t].volume=this.soundVolume*this.mainVolume}}}t("AudioManager",d),d._instance=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarBgItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./EventListener.ts","./ProfileData.ts"],(function(t){var e,i,n,s,a,r,c,o,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Sprite,a=t.Node,r=t._decorator,c=t.Component},function(t){o=t.GameEvent},function(t){l=t.EventListener},function(t){p=t.ProfileData}],execute:function(){var u,b,g,h,v,d,A;n._RF.push({},"42a1eCypKdBhpJEJd/pULAH","AvatarBgItem",void 0);const{ccclass:E,property:_}=r;t("AvatarBgItem",(u=E("AvatarBgItem"),b=_(s),g=_(a),u((d=e((v=class extends c{constructor(){super(...arguments),i(this,"bg",d,this),i(this,"selected",A,this),this._bgId=0}init(t,e){this._bgId=t;let i=p.instance.bgList[t-1];this.bg.color=i,this.selected.active=e}onTapBtn(t){l.emit(o.SELECT_USER_AVATAR,"bg",this._bgId,!1),this.selected.active=!0,p.instance.setAvatar("bg",this._bgId)}onCancelActive(t,e){"bg"==t&&this._bgId!=e&&(this.selected.active=!1)}onEnable(){l.on(o.SELECT_USER_AVATAR,this.onCancelActive,this)}onDisable(){l.off(o.SELECT_USER_AVATAR,this.onCancelActive,this)}}).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(v.prototype,"selected",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarCfg.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"22dfbcUQcVNUrXtT1syv5Xs","AvatarCfg",void 0);t("AvatarUnlockType",function(t){return t.NONE="none",t.CARD="card",t.Vip="vip",t}({}));t("AvatarCfg",class{constructor(){this.ClassName="Avatar",this.Id=void 0,this.icon=void 0,this.skeleton=void 0,this.unlockType=void 0,this.unlockId=void 0,this.unlockValue=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarIconItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesUtil.ts","./EventListener.ts","./GameEvent.ts","./ProfileData.ts"],(function(t){var e,i,n,a,s,o,c,r,l,h,v,p,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Sprite,s=t.sp,o=t.Node,c=t._decorator,r=t.Component,l=t.tween,h=t.UITransform},function(t){v=t.ResourcesUtil},function(t){p=t.EventListener},function(t){u=t.GameEvent},function(t){d=t.ProfileData}],execute:function(){var _,f,m,A,k,I,b,E,S,L,g;n._RF.push({},"9d42cZCh49CkqDvN2ID0qQF","AvatarIconItem",void 0);const{ccclass:y,property:C}=c;t("AvatarIconItem",(_=y("AvatarIconItem"),f=C(a),m=C(s.Skeleton),A=C(o),k=C(o),_((E=e((b=class extends r{constructor(){super(...arguments),i(this,"icon",E,this),i(this,"spin",S,this),i(this,"selected",L,this),i(this,"lock",g,this),this._avatarId=0,this._isLock=!0}init(t,e){if(this.selected.active=e,this._isLock=d.instance.checkAvatarLock(t),this._isLock?this.lock.active=!0:this.lock.active=!1,this._avatarId=t.Id,t.skeleton)this.icon.node.active=!1,this.spin.node.active=!1,l(this.node).delay(.1).call((()=>{this.spin.node.active=!0,this.spin.setSkin(t.icon)})).start();else{this.icon.node.active=!0,this.spin.node.active=!1;let e=t.icon+"/spriteFrame";v.geSpriteFrame(e).then((t=>{this.icon.spriteFrame=t;let e=this.icon.getComponent(h).contentSize,i=Math.min(80/e.width,80/e.height);this.icon.node.setScale(i,i)}))}}onTapBtn(t){p.emit(u.SELECT_USER_AVATAR,"avatar",this._avatarId,this._isLock),this._isLock||(this.selected.active=!0,d.instance.setAvatar("avatar",this._avatarId))}onCancelActive(t,e,i){i||"avatar"!=t||this._avatarId==e||(this.selected.active=!1)}onEnable(){p.on(u.SELECT_USER_AVATAR,this.onCancelActive,this)}onDisable(){p.off(u.SELECT_USER_AVATAR,this.onCancelActive,this)}}).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(b.prototype,"spin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(b.prototype,"selected",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(b.prototype,"lock",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=b))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProfileData.ts","./ResourcesUtil.ts"],(function(e){var t,i,n,r,o,s,a,c,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Sprite,o=e.sp,s=e._decorator,a=e.Component,c=e.tween,l=e.UITransform},function(e){p=e.ProfileData},function(e){u=e.ResourcesUtil}],execute:function(){var h,m,g,b,f,v,d,y,S;n._RF.push({},"b82504zi6JPeoWVH0C5CDAS","AvatarItem",void 0);const{ccclass:A,property:z}=s;e("AvatarItem",(h=A("AvatarItem"),m=z(r),g=z(r),b=z(o.Skeleton),h((d=t((v=class extends a{constructor(){super(...arguments),i(this,"icon",d,this),i(this,"bg",y,this),i(this,"spin",S,this)}init(e){let[t,i,n]=e.split("-").map((e=>Number(e)));t=t||1,i=i||1;let r=p.instance.getAvatarCfg(t),o=p.instance.getAvatarBg(i);if(this.bg.color=o,r.skeleton)this.icon.node.active=!1,this.spin.node.active=!0,c(this.node).delay(.1).call((()=>{this.spin.setSkin(r.icon)})).start();else{this.icon.node.active=!0,this.spin.node.active=!1;let e=r.icon+"/spriteFrame";u.geSpriteFrame(e).then((e=>{this.icon.spriteFrame=e;let t=this.icon.getComponent(l).contentSize,i=Math.min(100/t.width,100/t.height);this.icon.node.setScale(i,i)}))}}}).prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(v.prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(v.prototype,"spin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/axios.js",["./cjs-loader.mjs"],(function(e,t){var r;return{setters:[function(e){r=e.default}],execute:function(){let n;e("default",void 0);const o=e("__cjsMetaURL",t.meta.url);r.define(o,(function(t,r,o,i,a){var s,u;s=this,u=function(){function e(e){var r,n;function o(r,n){try{var a=e[r](n),s=a.value,u=s instanceof t;Promise.resolve(u?s.v:s).then((function(t){if(u){var n="return"===r?"return":"next";if(!s.k||t.done)return o(n,t);t=e[n](t).value}i(a.done?"return":"normal",t)}),(function(e){o("throw",e)}))}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?o(r.key,r.arg):n=null}this._invoke=function(e,t){return new Promise((function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};n?n=n.next=s:(r=n=s,o(e,t))}))},"function"!=typeof e.return&&(this.return=void 0)}function t(e,t){this.v=e,this.k=t}function r(e){var r={},n=!1;function o(r,o){return n=!0,o=new Promise((function(t){t(e[r](o))})),{done:!1,value:new t(o,1)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):o("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return o("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):o("return",e)}),r}function n(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new o(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function o(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(o=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new o(e)}function i(e){return new t(e,0)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(){u=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};f(w,a,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(L([])));O&&O!==r&&n.call(O,a)&&(w=O);var S=g.prototype=m.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,i,a,s){var u=h(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=j(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=h(t,r,n);if("normal"===c.type){if(o=n.done?y:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=f(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(R.prototype),f(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new R(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(S),f(S,c,"Generator"),f(S,a,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){l(i,n,o,a,s,"next",e)}function s(e){l(i,n,o,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function y(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return b(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||w(e,t)||O()}function b(e){if(Array.isArray(e))return e}function g(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){return function(){return e.apply(t,arguments)}}e.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)};var x,R=Object.prototype.toString,T=Object.getPrototypeOf,j=(x=Object.create(null),function(e){var t=R.call(e);return x[t]||(x[t]=t.slice(8,-1).toLowerCase())}),k=function(e){return e=e.toLowerCase(),function(t){return j(t)===e}},A=function(e){return function(t){return f(t)===e}},P=Array.isArray,L=A("undefined"),_=k("ArrayBuffer"),N=A("string"),C=A("function"),F=A("number"),U=function(e){return null!==e&&"object"===f(e)},D=function(e){if("object"!==j(e))return!1;var t=T(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},B=k("Date"),I=k("File"),q=k("Blob"),M=k("FileList"),z=k("URLSearchParams"),H=m(["ReadableStream","Request","Response","Headers"].map(k),4),J=H[0],W=H[1],G=H[2],K=H[3];function V(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.allOwnKeys,a=void 0!==i&&i;if(null!=e)if("object"!==f(e)&&(e=[e]),P(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var s,u=a?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(r=0;r<c;r++)s=u[r],t.call(null,e[s],s,e)}}function X(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),o=n.length;o-- >0;)if(t===(r=n[o]).toLowerCase())return r;return null}var $,Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Q=function(e){return!L(e)&&e!==Y},Z=($="undefined"!=typeof Uint8Array&&T(Uint8Array),function(e){return $&&e instanceof $}),ee=k("HTMLFormElement"),te=function(e){var t=Object.prototype.hasOwnProperty;return function(e,r){return t.call(e,r)}}(),re=k("RegExp"),ne=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};V(r,(function(r,o){var i;!1!==(i=t(r,o,e))&&(n[o]=i||r)})),Object.defineProperties(e,n)},oe="abcdefghijklmnopqrstuvwxyz",ie="0123456789",ae={DIGIT:ie,ALPHA:oe,ALPHA_DIGIT:oe+oe.toUpperCase()+ie},se=k("AsyncFunction"),ue={isArray:P,isArrayBuffer:_,isBuffer:function(e){return null!==e&&!L(e)&&null!==e.constructor&&!L(e.constructor)&&C(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||C(e.append)&&("formdata"===(t=j(e))||"object"===t&&C(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_(e.buffer)},isString:N,isNumber:F,isBoolean:function(e){return!0===e||!1===e},isObject:U,isPlainObject:D,isReadableStream:J,isRequest:W,isResponse:G,isHeaders:K,isUndefined:L,isDate:B,isFile:I,isBlob:q,isRegExp:re,isFunction:C,isStream:function(e){return U(e)&&C(e.pipe)},isURLSearchParams:z,isTypedArray:Z,isFileList:M,forEach:V,merge:function e(){for(var t=Q(this)&&this||{},r=t.caseless,n={},o=function(t,o){var i=r&&X(n,o)||o;D(n[i])&&D(t)?n[i]=e(n[i],t):D(t)?n[i]=e({},t):P(t)?n[i]=t.slice():n[i]=t},i=0,a=arguments.length;i<a;i++)arguments[i]&&V(arguments[i],o);return n},extend:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.allOwnKeys;return V(t,(function(t,n){r&&C(t)?e[n]=S(t,r):e[n]=t}),{allOwnKeys:o}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,i,a,s={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)a=o[i],n&&!n(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==r&&T(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:j,kindOfTest:k,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(P(e))return e;var t=e.length;if(!F(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ee,hasOwnProperty:te,hasOwnProp:te,reduceDescriptors:ne,freezeMethods:function(e){ne(e,(function(t,r){if(C(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];C(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return P(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:X,global:Y,isContextDefined:Q,ALPHABET:ae,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&C(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(U(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var o=P(r)?[]:{};return V(r,(function(t,r){var i=e(t,n+1);!L(i)&&(o[r]=i)})),t[n]=void 0,o}}return r}(e,0)},isAsyncFn:se,isThenable:function(e){return e&&(U(e)||C(e))&&C(e.then)&&C(e.catch)}};function ce(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}ue.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fe=ce.prototype,le={};function he(e){return ue.isPlainObject(e)||ue.isArray(e)}function pe(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function de(e,t,r){return e?e.concat(t).map((function(e,t){return e=pe(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){le[e]={value:e}})),Object.defineProperties(ce,le),Object.defineProperty(fe,"isAxiosError",{value:!0}),ce.from=function(e,t,r,n,o,i){var a=Object.create(fe);return ue.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),ce.call(a,e.message,t,r,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};var ye=ue.toFlatObject(ue,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ve(e,t,r){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var n=(r=ue.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ue.isUndefined(t[e])}))).metaTokens,o=r.visitor||c,i=r.dots,a=r.indexes,s=(r.Blob||"undefined"!=typeof Blob&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(o))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(ue.isDate(e))return e.toISOString();if(!s&&ue.isBlob(e))throw new ce("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(e)||ue.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,o){var s=e;if(e&&!o&&"object"===f(e))if(ue.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ue.isArray(e)&&function(e){return ue.isArray(e)&&!e.some(he)}(e)||(ue.isFileList(e)||ue.endsWith(r,"[]"))&&(s=ue.toArray(e)))return r=pe(r),s.forEach((function(e,n){!ue.isUndefined(e)&&null!==e&&t.append(!0===a?de([r],n,i):null===a?r:r+"[]",u(e))})),!1;return!!he(e)||(t.append(de(o,r,i),u(e)),!1)}var l=[],h=Object.assign(ye,{defaultVisitor:c,convertValue:u,isVisitable:he});if(!ue.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!ue.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),ue.forEach(r,(function(r,i){!0===(!(ue.isUndefined(r)||null===r)&&o.call(t,r,ue.isString(i)?i.trim():i,n,h))&&e(r,n?n.concat(i):[i])})),l.pop()}}(e),t}function me(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function be(e,t){this._pairs=[],e&&ve(e,this,t)}var ge=be.prototype;function we(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ee(e,t,r){if(!t)return e;var n,o=r&&r.encode||we,i=r&&r.serialize;if(n=i?i(t,r):ue.isURLSearchParams(t)?t.toString():new be(t,r).toString(o)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ge.append=function(e,t){this._pairs.push([e,t])},ge.toString=function(e){var t=e?function(t){return e.call(this,t,me)}:me;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Oe,Se=function(){function e(){p(this,e),this.handlers=[]}return y(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){ue.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),xe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Re={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:be,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Te="undefined"!=typeof window&&"undefined"!=typeof document,je=(Oe="undefined"!=typeof navigator&&navigator.product,Te&&["ReactNative","NativeScript","NS"].indexOf(Oe)<0),ke="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ae=Te&&window.location.href||"http://localhost",Pe=s(s({},Object.freeze({__proto__:null,hasBrowserEnv:Te,hasStandardBrowserWebWorkerEnv:ke,hasStandardBrowserEnv:je,origin:Ae})),Re);function Le(e){function t(e,r,n,o){var i=e[o++];if("__proto__"===i)return!0;var a=Number.isFinite(+i),s=o>=e.length;return i=!i&&ue.isArray(n)?n.length:i,s?(ue.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!a):(n[i]&&ue.isObject(n[i])||(n[i]=[]),t(e,r,n[i],o)&&ue.isArray(n[i])&&(n[i]=function(e){var t,r,n={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)n[r=o[t]]=e[r];return n}(n[i])),!a)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){var r={};return ue.forEachEntry(e,(function(e,n){t(function(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null}var _e={transitional:xe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",o=n.indexOf("application/json")>-1,i=ue.isObject(e);if(i&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return o?JSON.stringify(Le(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ve(e,new Pe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Pe.isNode&&ue.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return ve(r?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,r){if(ue.isString(e))try{return(0,JSON.parse)(e),ue.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||_e.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(r&&!this.responseType||n)){var o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw ce.from(e,ce.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pe.classes.FormData,Blob:Pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],(function(e){_e.headers[e]={}}));var Ne=_e,Ce=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fe=Symbol("internals");function Ue(e){return e&&String(e).trim().toLowerCase()}function De(e){return!1===e||null==e?e:ue.isArray(e)?e.map(De):String(e)}function Be(e,t,r,n,o){return ue.isFunction(n)?n.call(this,t,r):(o&&(t=r),ue.isString(t)?ue.isString(n)?-1!==t.indexOf(n):ue.isRegExp(n)?n.test(t):void 0:void 0)}var Ie=function(e,t){function r(e){p(this,r),e&&this.set(e)}return y(r,[{key:"set",value:function(e,t,r){var n=this;function o(e,t,r){var o=Ue(t);if(!o)throw new Error("header name must be a non-empty string");var i=ue.findKey(n,o);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=De(e))}var i=function(e,t){return ue.forEach(e,(function(e,r){return o(e,r,t)}))};if(ue.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(ue.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i(function(e){var t,r,n,o={};return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||o[t]&&Ce[t]||("set-cookie"===t?o[t]?o[t].push(r):o[t]=[r]:o[t]=o[t]?o[t]+", "+r:r)})),o}(e),t);else if(ue.isHeaders(e)){var a,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e.entries());try{for(s.s();!(a=s.n()).done;){var u=m(a.value,2),c=u[0];o(u[1],c,r)}}catch(e){s.e(e)}finally{s.f()}}else null!=e&&o(t,e,r);return this}},{key:"get",value:function(e,t){if(e=Ue(e)){var r=ue.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(ue.isFunction(t))return t.call(this,n,r);if(ue.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Ue(e)){var r=ue.findKey(this,e);return!(!r||void 0===this[r]||t&&!Be(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function o(e){if(e=Ue(e)){var o=ue.findKey(r,e);!o||t&&!Be(0,r[o],o,t)||(delete r[o],n=!0)}}return ue.isArray(e)?e.forEach(o):o(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var o=t[r];e&&!Be(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return ue.forEach(this,(function(n,o){var i=ue.findKey(r,o);if(i)return t[i]=De(n),void delete t[o];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(o):String(o).trim();a!==o&&delete t[o],t[a]=De(n),r[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return ue.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&ue.isArray(r)?r.join(", "):r)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=m(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Fe]=this[Fe]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=Ue(e);t[n]||(function(e,t){var r=ue.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return ue.isArray(e)?e.forEach(n):n(e),this}}]),r}();Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ue.reduceDescriptors(Ie.prototype,(function(e,t){var r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:function(){return r},set:function(e){this[n]=e}}})),ue.freezeMethods(Ie);var qe=Ie;function Me(e,t){var r=this||Ne,n=t||r,o=qe.from(n.headers),i=n.data;return ue.forEach(e,(function(e){i=e.call(r,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function ze(e){return!(!e||!e.__CANCEL__)}function He(e,t,r){ce.call(this,null==e?"canceled":e,ce.ERR_CANCELED,t,r),this.name="CanceledError"}function Je(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function We(e,t){e=e||10;var r,n=new Array(e),o=new Array(e),i=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=o[a];r||(r=u),n[i]=s,o[i]=u;for(var f=a,l=0;f!==i;)l+=n[f++],f%=e;if((i=(i+1)%e)===a&&(a=(a+1)%e),!(u-r<t)){var h=c&&u-c;return h?Math.round(1e3*l/h):void 0}}}function Ge(e,t){var r=0,n=1e3/t,o=null;return function(){var t=arguments,i=!0===this,a=Date.now();if(i||a-r>n)return o&&(clearTimeout(o),o=null),r=a,e.apply(null,arguments);o||(o=setTimeout((function(){return o=null,r=Date.now(),e.apply(null,t)}),n-(a-r)))}}ue.inherits(He,ce,{__CANCEL__:!0});var Ke=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0,o=We(50,250);return Ge((function(r){var i=r.loaded,a=r.lengthComputable?r.total:void 0,s=i-n,u=o(s);n=i;var c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i<=a?(a-i)/u:void 0,event:r,lengthComputable:null!=a};c[t?"download":"upload"]=!0,e(c)}),r)},Ve=Pe.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=ue.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Xe=Pe.hasStandardBrowserEnv?{write:function(e,t,r,n,o,i){var a=[e+"="+encodeURIComponent(t)];ue.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ue.isString(n)&&a.push("path="+n),ue.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function $e(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ye=function(e){return e instanceof qe?s({},e):e};function Qe(e,t){t=t||{};var r={};function n(e,t,r){return ue.isPlainObject(e)&&ue.isPlainObject(t)?ue.merge.call({caseless:r},e,t):ue.isPlainObject(t)?ue.merge({},t):ue.isArray(t)?t.slice():t}function o(e,t,r){return ue.isUndefined(t)?ue.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function i(e,t){if(!ue.isUndefined(t))return n(void 0,t)}function a(e,t){return ue.isUndefined(t)?ue.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,o,i){return i in t?n(r,o):i in e?n(void 0,r):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return o(Ye(e),Ye(t),!0)}};return ue.forEach(Object.keys(Object.assign({},e,t)),(function(n){var i=u[n]||o,a=i(e[n],t[n],n);ue.isUndefined(a)&&i!==s||(r[n]=a)})),r}var Ze,et,tt,rt,nt=function(e){var t,r,n=Qe({},e),o=n.data,i=n.withXSRFToken,a=n.xsrfHeaderName,s=n.xsrfCookieName,u=n.headers,c=n.auth;if(n.headers=u=qe.from(u),n.url=Ee($e(n.baseURL,n.url),e.params,e.paramsSerializer),c&&u.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ue.isFormData(o))if(Pe.hasStandardBrowserEnv||Pe.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(!1!==(t=u.getContentType())){var f=b(r=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[])||g(r)||w(r)||O(),l=f[0],h=f.slice(1);u.setContentType([l||"multipart/form-data"].concat(function(e){return function(e){if(Array.isArray(e))return E(e)}(e)||g(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h)).join("; "))}if(Pe.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(n)),i||!1!==i&&Ve(n.url))){var p=a&&s&&Xe.read(s);p&&u.set(a,p)}return n},ot="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,o=nt(e),i=o.data,a=qe.from(o.headers).normalize(),s=o.responseType;function u(){o.cancelToken&&o.cancelToken.unsubscribe(n),o.signal&&o.signal.removeEventListener("abort",n)}var c=new XMLHttpRequest;function f(){if(c){var n=qe.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());Je((function(e){t(e),u()}),(function(e){r(e),u()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}}c.open(o.method.toUpperCase(),o.url,!0),c.timeout=o.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(r(new ce("Request aborted",ce.ECONNABORTED,o,c)),c=null)},c.onerror=function(){r(new ce("Network Error",ce.ERR_NETWORK,o,c)),c=null},c.ontimeout=function(){var e=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",t=o.transitional||xe;o.timeoutErrorMessage&&(e=o.timeoutErrorMessage),r(new ce(e,t.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,o,c)),c=null},void 0===i&&a.setContentType(null),"setRequestHeader"in c&&ue.forEach(a.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),ue.isUndefined(o.withCredentials)||(c.withCredentials=!!o.withCredentials),s&&"json"!==s&&(c.responseType=o.responseType),"function"==typeof o.onDownloadProgress&&c.addEventListener("progress",Ke(o.onDownloadProgress,!0)),"function"==typeof o.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ke(o.onUploadProgress)),(o.cancelToken||o.signal)&&(n=function(t){c&&(r(!t||t.type?new He(null,e,c):t),c.abort(),c=null)},o.cancelToken&&o.cancelToken.subscribe(n),o.signal&&(o.signal.aborted?n():o.signal.addEventListener("abort",n)));var l,h,p=(l=o.url,(h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l))&&h[1]||"");p&&-1===Pe.protocols.indexOf(p)?r(new ce("Unsupported protocol "+p+":",ce.ERR_BAD_REQUEST,e)):c.send(i||null)}))},it=function(e,t){var r,n=new AbortController,o=function(e){if(!r){r=!0,a();var t=e instanceof Error?e:this.reason;n.abort(t instanceof ce?t:new He(t instanceof Error?t.message:t))}},i=t&&setTimeout((function(){o(new ce("timeout ".concat(t," of ms exceeded"),ce.ETIMEDOUT))}),t),a=function(){e&&(i&&clearTimeout(i),i=null,e.forEach((function(e){e&&(e.removeEventListener?e.removeEventListener("abort",o):e.unsubscribe(o))})),e=null)};e.forEach((function(e){return e&&e.addEventListener&&e.addEventListener("abort",o)}));var s=n.signal;return s.unsubscribe=a,[s,function(){i&&clearTimeout(i),i=null}]},at=u().mark((function e(t,r){var n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.byteLength,r&&!(n<r)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:o=0;case 6:if(!(o<n)){e.next=13;break}return i=o+r,e.next=10,t.slice(o,i);case 10:o=i,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),st=function(){var t,o=(t=u().mark((function e(t,o,a){var s,c,f,l,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=!1,c=!1,e.prev=2,l=n(t);case 4:return e.next=6,i(l.next());case 6:if(!(s=!(h=e.sent).done)){e.next=27;break}if(p=h.value,e.t0=r,e.t1=n,e.t2=at,!ArrayBuffer.isView(p)){e.next=15;break}e.t3=p,e.next=18;break;case 15:return e.next=17,i(a(String(p)));case 17:e.t3=e.sent;case 18:return e.t4=e.t3,e.t5=o,e.t6=(0,e.t2)(e.t4,e.t5),e.t7=(0,e.t1)(e.t6),e.t8=i,e.delegateYield((0,e.t0)(e.t7,e.t8),"t9",24);case 24:s=!1,e.next=4;break;case 27:e.next=33;break;case 29:e.prev=29,e.t10=e.catch(2),c=!0,f=e.t10;case 33:if(e.prev=33,e.prev=34,!s||null==l.return){e.next=38;break}return e.next=38,i(l.return());case 38:if(e.prev=38,!c){e.next=41;break}throw f;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,null,[[2,29,33,43],[34,,38,42]])})),function(){return new e(t.apply(this,arguments))});return function(e,t,r){return o.apply(this,arguments)}}(),ut=function(e,t,r,n,o){var i=st(e,t,o),a=0;return new ReadableStream({type:"bytes",pull:function(e){return h(u().mark((function t(){var o,s,c,f;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.next();case 2:if(o=t.sent,s=o.done,c=o.value,!s){t.next=9;break}return e.close(),n(),t.abrupt("return");case 9:f=c.byteLength,r&&r(a+=f),e.enqueue(new Uint8Array(c));case 12:case"end":return t.stop()}}),t)})))()},cancel:function(e){return n(e),i.return()}},{highWaterMark:2})},ct=function(e,t){var r=null!=e;return function(n){return setTimeout((function(){return t({lengthComputable:r,total:e,loaded:n})}))}},ft="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,lt=ft&&"function"==typeof ReadableStream,ht=ft&&("function"==typeof TextEncoder?(Ze=new TextEncoder,function(e){return Ze.encode(e)}):function(){var e=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pt=lt&&(et=!1,tt=new Request(Pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return et=!0,"half"}}).headers.has("Content-Type"),et&&!tt),dt=lt&&!!function(){try{return ue.isReadableStream(new Response("").body)}catch(e){}}(),yt={stream:dt&&function(e){return e.body}};ft&&(rt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!yt[e]&&(yt[e]=ue.isFunction(rt[e])?function(t){return t[e]()}:function(t,r){throw new ce("Response type '".concat(e,"' is not supported"),ce.ERR_NOT_SUPPORT,r)})})));var vt=function(){var e=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!ue.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!ue.isSpecCompliantForm(t)){e.next=8;break}return e.next=7,new Request(t).arrayBuffer();case 7:case 14:return e.abrupt("return",e.sent.byteLength);case 8:if(!ue.isArrayBufferView(t)){e.next=10;break}return e.abrupt("return",t.byteLength);case 10:if(ue.isURLSearchParams(t)&&(t+=""),!ue.isString(t)){e.next=15;break}return e.next=14,ht(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=h(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==n?vt(r):n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),bt={http:null,xhr:ot,fetch:ft&&function(){var e=h(u().mark((function e(t){var r,n,o,i,a,c,f,l,h,p,d,y,v,b,g,w,E,O,S,x,R,T,j,k,A,P,L,_,N;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nt(t),n=r.url,o=r.method,i=r.data,a=r.signal,c=r.cancelToken,f=r.timeout,l=r.onDownloadProgress,h=r.onUploadProgress,p=r.responseType,d=r.headers,y=r.withCredentials,v=void 0===y?"same-origin":y,b=r.fetchOptions,p=p?(p+"").toLowerCase():"text",g=a||c||f?it([a,c],f):[],w=m(g,2),E=w[0],O=w[1],R=function(){!S&&setTimeout((function(){E&&E.unsubscribe()})),S=!0},e.prev=4,e.t0=h&&pt&&"get"!==o&&"head"!==o,!e.t0){e.next=11;break}return e.next=9,mt(d,i);case 9:e.t1=T=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}j=new Request(n,{method:"POST",body:i,duplex:"half"}),ue.isFormData(i)&&(k=j.headers.get("content-type"))&&d.setContentType(k),j.body&&(i=ut(j.body,65536,ct(T,Ke(h)),null,ht));case 15:return ue.isString(v)||(v=v?"cors":"omit"),x=new Request(n,s(s({},b),{},{signal:E,method:o.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",withCredentials:v})),e.next=19,fetch(x);case 19:return A=e.sent,P=dt&&("stream"===p||"response"===p),dt&&(l||P)&&(L={},["status","statusText","headers"].forEach((function(e){L[e]=A[e]})),_=ue.toFiniteNumber(A.headers.get("content-length")),A=new Response(ut(A.body,65536,l&&ct(_,Ke(l,!0)),P&&R,ht),L)),p=p||"text",e.next=25,yt[ue.findKey(yt,p)||"text"](A,t);case 25:return N=e.sent,!P&&R(),O&&O(),e.next=30,new Promise((function(e,r){Je(e,r,{data:N,headers:qe.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:x})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),R(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new ce("Network Error",ce.ERR_NETWORK,t,x),{cause:e.t2.cause||e.t2});case 38:throw ce.from(e.t2,e.t2&&e.t2.code,t,x);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}()};ue.forEach(bt,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var gt=function(e){return"- ".concat(e)},wt=function(e){return ue.isFunction(e)||null===e||!1===e},Et=function(e){for(var t,r,n=(e=ue.isArray(e)?e:[e]).length,o={},i=0;i<n;i++){var a=void 0;if(r=t=e[i],!wt(t)&&void 0===(r=bt[(a=String(t)).toLowerCase()]))throw new ce("Unknown adapter '".concat(a,"'"));if(r)break;o[a||"#"+i]=r}if(!r){var s=Object.entries(o).map((function(e){var t=m(e,2),r=t[0],n=t[1];return"adapter ".concat(r," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));throw new ce("There is no suitable adapter to dispatch the request "+(n?s.length>1?"since :\n"+s.map(gt).join("\n"):" "+gt(s[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function Ot(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new He(null,e)}function St(e){return Ot(e),e.headers=qe.from(e.headers),e.data=Me.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Et(e.adapter||Ne.adapter)(e).then((function(t){return Ot(e),t.data=Me.call(e,e.transformResponse,t),t.headers=qe.from(t.headers),t}),(function(t){return ze(t)||(Ot(e),t&&t.response&&(t.response.data=Me.call(e,e.transformResponse,t.response),t.response.headers=qe.from(t.response.headers))),Promise.reject(t)}))}var xt={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){xt[e]=function(r){return f(r)===e||"a"+(t<1?"n ":" ")+e}}));var Rt={};xt.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,i){if(!1===e)throw new ce(n(o," has been removed"+(t?" in "+t:"")),ce.ERR_DEPRECATED);return t&&!Rt[o]&&(Rt[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,i)}};var Tt={assertOptions:function(e,t,r){if("object"!==f(e))throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new ce("option "+i+" must be "+u,ce.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}},validators:xt},jt=Tt.validators,kt=function(){function e(t){p(this,e),this.defaults=t,this.interceptors={request:new Se,response:new Se}}var t;return y(e,[{key:"request",value:(t=h(u().mark((function e(t,r){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error,o=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.t0.stack?o&&!String(e.t0.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+o):e.t0.stack=o}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var r=t=Qe(this.defaults,t),n=r.transitional,o=r.paramsSerializer,i=r.headers;void 0!==n&&Tt.assertOptions(n,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),null!=o&&(ue.isFunction(o)?t.paramsSerializer={serialize:o}:Tt.assertOptions(o,{encode:jt.function,serialize:jt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=i&&ue.merge(i.common,i[t.method]);i&&ue.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete i[e]})),t.headers=qe.concat(a,i);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,f=[];this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)}));var l,h=0;if(!u){var p=[St.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,f),l=p.length,c=Promise.resolve(t);h<l;)c=c.then(p[h++],p[h++]);return c}l=s.length;var d=t;for(h=0;h<l;){var y=s[h++],v=s[h++];try{d=y(d)}catch(e){v.call(this,e);break}}try{c=St.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,l=f.length;h<l;)c=c.then(f[h++],f[h++]);return c}},{key:"getUri",value:function(e){return Ee($e((e=Qe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();ue.forEach(["delete","get","head","options"],(function(e){kt.prototype[e]=function(t,r){return this.request(Qe(r||{},{method:e,url:t,data:(r||{}).data}))}})),ue.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(Qe(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}kt.prototype[e]=t(),kt.prototype[e+"Form"]=t(!0)}));var At=kt,Pt=function(){function e(t){if(p(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,o){n.reason||(n.reason=new He(e,t,o),r(n.reason))}))}return y(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Lt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lt).forEach((function(e){var t=m(e,2),r=t[0],n=t[1];Lt[n]=r}));var _t=Lt,Nt=function e(t){var r=new At(t),n=S(At.prototype.request,r);return ue.extend(n,At.prototype,r,{allOwnKeys:!0}),ue.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Qe(t,r))},n}(Ne);return Nt.Axios=At,Nt.CanceledError=He,Nt.CancelToken=Pt,Nt.isCancel=ze,Nt.VERSION="1.7.2",Nt.toFormData=ve,Nt.AxiosError=ce,Nt.Cancel=Nt.CanceledError,Nt.all=function(e){return Promise.all(e)},Nt.spread=function(e){return function(t){return e.apply(null,t)}},Nt.isAxiosError=function(e){return ue.isObject(e)&&!0===e.isAxiosError},Nt.mergeConfig=Qe,Nt.AxiosHeaders=qe,Nt.formToJSON=function(e){return Le(ue.isHTMLForm(e)?new FormData(e):e)},Nt.getAdapter=Et,Nt.HttpStatusCode=_t,Nt.default=Nt,Nt},"object"==typeof t&&void 0!==o?o.exports=u():"function"==typeof define&&define.amd?define(u):(s="undefined"!=typeof globalThis?globalThis:s||self).axios=u(),n=e("default",o.exports)}),{})}}}));

System.register("chunks:///_virtual/axios.mjs_cjs=&original=.js",["./axios.js","./cjs-loader.mjs"],(function(e,t){var s,a;return{setters:[function(t){s=t.__cjsMetaURL;var a={};a.__cjsMetaURL=t.__cjsMetaURL,a.default=t.default,e(a)},function(e){a=e.default}],execute:function(){s||a.throwInvalidWrapper("./axios.js",t.meta.url),a.require(s)}}}));

System.register("chunks:///_virtual/BackgroundAdapter.ts",["cc"],(function(t){var e,n,o,c,r;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.screen,c=t.UITransform,r=t._decorator}],execute:function(){var a;e._RF.push({},"71ae6w0ow1ACok/pAFH3tJT","BackgroundAdapter",void 0);const{ccclass:i,property:d}=r;t("BackgroundAdapter",i("BackgroundAdapter")(a=class extends n{onLoad(){let t=o.windowSize,e=this.node.getComponent(c).contentSize,n=Math.min(t.width/e.width,t.height/e.height),r=e.width*n,a=e.height*n,i=Math.max(t.width/r,t.height/a);this.node.setScale(i,i,i)}})||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseComponent.ts",["cc","./GameDefine.ts","./GameController.ts","./GameData.ts"],(function(e){var t,n,a,i,s;return{setters:[function(e){t=e.Component,n=e.cclegacy},function(e){a=e.GameDefine},function(e){i=e.default},function(e){s=e.GameData}],execute:function(){n._RF.push({},"12e28pWfOpKyIbZwZp3vv5F","BaseComponent",void 0);e("default",class extends t{constructor(){super(...arguments),this._now_time=0}childUpdate(e){}update(e){if(!i.pause_data.state_b)for(this._now_time+=e*s.instance.gameSpeed;this._now_time>=a.frameTime;)this.childUpdate(a.frameTime),this._now_time-=a.frameTime}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/BillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WalletData.ts","./Util.ts"],(function(t){var i,e,s,a,n,r,h,l,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,a=t.Label,n=t.Node,r=t._decorator,h=t.Component},function(t){l=t.WithdrawBillState},function(t){u=t.Util}],execute:function(){var d,o,c,m,p,T,w,y,g,b,x,B,f;s._RF.push({},"2917a4H7CFFspyJ00wuUYc2","BillItem",void 0);const{ccclass:N,property:S}=r;t("BillItem",(d=N("BillItem"),o=S(a),c=S(a),m=S(a),p=S(n),T=S(n),d((g=i((y=class extends h{constructor(){super(...arguments),e(this,"amount",g,this),e(this,"state",b,this),e(this,"time",x,this),e(this,"penddingBtn",B,this),e(this,"successBtn",f,this),this.withdrawTime=0,this.nextdayTime=0}init(t){this.unschedule(this.updateWithdrawTime),this.unschedule(this.updateNextdayTime),this.amount.string=Number(t.amount/1e3).toFixed(2),t.state==l.SUCCESS?(this.successBtn.active=!0,this.penddingBtn.active=!1):(this.penddingBtn.active=!0,this.successBtn.active=!1,this.state.string=l.SENDING?"To Be Claimed":t.state.toUpperCase(),t.state==l.PENDING?(this.time.node.active=!0,this.withdrawTime=t.withdrawTime,this.time.string=u.timeToString(this.withdrawTime),this.schedule(this.updateWithdrawTime,1)):(this.nextdayTime=t.nextday,this.time.string=u.timeToString(t.nextday),this.schedule(this.updateNextdayTime,1)))}updateWithdrawTime(){this.withdrawTime+=1,this.time.string=u.timeToString(this.withdrawTime)}updateNextdayTime(){this.nextdayTime-=1,0==this.nextdayTime&&this.unschedule(this.updateNextdayTime),this.time.string=u.timeToString(this.nextdayTime)}onDisable(){this.unschedule(this.updateNextdayTime),this.unschedule(this.updateWithdrawTime)}}).prototype,"amount",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(y.prototype,"state",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(y.prototype,"time",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(y.prototype,"penddingBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(y.prototype,"successBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/BoostQuotaPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts"],(function(e){var t,o,i,n,r,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,r=e._decorator,a=e.Component},function(e){l=e.OpenPopupManager},function(e){u=e.Constants}],execute:function(){var p,s,c,b,h,f,y,g,P,d,Q,m,v,w,z;i._RF.push({},"9ba38qlP19E+Lrjp99/6n7y","BoostQuotaPopup",void 0);const{ccclass:B,property:x}=r;e("BoostQuotaPopup",(p=B("BoostQuotaPopup"),s=x(n),c=x(n),b=x(n),h=x(n),f=x(n),y=x(n),p((d=t((P=class extends a{constructor(){super(...arguments),o(this,"level",d,this),o(this,"nextLevel",Q,this),o(this,"quota",m,this),o(this,"nextQuota",v,this),o(this,"addQuota",w,this),o(this,"price",z,this)}show(){}onCloseBtn(){l.instance.hide(u.PopupUI.BoostQuotaPopup)}}).prototype,"level",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(P.prototype,"nextLevel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(P.prototype,"quota",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"nextQuota",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"addQuota",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Breath.ts",["cc"],(function(t){var e,s,c,r,n;return{setters:[function(t){e=t.cclegacy,s=t.Component,c=t.tween,r=t.v3,n=t._decorator}],execute:function(){var o;e._RF.push({},"3a1bccXyrVEd6bc7fid6LvE","Breath",void 0);const{ccclass:a,property:i}=n;t("Breath",a("Misc/Breath")(o=class extends s{constructor(){super(...arguments),this.tw=null}onEnable(){this.tw=c(this.node),this.tw.to(.75,{scale:r(1.1,1.1,1)}).to(.75,{scale:r(1,1,1)}).union().repeatForever().start()}onDisable(){this.node.scale=r(1,1,1),this.tw.stop(),this.tw=null}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/BtnExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./UIMgr.ts"],(function(t){var e,i,n,o,s,c,r,l,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Button,s=t._decorator,c=t.Component,r=t.Node},function(t){l=t.EventType},function(t){a=t.UIMgr}],execute:function(){var h,u,p,f,b,d,m,S,E,v,g;n._RF.push({},"a83eej9/FtEpIgWBHzD69zH","BtnExtend",void 0);const{ccclass:k,property:y,disallowMultiple:z,requireComponent:I}=s;t("BtnExtend",(h=k("UIExtend/BtnExtend"),u=z(!0),p=I(o),f=y({range:[0,1,.1],slide:!0}),h(b=u(b=p((m=e((d=class extends c{constructor(){super(...arguments),i(this,"safeTime",m,this),i(this,"zoomScale",S,this),i(this,"clickSfx",E,this),i(this,"openUI",v,this),i(this,"closeUI",g,this),this.btn=null,this.clickEvents=void 0,this.isSafe=!0}onLoad(){this.btn=this.getComponent(o),this.btn.zoomScale=this.zoomScale,this.btn.node.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.btn.node.on(l.Click,this.onClick,this)}onTouchStart(){}onClick(){this.handleSafe(),this.openUI&&a.open(this.openUI),this.closeUI&&a.close(this.closeUI)}handleSafe(){this.isSafe&&(this.isSafe=!1,this.clickEvents=this.btn.clickEvents,this.btn.clickEvents=[],this.scheduleOnce((()=>{this.isSafe=!0,this.btn.clickEvents=this.clickEvents}),this.safeTime))}}).prototype,"safeTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),S=e(d.prototype,"zoomScale",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),E=e(d.prototype,"clickSfx",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"btnClick"}}),v=e(d.prototype,"openUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=e(d.prototype,"closeUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=d))||b)||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Bundle.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"533eav4GwlKpLHuqFQq52f+","Bundle",void 0);e("Bundle",function(e){return e.Resources="resources",e.UI="resources",e.Game="resources",e.Level="level",e.Font="font",e.Audio="audio",e.Icon="resources",e.UIPath="Prefab/GoodGame/Ui/",e.GamePath="Prefab/GoodGame/Game/",e.IconPath="GoodGame/Icon/",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardCfg.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"f74596CehZPnqAKLKGS3pfE","CardCfg",void 0);i("CardCfg",class{constructor(){this.ClassName="Card",this.Id=void 0,this.name=void 0,this.desc=void 0,this.icon=void 0,this.quality=void 0,this.type=void 0,this.unlock=void 0,this.parentId=void 0,this.value=void 0}});i("CardType",function(i){return i.PLANT="plant",i.ANIMAL="animal",i.OCEAN="ocean",i.FOOD="food",i}({})),i("CardUnlockType",function(i){return i.NONE="none",i.CARD="card",i.INVITE="invite",i.AD="ad",i}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CardData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./CardLevelCfg.ts","./CfgMgr.ts","./OpenPopupManager.ts","./PlayerData.ts","./CardCfg.ts","./GameDefine.ts","./AdManager.ts","./Constants.ts","./LanguageManager.ts","./AudioManager.ts","./Util.ts"],(function(e){var t,a,n,s,i,r,d,o,l,c,u,g,f,h,p,C,_,A,D,v,I;return{setters:[function(e){t=e.cclegacy,a=e._decorator},function(e){n=e.HttpService},function(e){s=e.Api},function(e){i=e.EventListener},function(e){r=e.GameEvent},function(e){d=e.CardLevelCfg},function(e){o=e.CfgMgr},function(e){l=e.OpenPopupManager},function(e){c=e.PlayerData},function(e){u=e.CardType,g=e.CardUnlockType,f=e.CardCfg},function(e){h=e.GameDefine,p=e.GameLinkType},function(e){C=e.AdManager,_=e.AdType},function(e){A=e.Constants},function(e){D=e.LanguageManager},function(e){v=e.AudioManager},function(e){I=e.Util}],execute:function(){var O,y;t._RF.push({},"e34ebGWXkNF9Yglx7bcmyBh","CardData",void 0);const{ccclass:b}=a;e("CardData",b("CardData")(((y=class e{constructor(){this._cardObjData=new Map,this._quizObj=null,this._earnObj=null,this._offlineGold=0,this._offlineDuration=0,this._types=[u.PLANT,u.ANIMAL,u.OCEAN,u.FOOD],this.cardLevelCfgData=new Map}get quizObj(){return this._quizObj}get earnObj(){return this._earnObj}set earnObj(e){this._earnObj=e,e.earnGold>0&&(this._offlineGold=e.earnGold,this._offlineDuration=e.duration)}get offlineGold(){return this._offlineGold}set offlineGold(e){this._offlineGold=e}get offlineDuration(){return this._offlineDuration}get types(){return this._types}initCfg(){let e=o.getCfgDataArray(new d);for(let t=0;t<e.length;t++){let a=e[t],n=a.quality+"|"+a.level;this.cardLevelCfgData.set(n,a)}}getCardInfo(){let e=0;h.linkType==p.CARD&&(e=h.linkId?h.linkId:0,h.linkType=""),n.instance.post(s.CARD_INFO,{linkId:e}).then((e=>{e&&0==e.code&&(this._quizObj=e.data.quiz,this._earnObj=e.data.earn,this._parseCards(e.data.cards),i.emit(r.UPDATE_CARD_DATA))}))}upgrade(e,t,a){n.instance.post(s.CARD_UPGARDE,{cardId:e,level:t}).then((t=>{if(t&&0==t.code)this._earnObj=t.data.earn,this._quizObj=t.data.quiz,this._parseCards(t.data.cards),t.data.rewards.length>0?c.instance.getPlayerInfo(!1):c.instance.getPlayerInfo(),a(t.data.isQuizCard,t.data.quiz.cardIds.length,t.data.rewards),i.emit(r.UPDATE_CARD_DATA),v.instance.playSound("upgrade"),t.data.isQuizCard||l.instance.showToast("Success");else if("card.unlockLv"==t.msg){let t=this.getCardCfgById(e),a=this.getCardCfgById(t.parentId),n=D.instance.getLang("card.unlockLv",[D.instance.getLang(a.name),t.value]);l.instance.showToast(n)}else{let e=t.msg.split("|");l.instance.showToast(e[0],0,e.splice(1))}}))}reset(e,t){C.instance.showAd(_.CARD_UNLOCK,1,((a,d)=>{0==a&&n.instance.post(s.CARD_RESET,{cardId:e,sign:d}).then((e=>{e&&0==e.code?(this._earnObj=e.data.earn,this._parseCards(e.data.cards),i.emit(r.UPDATE_CARD_DATA),l.instance.showToast("Success"),t()):l.instance.showToast(e.msg)}))}))}share(){l.instance.showLoadingPopup(),n.instance.post(s.LINK_SHARE,{type:"card",payload:this._quizObj.quizId}).then((e=>{if(e&&0==e.code){let t=I.base64Encode(""+e.data.linkId),a=[c.instance.userObj.code,t,"card"].join("-"),n=c.instance.configObj.gameBot+"?startapp="+a,s="🃏 Today’s Cards Revealed! Complete your set & grab your bonus! 🚀💎";i.emit(r.HIDE_LOADING);const d="https://t.me/share/url?url="+encodeURIComponent(n)+"&text="+encodeURIComponent(s);if(e&&0==e.code&&e.data.messageId)try{window.Telegram.WebApp.shareMessage(e.data.messageId,(e=>{console.log(e)}))}catch(e){window.Telegram.WebApp.openTelegramLink(d)}else window.Telegram.WebApp.openTelegramLink(d)}})).catch((e=>{}))}doubleOffline(e){C.instance.showAd(_.CARD_DOUBLEOFFLINE,0,((t,a)=>{0==t&&n.instance.post(s.CARD_OFFLINE,{sign:a}).then((t=>{t&&0==t.code?(l.instance.hide(A.PopupUI.CardOfflinePopup),l.instance.showRewardAnimPopup(t.data.rewards,e)):l.instance.showToast(t.msg)}))}))}unlockAd(e){C.instance.showAd(_.CARD_UNLOCK,0,((t,a)=>{0==t&&n.instance.post(s.CARD_UNLOCK_AD,{cardId:e,sign:a}).then((t=>{if(t&&0==t.code){let t=this._cardObjData.get(e);t.ad+=1,t.value-=1,this._cardObjData.set(t.cardId,t),i.emit(r.UPDATE_CARD_DATA)}else l.instance.showToast(t.msg)}))}))}_parseCards(e){let t=new Map;for(let a=0;a<e.length;a++){let n=e[a];t.set(n.cardId,n.level)}for(let a=0;a<e.length;a++){let n=e[a],s=new m;if(s.cardId=n.cardId,s.level=n.level,s.type=n.type,s.ad=n.ad,s.fragment=n.fragment,s.value=1,0==s.level){let e=this.getCardCfgById(s.cardId);if(e.unlock==g.INVITE)s.value=e.value-this._quizObj.inviteCount;else if(e.unlock==g.AD)s.value=e.value-s.ad;else if(e.unlock==g.CARD){let a=t.get(e.parentId);s.value=e.value-a}else s.value=0}this._cardObjData.set(s.cardId,s)}}getCardCfgById(e){return o.getDataById(new f,e)}getCardLevelCfgByCardLevel(e,t){let a=e+"|"+t;return this.cardLevelCfgData.get(a)}getCardObjById(e){return this._cardObjData.get(e)}getCardObjs(){return Array.from(this._cardObjData.values())}static get instance(){return this._instance||(this._instance=new e),this._instance}})._instance=null,O=y))||O);class m{constructor(){this.cardId=void 0,this.level=void 0,this.type=void 0,this.ad=void 0,this.fragment=void 0,this.value=void 0}}e("CardObj",m),t._RF.pop()}}}));

System.register("chunks:///_virtual/CardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesUtil.ts","./Constants.ts","./OpenPopupManager.ts","./CardCfg.ts","./CardData.ts","./LanguageManager.ts","./SpriteEx.ts"],(function(e){var t,i,n,a,r,l,s,o,c,u,p,g,h,d,b,f,m,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Sprite,r=e.AnimationComponent,l=e.Label,s=e.Node,o=e._decorator,c=e.Component,u=e.tween,p=e.v2},function(e){g=e.ResourcesUtil},function(e){h=e.Constants},function(e){d=e.OpenPopupManager},function(e){b=e.CardType,f=e.CardUnlockType},function(e){m=e.CardData},function(e){v=e.LanguageManager},function(e){y=e.SpriteEx}],execute:function(){var C,w,k,L,B,z,_,I,O,T,D,P,U,j,x,A,F,M,N,R,S,E,q,$,H,V,J,W,X;n._RF.push({},"963dc0lXMlOHZVDEJ0vcyWu","CardItem",void 0);const{ccclass:Z,property:G}=o;e("CardItem",(C=Z("CardItem"),w=G(a),k=G(r),L=G(y),B=G(l),z=G(l),_=G(l),I=G(l),O=G(l),T=G(s),D=G(l),P=G(s),U=G(l),j=G(s),C((F=t((A=class extends c{constructor(){super(...arguments),i(this,"icon",F,this),i(this,"anim",M,this),i(this,"bg",N,this),i(this,"cardName",R,this),i(this,"number",S,this),i(this,"earn",E,this),i(this,"lockTip",q,this),i(this,"level",$,this),i(this,"upgradeBtn",H,this),i(this,"cost",V,this),i(this,"unlockBtn",J,this),i(this,"unlockTips",W,this),i(this,"earnArrow",X,this),this._cardObj=void 0,this._cardCfg=void 0}init(e){this._cardObj=e;let t=m.instance.getCardCfgById(e.cardId);this._cardCfg=t,this.cardName.string=v.instance.getLang(t.name),this.bg.index=m.instance.types.indexOf(e.type);let i=m.instance.getCardLevelCfgByCardLevel(t.quality,e.level);this.number.string=`${i.earn}/h`,this.level.string=`Lv.${e.level}`;var n=h.cardsPath+t.icon+"/spriteFrame";if(g.geSpriteFrame(n).then((e=>{this.icon.spriteFrame=e,t.type==b.PLANT||t.type==b.FOOD?this.anim.play("swing"):this.anim.play("jump")})),e.level>0||0==e.level&&e.value<=0){this.upgradeBtn.active=!0,this.unlockBtn.active=!1,this.cost.string=`${i.gold}`,m.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level+1)||(this.cost.string="Max Level"),this.cost.node.parent.getChildByName("icon").active=!1}else if(this.unlockBtn.active=!0,this.upgradeBtn.active=!1,t.unlock==f.CARD){let e=m.instance.getCardCfgById(t.parentId);this.unlockTips.string=v.instance.getLang("card.unlockLv",[v.instance.getLang(e.name),t.value])}else t.unlock==f.INVITE?this.unlockTips.string=v.instance.getLang("card.invite",[e.value]):t.unlock==f.AD&&(this.unlockTips.string=v.instance.getLang("card.ad",[e.value]));i.earn>0&&u(this.earnArrow).sequence(u().to(2,{position:p(83.5,0)},{easing:"linear"}),u().to(0,{position:p(0,0)})).repeatForever().start()}onUpgradeBtn(){d.instance.show(h.PopupUI.UpgradeCardpopup,this._cardObj,this._cardCfg,1)}onUnlockBtn(){d.instance.show(h.PopupUI.UnlockCardPopup,this._cardObj,this._cardCfg)}}).prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(A.prototype,"anim",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(A.prototype,"bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"cardName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(A.prototype,"number",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(A.prototype,"earn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(A.prototype,"lockTip",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(A.prototype,"level",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(A.prototype,"upgradeBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(A.prototype,"cost",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(A.prototype,"unlockBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(A.prototype,"unlockTips",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(A.prototype,"earnArrow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/CardLevelCfg.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4fb12WYextPw6x3hpMoWPrS","CardLevelCfg",void 0);e("CardLevelCfg",class{constructor(){this.ClassName="CardLevel",this.Id=void 0,this.quality=void 0,this.level=void 0,this.earn=void 0,this.gold=void 0,this.fragment=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/CardOfflinePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./CardData.ts","./LanguageManager.ts","./Util.ts","./CoinMode.ts","./EventListener.ts","./GameEvent.ts"],(function(e){var t,n,i,o,r,a,l,s,u,c,p,f,d,m,g,h,b,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,r=e.ParticleSystem2D,a=e.Node,l=e._decorator,s=e.Component,u=e.UITransform,c=e.Vec3},function(e){p=e.OpenPopupManager},function(e){f=e.Constants},function(e){d=e.CardData},function(e){m=e.LanguageManager},function(e){g=e.Util},function(e){h=e.CoinObj},function(e){b=e.EventListener},function(e){C=e.GameEvent}],execute:function(){var w,y,P,T,A,D,v,O,B,x,L,G,z;i._RF.push({},"8085bI8I1hFAIlhtP6lTDG8","CardOfflinePopup",void 0);const{ccclass:E,property:M}=l;e("CardOfflinePopup",(w=E("CardOfflinePopup"),y=M(o),P=M(o),T=M(r),A=M(a),D=M(a),w((B=t((O=class extends s{constructor(){super(...arguments),n(this,"amountText",B,this),n(this,"timeText",x,this),n(this,"rewardAnim",L,this),n(this,"doubleBtn",G,this),n(this,"closeBtn",z,this),this.goldAmount=0}show(){this.goldAmount=d.instance.offlineGold,this.amountText.string=`${this.goldAmount}`,this.timeText.string=m.instance.getLang("card.offlineTime",[g.countdown(d.instance.offlineDuration)]),this.rewardAnim.resetSystem(),d.instance.offlineGold=0}onDoubleBtn(){d.instance.doubleOffline(this.doubleBtn.getComponent(u).convertToWorldSpaceAR(new c(0,0,0)))}onCloseBtn(){let e=new h;e.pos=this.closeBtn.getComponent(u).convertToWorldSpaceAR(new c(0,0,0)),e.num=this.goldAmount,b.emit(C.GET_GOLD_REWARD,e),p.instance.hide(f.PopupUI.CardOfflinePopup)}}).prototype,"amountText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(O.prototype,"timeText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(O.prototype,"rewardAnim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(O.prototype,"doubleBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(O.prototype,"closeBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/CardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardItem.ts","./CardData.ts","./EventListener.ts","./GameEvent.ts","./Util.ts","./TargetCardItem.ts","./OpenPopupManager.ts","./Constants.ts","./AvatarItem.ts","./LanguageManager.ts"],(function(e){var t,i,n,a,s,r,o,u,h,l,c,p,d,b,m,T,g,f,C,v,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,s=e.Prefab,r=e.Label,o=e.RichText,u=e._decorator,h=e.Component,l=e.instantiate,c=e.Color},function(e){p=e.CardItem},function(e){d=e.CardData},function(e){b=e.EventListener},function(e){m=e.GameEvent},function(e){T=e.Util},function(e){g=e.TargetCardItem},function(e){f=e.OpenPopupManager},function(e){C=e.Constants},function(e){v=e.AvatarItem},function(e){z=e.LanguageManager}],execute:function(){var x,U,w,y,I,A,D,E,O,P,j,q,B,R,_,L,S,M,N,G,k,F,H,Q,$,K,W;n._RF.push({},"f1ec4i7qHlBbaN5WrDP9KhN","CardPopup",void 0);const{ccclass:J,property:V}=u;e("CardPopup",(x=J("CardPopup"),U=V(a),w=V(a),y=V(s),I=V(r),A=V(r),D=V(r),E=V(a),O=V(a),P=V(r),j=V(a),q=V(o),B=V(a),x((L=t((_=class extends h{constructor(){super(...arguments),i(this,"tabs",L,this),i(this,"cardList",S,this),i(this,"cardItem",M,this),i(this,"gold",N,this),i(this,"timeText",G,this),i(this,"hourEarn",k,this),i(this,"targetCards",F,this),i(this,"shareBtn",H,this),i(this,"bonusTimeText",Q,this),i(this,"bonusIcon",$,this),i(this,"shareUserText",K,this),i(this,"shareAvatar",W,this),this.rootNode=null,this.curType="plant"}show(){d.instance.getCardInfo(),this.unschedule(this.updateTime),this.unschedule(this.updateBonusTime),this.schedule(this.updateTime,1),this.schedule(this.updateBonusTime,1),this.onUpdateCards()}onUpdateCards(){if(!d.instance.earnObj)return;d.instance.offlineGold>0&&f.instance.show(C.PopupUI.CardOfflinePopup),this.hourEarn.string=`${d.instance.earnObj.perEarn}/h`,this.gold.string=`${d.instance.quizObj.gold}`;let e=d.instance.getCardObjs(),t=d.instance.quizObj;t.status?(this.shareBtn.active=!0,this.gold.node.parent.active=!1,this.bonusTimeText.node.parent.active=!1,this.shareUserText.node.parent.active=!1):(this.shareBtn.active=!1,this.gold.node.parent.active=!0,t.bonusTime>0?(this.bonusTimeText.node.parent.active=!0,this.bonusIcon.active=!0):(this.bonusTimeText.node.parent.active=!1,this.bonusIcon.active=!1),t.answer&&t.answer.length>0&&t.shareUser?(this.shareUserText.string=z.instance.getLang("morse.shareuser",[t.shareUser.nickname]),this.shareAvatar.getComponent(v).init(t.shareUser.avatar),this.shareUserText.node.parent.active=!0):this.shareUserText.node.parent.active=!1);for(let e=0;e<this.targetCards.children.length;e++){this.targetCards.children[e].getComponent(g).init(t.cardIds[e]?t.cardIds[e]:0,t.answer&&t.answer[e]?t.answer[e]:0)}this.cardList.removeAllChildren(),e.forEach(((e,t)=>{if(e.type==this.curType){var i=l(this.cardItem);i.getComponent(p).init(e),i.parent=this.cardList}}))}onRequestCards(){d.instance.getCardInfo()}updateTime(){d.instance.quizObj&&(d.instance.quizObj.nextTime<=0&&(d.instance.getCardInfo(),this.unschedule(this.updateTime)),d.instance.quizObj.nextTime--,this.timeText.string=T.timeToStrings(d.instance.quizObj.nextTime))}updateBonusTime(){d.instance.quizObj&&(d.instance.quizObj.bonusTime<=0&&(this.bonusTimeText.node.parent.active=!1,this.bonusIcon.active=!1,this.unschedule(this.updateBonusTime)),d.instance.quizObj.bonusTime--,this.bonusTimeText.string=T.timeToStrings(d.instance.quizObj.bonusTime))}onTab(e,t){this.tabs.children.forEach(((e,t)=>{e.getComponent(r).color=new c(255,255,255,255)})),e.target.getComponent(r).color=new c(242,139,65,255),this.curType=t,this.onUpdateCards()}onShareBtn(){d.instance.share()}onCloseBtn(){f.instance.hide(C.PopupUI.CardPopup)}onEnable(){b.on(m.UPDATE_CARD_DATA,this.onUpdateCards,this),b.on(m.REQUEST_CARD_DATA,this.onRequestCards,this)}onDisable(){b.off(m.UPDATE_CARD_DATA,this.onUpdateCards,this),b.off(m.REQUEST_CARD_DATA,this.onRequestCards,this),this.unschedule(this.updateTime),this.unschedule(this.updateBonusTime)}}).prototype,"tabs",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(_.prototype,"cardList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"cardItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(_.prototype,"gold",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(_.prototype,"timeText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"hourEarn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"targetCards",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(_.prototype,"shareBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(_.prototype,"bonusTimeText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(_.prototype,"bonusIcon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(_.prototype,"shareUserText",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(_.prototype,"shareAvatar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=_))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/CardRewardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./CardData.ts","./ResourcesUtil.ts","./LanguageManager.ts"],(function(e){var t,a,r,n,i,s,o,c,l,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Sprite,i=e.Label,s=e._decorator,o=e.Component},function(e){c=e.OpenPopupManager},function(e){l=e.Constants},function(e){p=e.CardData},function(e){u=e.ResourcesUtil},function(e){d=e.LanguageManager}],execute:function(){var g,h,b,f,C,m,P,w,y;r._RF.push({},"257b4VkIH9NYqsf3It0/AuN","CardRewardPopup",void 0);const{ccclass:R,property:_}=s;e("CardRewardPopup",(g=R("CardRewardPopup"),h=_(n),b=_(i),f=_(i),g((P=t((m=class extends o{constructor(){super(...arguments),a(this,"icon",P,this),a(this,"progress",w,this),a(this,"cardName",y,this),this._callback=null}show(e,t,a){this._callback=a;let r=p.instance.getCardCfgById(e.cardId);this.cardName.string=d.instance.getLang(r.name),this.progress.string=d.instance.getLang("card.collectTips",[t+"/3"]);var n=l.cardsPath+r.icon+"/spriteFrame";u.geSpriteFrame(n).then((e=>{this.icon.spriteFrame=e}))}onCloseBtn(){c.instance.hide(l.PopupUI.CardRewardPopup),this._callback&&this._callback()}}).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(m.prototype,"progress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(m.prototype,"cardName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_icon.ts",["cc"],(function(i){var c;return{setters:[function(i){c=i.cclegacy}],execute:function(){c._RF.push({},"032eaaUB05H+6HPhAqADpKu","cfg_icon",void 0);i("cfg_icon_dessert",[{id:1,icon:"dessert1"},{id:2,icon:"dessert2"},{id:3,icon:"dessert3"},{id:4,icon:"dessert4"},{id:5,icon:"dessert5"},{id:6,icon:"dessert6"},{id:7,icon:"dessert7"},{id:8,icon:"dessert8"},{id:9,icon:"dessert9"},{id:10,icon:"dessert10"},{id:11,icon:"dessert11"},{id:12,icon:"dessert12"},{id:13,icon:"dessert13"},{id:14,icon:"dessert14"},{id:15,icon:"dessert15"},{id:16,icon:"dessert16"},{id:17,icon:"dessert17"},{id:18,icon:"dessert18"},{id:19,icon:"dessert19"},{id:20,icon:"dessert20"},{id:21,icon:"dessert21"},{id:22,icon:"dessert22"},{id:23,icon:"dessert23"},{id:24,icon:"dessert24"},{id:25,icon:"dessert25"},{id:26,icon:"dessert26"},{id:27,icon:"dessert27"},{id:28,icon:"dessert28"},{id:29,icon:"dessert29"},{id:30,icon:"dessert30"},{id:31,icon:"dessert31"},{id:32,icon:"dessert32"},{id:33,icon:"dessert33"},{id:34,icon:"dessert34"},{id:35,icon:"dessert35"},{id:36,icon:"dessert36"},{id:37,icon:"dessert37"}]),i("cfg_icon_fruit",[{id:1,icon:"fruit1"},{id:2,icon:"fruit2"},{id:3,icon:"fruit3"},{id:4,icon:"fruit4"},{id:5,icon:"fruit5"},{id:6,icon:"fruit6"},{id:7,icon:"fruit7"},{id:8,icon:"fruit8"},{id:9,icon:"fruit9"},{id:10,icon:"fruit10"},{id:11,icon:"fruit11"},{id:12,icon:"fruit12"},{id:13,icon:"fruit13"},{id:14,icon:"fruit14"},{id:15,icon:"fruit15"},{id:16,icon:"fruit16"},{id:17,icon:"fruit17"},{id:18,icon:"fruit18"},{id:19,icon:"fruit19"},{id:20,icon:"fruit20"},{id:21,icon:"fruit21"},{id:22,icon:"fruit22"},{id:23,icon:"fruit23"},{id:24,icon:"fruit24"},{id:25,icon:"fruit25"},{id:26,icon:"fruit26"},{id:27,icon:"fruit27"},{id:28,icon:"fruit28"},{id:29,icon:"fruit29"},{id:30,icon:"fruit30"},{id:31,icon:"fruit31"},{id:32,icon:"fruit32"},{id:33,icon:"fruit33"},{id:34,icon:"fruit34"},{id:35,icon:"fruit35"},{id:36,icon:"fruit36"},{id:37,icon:"fruit37"},{id:38,icon:"fruit38"},{id:39,icon:"fruit39"}]),i("cfg_icon_snack",[{id:1,icon:"snack1"},{id:2,icon:"snack2"},{id:3,icon:"snack3"},{id:4,icon:"snack4"},{id:5,icon:"snack5"},{id:6,icon:"snack6"},{id:7,icon:"snack7"},{id:8,icon:"snack8"},{id:9,icon:"snack9"},{id:10,icon:"snack10"},{id:11,icon:"snack11"},{id:12,icon:"snack12"},{id:13,icon:"snack13"},{id:14,icon:"snack14"},{id:15,icon:"snack15"},{id:16,icon:"snack16"},{id:17,icon:"snack17"},{id:18,icon:"snack18"},{id:19,icon:"snack19"},{id:20,icon:"snack20"},{id:21,icon:"snack21"},{id:22,icon:"snack22"},{id:23,icon:"snack23"},{id:24,icon:"snack24"},{id:25,icon:"snack25"},{id:26,icon:"snack26"},{id:27,icon:"snack27"},{id:28,icon:"snack28"}]);c._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_level.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"589e3TdcuNGWZgjWDycD6B7","cfg_level",void 0);e("cfg_level_fruit",[{id:1,group:4,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[0,1,1],[1,0,1],[1,1,0]]},{id:2,group:15,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:3,group:25,time:250,GoodsTypeCnt:11,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:4,group:50,time:270,GoodsTypeCnt:11,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1]]},{id:5,group:55,time:300,GoodsTypeCnt:12,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:6,group:41,time:300,GoodsTypeCnt:12,lockCnt:1,shelveMap:[[0,0,0],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:7,group:46,time:300,GoodsTypeCnt:13,lockCnt:0,shelveMap:[[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:8,group:51,time:300,GoodsTypeCnt:13,lockCnt:3,shelveMap:[[1,1,1],[0,1,0],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:9,group:56,time:300,GoodsTypeCnt:14,lockCnt:2,shelveMap:[[1,1,1],[0,1,1],[0,1,1],[1,1,0],[1,1,0],[1,1,1]]},{id:10,group:65,time:300,GoodsTypeCnt:15,lockCnt:4,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:11,group:66,time:280,GoodsTypeCnt:21,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[0,1,0],[1,1,1],[1,1,1]]},{id:12,group:71,time:300,GoodsTypeCnt:22,lockCnt:1,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,0,1],[1,1,1],[1,1,1]]},{id:13,group:76,time:315,GoodsTypeCnt:23,lockCnt:3,shelveMap:[[1,1,1],[1,1,0],[1,1,0],[1,1,0],[1,1,0],[1,1,1]]},{id:14,group:81,time:335,GoodsTypeCnt:24,lockCnt:0,shelveMap:[[1,1,1],[0,1,0],[0,1,0],[1,1,1],[1,1,1],[1,1,1]]},{id:15,group:96,time:390,GoodsTypeCnt:25,lockCnt:4,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:16,group:91,time:375,GoodsTypeCnt:26,lockCnt:0,shelveMap:[[0,0,0],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:17,group:96,time:400,GoodsTypeCnt:27,lockCnt:1,shelveMap:[[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:18,group:101,time:420,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[0,1,0],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:19,group:100,time:410,GoodsTypeCnt:29,lockCnt:3,shelveMap:[[1,1,1],[0,1,1],[0,1,1],[1,1,0],[1,1,0],[1,1,1]]},{id:20,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:21,group:100,time:410,GoodsTypeCnt:30,lockCnt:3,shelveMap:[[0,0,0],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:22,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:23,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[1,0,1],[0,1,0],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:24,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[0,1,1],[0,1,1],[1,1,0],[1,1,0],[1,1,1]]},{id:25,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:26,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:27,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,1],[0,1,1],[1,1,1],[1,1,0],[1,1,1],[1,1,1]]},{id:28,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[1,1,0],[0,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:29,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:30,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,0,1],[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1]]},{id:31,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[1,1,1],[0,1,1],[1,1,1],[1,1,0],[1,1,1],[0,1,1]]},{id:32,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[0,1,1],[1,1,0],[0,1,1],[1,1,1],[1,1,0]]},{id:33,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,1,1],[1,1,1],[1,1,1]]},{id:34,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:35,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1],[1,0,1]]}]),e("cfg_level_dessert",[{id:1,group:4,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[0,1,0],[1,1,1],[0,0,0]]},{id:2,group:15,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[1,1,1],[1,0,1],[1,0,1]]},{id:3,group:25,time:250,GoodsTypeCnt:11,lockCnt:0,shelveMap:[[1,1,1],[1,0,1],[1,1,1]]},{id:4,group:50,time:270,GoodsTypeCnt:11,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,1,1]]},{id:5,group:55,time:300,GoodsTypeCnt:12,lockCnt:1,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[0,1,0]]},{id:6,group:41,time:300,GoodsTypeCnt:12,lockCnt:1,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,1,1]]},{id:7,group:46,time:300,GoodsTypeCnt:13,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:8,group:51,time:300,GoodsTypeCnt:13,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[0,1,0]]},{id:9,group:56,time:300,GoodsTypeCnt:14,lockCnt:2,shelveMap:[[1,1,1],[1,0,1],[1,1,1],[1,1,1],[1,1,1]]},{id:10,group:65,time:300,GoodsTypeCnt:15,lockCnt:3,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:11,group:66,time:280,GoodsTypeCnt:21,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:12,group:71,time:300,GoodsTypeCnt:22,lockCnt:1,shelveMap:[[1,1,1],[1,0,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:13,group:76,time:315,GoodsTypeCnt:23,lockCnt:3,shelveMap:[[1,0,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1],[1,1,1]]},{id:14,group:81,time:335,GoodsTypeCnt:24,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[0,1,0],[1,1,1],[0,1,0],[1,1,1]]},{id:15,group:96,time:390,GoodsTypeCnt:25,lockCnt:4,shelveMap:[[0,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,0]]},{id:16,group:91,time:375,GoodsTypeCnt:26,lockCnt:0,shelveMap:[[1,1,1],[0,1,1],[1,1,1],[1,1,0],[1,1,1],[0,1,1]]},{id:17,group:96,time:400,GoodsTypeCnt:27,lockCnt:1,shelveMap:[[1,1,0],[1,1,1],[1,1,0],[0,1,1],[1,1,1],[0,1,1]]},{id:18,group:101,time:420,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:19,group:100,time:410,GoodsTypeCnt:29,lockCnt:4,shelveMap:[[1,0,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,0,1]]},{id:20,group:105,time:410,GoodsTypeCnt:30,lockCnt:5,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:21,group:100,time:410,GoodsTypeCnt:30,lockCnt:3,shelveMap:[[1,1,1],[1,1,1],[1,1,0],[0,1,1],[1,1,1],[1,1,1]]},{id:22,group:100,time:410,GoodsTypeCnt:30,lockCnt:3,shelveMap:[[0,1,0],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[0,1,0]]},{id:23,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[1,1,1],[1,1,1],[1,1,0],[0,1,1],[1,1,1],[1,1,1]]},{id:24,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,0,1],[1,0,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:25,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,0,1],[1,1,1],[0,1,0],[0,1,0],[1,1,1],[1,1,1]]},{id:26,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[1,1,1],[0,1,1],[1,1,1],[1,1,0],[1,1,1],[1,1,1]]},{id:27,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[0,0,0],[1,1,1],[1,1,1],[1,1,1]]},{id:28,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:29,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,0],[0,1,1],[1,1,1],[1,1,1],[1,1,0],[0,1,1]]},{id:30,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[0,1,1],[1,0,1],[1,1,1],[1,1,1],[1,0,1],[1,1,1]]},{id:31,group:100,time:410,GoodsTypeCnt:30,lockCnt:1,shelveMap:[[0,0,0],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:32,group:100,time:410,GoodsTypeCnt:30,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[0,0,0]]},{id:33,group:100,time:410,GoodsTypeCnt:30,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:34,group:100,time:410,GoodsTypeCnt:30,lockCnt:3,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:35,group:105,time:410,GoodsTypeCnt:30,lockCnt:4,shelveMap:[[1,1,1],[0,1,1],[1,1,1],[1,1,0],[1,1,1],[0,1,1]]}]),e("cfg_level_snack",[{id:1,group:4,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[0,1,1],[1,2,1],[1,1,0]]},{id:2,group:15,time:210,GoodsTypeCnt:10,lockCnt:0,shelveMap:[[1,1,1],[1,2,1],[1,0,1],[1,0,1],[1,0,1],[1,2,1]]},{id:3,group:25,time:250,GoodsTypeCnt:11,lockCnt:0,shelveMap:[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]]},{id:4,group:50,time:270,GoodsTypeCnt:11,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,2,1],[1,0,1],[1,0,1]]},{id:5,group:55,time:300,GoodsTypeCnt:12,lockCnt:2,shelveMap:[[2,1,1],[1,0,1],[1,0,1],[1,0,2],[1,0,1],[2,1,1]]},{id:6,group:41,time:300,GoodsTypeCnt:12,lockCnt:1,shelveMap:[[0,0,0],[1,1,1],[1,0,1],[1,0,1],[1,1,1],[1,1,1]]},{id:7,group:46,time:300,GoodsTypeCnt:13,lockCnt:0,shelveMap:[[1,1,1],[1,0,1],[1,2,1],[1,2,1],[1,0,1],[1,1,1]]},{id:8,group:51,time:300,GoodsTypeCnt:13,lockCnt:3,shelveMap:[[1,2,1],[0,1,0],[1,1,1],[1,2,1],[1,1,1],[1,1,1]]},{id:9,group:56,time:300,GoodsTypeCnt:14,lockCnt:2,shelveMap:[[1,2,1],[0,1,1],[0,1,1],[1,2,0],[1,1,0],[1,2,1]]},{id:10,group:65,time:300,GoodsTypeCnt:15,lockCnt:3,shelveMap:[[1,0,1],[1,2,1],[1,0,1],[1,2,1],[1,0,1],[1,1,1]]},{id:11,group:66,time:280,GoodsTypeCnt:21,lockCnt:0,shelveMap:[[1,1,1],[1,2,1],[1,1,1],[0,1,0],[1,1,1],[1,1,1]]},{id:12,group:71,time:300,GoodsTypeCnt:22,lockCnt:1,shelveMap:[[1,0,1],[2,1,2],[1,0,1],[1,1,1],[1,0,1],[1,1,1]]},{id:13,group:76,time:315,GoodsTypeCnt:23,lockCnt:3,shelveMap:[[1,1,2],[1,1,0],[1,1,0],[2,1,0],[1,1,0],[1,1,1]]},{id:14,group:81,time:335,GoodsTypeCnt:24,lockCnt:0,shelveMap:[[1,1,1],[0,2,0],[0,1,0],[0,2,0],[1,1,1],[1,2,1]]},{id:15,group:96,time:390,GoodsTypeCnt:25,lockCnt:3,shelveMap:[[0,1,1],[0,1,1],[1,2,0],[1,1,0],[1,1,1],[1,1,1]]},{id:16,group:91,time:375,GoodsTypeCnt:26,lockCnt:0,shelveMap:[[0,0,0],[1,2,1],[1,0,1],[2,0,2],[1,1,1],[1,1,1]]},{id:17,group:96,time:400,GoodsTypeCnt:27,lockCnt:1,shelveMap:[[1,2,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,2,1]]},{id:18,group:101,time:420,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[0,1,0],[1,1,1],[1,0,1],[1,1,1],[1,1,1]]},{id:19,group:100,time:410,GoodsTypeCnt:28,lockCnt:3,shelveMap:[[1,1,1],[0,2,1],[0,2,1],[1,1,0],[1,1,0],[1,1,1]]},{id:20,group:105,time:410,GoodsTypeCnt:28,lockCnt:1,shelveMap:[[1,1,1],[1,0,1],[1,2,1],[1,0,1],[1,2,1],[1,1,1]]},{id:21,group:100,time:410,GoodsTypeCnt:28,lockCnt:3,shelveMap:[[0,0,0],[1,1,1],[1,0,1],[1,0,1],[1,2,1],[1,1,1]]},{id:22,group:100,time:410,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[2,0,2],[1,0,1],[1,0,1],[1,2,1],[1,1,1]]},{id:23,group:100,time:410,GoodsTypeCnt:28,lockCnt:1,shelveMap:[[1,0,1],[0,1,0],[1,2,1],[1,0,1],[1,0,1],[1,1,1]]},{id:24,group:100,time:410,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[0,1,1],[0,1,1],[1,1,0],[1,1,0],[1,1,1]]},{id:25,group:105,time:410,GoodsTypeCnt:28,lockCnt:3,shelveMap:[[1,0,1],[1,0,1],[1,2,1],[1,2,1],[1,0,1],[1,0,1]]},{id:26,group:100,time:410,GoodsTypeCnt:28,lockCnt:1,shelveMap:[[0,0,1],[1,2,1],[1,1,1],[1,1,1],[1,2,1],[1,0,0]]},{id:27,group:100,time:410,GoodsTypeCnt:28,lockCnt:2,shelveMap:[[1,1,1],[0,1,1],[1,1,2],[2,1,2],[0,1,1],[1,0,1]]},{id:28,group:100,time:410,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[1,1,0],[0,1,1],[1,1,0],[1,1,1],[1,1,1]]},{id:29,group:100,time:410,GoodsTypeCnt:28,lockCnt:2,shelveMap:[[1,1,1],[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]]},{id:30,group:105,time:410,GoodsTypeCnt:28,lockCnt:3,shelveMap:[[1,0,1],[1,1,2],[1,0,2],[2,0,1],[2,0,1],[1,1,1]]},{id:31,group:100,time:410,GoodsTypeCnt:28,lockCnt:1,shelveMap:[[1,1,0],[0,2,0],[1,1,1],[1,1,0],[0,2,1],[0,1,1]]},{id:32,group:100,time:410,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[1,1,1],[0,2,1],[1,2,0],[0,1,1],[1,2,1],[1,1,0]]},{id:33,group:100,time:410,GoodsTypeCnt:28,lockCnt:2,shelveMap:[[1,0,1],[1,0,1],[1,2,1],[1,0,1],[1,0,1],[1,1,1]]},{id:34,group:100,time:410,GoodsTypeCnt:28,lockCnt:0,shelveMap:[[0,2,0],[2,0,2],[1,2,1],[1,1,1],[1,1,1],[1,1,1]]},{id:35,group:105,time:410,GoodsTypeCnt:28,lockCnt:4,shelveMap:[[1,2,1],[1,2,1],[1,2,1],[1,0,1],[0,2,0],[1,0,1]]}]);o._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_passReward.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d2576gg+39CgpNSYy24NLn8","cfg_passReward",void 0);t("CfgPassReward",[{id:0,itemId:0,cnt:100,weight:30},{id:1,itemId:0,cnt:200,weight:20},{id:2,itemId:1,cnt:1,weight:10},{id:3,itemId:2,cnt:1,weight:15},{id:4,itemId:3,cnt:1,weight:15},{id:4,itemId:4,cnt:1,weight:10}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/CfgCombo.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"060b37UrIZGjLWVUacodUnI","CfgCombo",void 0);i("CfgCombo",[{id:0,durarion:-1,icon:-1},{id:1,durarion:8,icon:-1},{id:2,durarion:7,icon:-1},{id:3,durarion:6,icon:-1},{id:4,durarion:5,icon:0},{id:5,durarion:4,icon:1},{id:6,durarion:3,icon:3},{id:7,durarion:2,icon:4},{id:8,durarion:1,icon:5}]);o._RF.pop()}}}));

System.register("chunks:///_virtual/CfgItem.ts",["cc","./Bundle.ts","./ItemType.ts","./SkillType.ts"],(function(e){var n,i,t,l;return{setters:[function(e){n=e.cclegacy},function(e){i=e.Bundle},function(e){t=e.ItemType},function(e){l=e.SkillType}],execute:function(){n._RF.push({},"2ef25I11RRIUrJ+H0hYm0Ro","CfgItem",void 0);e("CfgItem",[{id:0,name:"Star Coin",type:t.Coin,bundle:i.Icon,icon:"Item/icon_star"},{id:1,name:"Freeze Item",type:t.Skill,skillType:l.FreezeTime,bundle:i.Icon,icon:"Item/icon_freeze"},{id:2,name:"Clear Item",type:t.Skill,skillType:l.EraseGroup,bundle:i.Icon,icon:"Item/icon_tips"},{id:3,name:"Refresh",type:t.Skill,skillType:l.RefreshPosition,bundle:i.Icon,icon:"Item/icon_refresh"},{id:4,name:"Star Double",type:t.Skill,skillType:l.DoubleCoin,bundle:i.Icon,icon:"Item/icon_double"}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgLoginReward.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"a7a37hutLVCuY7vo6dP1uSM","CfgLoginReward",void 0);t("CfgLoginReward",[{id:0,itemId:0,cnt:100},{id:1,itemId:1,cnt:1},{id:2,itemId:2,cnt:1},{id:3,itemId:3,cnt:1},{id:4,itemId:4,cnt:1}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/CfgLuckySpin.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"ed4fct49zJCbqBkrPRyAKAX","CfgLuckySpin",void 0);t("CfgLuckySpin",[{id:0,itemId:3,cnt:1},{id:1,itemId:0,cnt:400},{id:2,itemId:4,cnt:1},{id:3,itemId:0,cnt:200},{id:4,itemId:1,cnt:1},{id:5,itemId:2,cnt:1}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/CfgMgr.ts",["cc","./Debug2.ts"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.Debug}],execute:function(){e._RF.push({},"8f0fcdZNgJLlbkVxJmLK0oC","CfgMgr",void 0);class s{static addCfgData(t,e){if(null==t||!this.CfgDataList.has(t))return void a.info("Error: The config isn't exist"+t);let s=this.CfgData.get(t),i=this.CfgDataList.get(t);e.forEach((e=>{if(e.hasOwnProperty("Id")){let t=e.Id;s[t]=e,i.push(e)}else a.info("The Config Id Field Error:",t)}))}static setCfgData(t,e){let s={},i=[];e.forEach((e=>{if(e.hasOwnProperty("Id")){let t=e.Id;s[t]=e,i.push(e)}else a.info("The Config Id Field Error:",t)})),this.CfgData.set(t,s),this.CfgDataList.set(t,i)}static getCfgData(t){let e=t.ClassName;return this.CfgData.has(e)?this.CfgData.get(e):(a.info("Error: the config doesn't exist "+e),null)}static hasCfg(t){return!!this.CfgData.has(t)}static getCfgDataArray(t){let e=t.ClassName;return null!=e&&this.CfgDataList.has(e)?this.CfgDataList.get(e):(a.info("Error: the config doesn't exist"+e),null)}static getDataById(t,e){let s=t.ClassName,i=null;if(this.CfgData.has(s)){let t=this.CfgData.get(s);t[e]?i=t[e]:a.info(s+":The ID doesn't exist"+e)}else a.info(s+":The Config doesn't exist"+e);return i}static clearByKey(t){this.CfgData.delete(t),this.CfgDataList.delete(t)}}t("CfgMgr",s),s.CfgData=new Map,s.CfgDataList=new Map,e._RF.pop()}}}));

System.register("chunks:///_virtual/CfgSkillInfo.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"25e99peI09FgoTilgJMTZp7","CfgSkillInfo",void 0);e("CfgSkillInfo",[{id:0,name:"Freeze",desc:"Freeze time for 30s",icon:"Item/icon_freeze"},{id:1,name:"Clear",desc:"Instantly eliminate 3 sets of Goods",icon:"Item/icon_clear"},{id:2,name:"Refresh",desc:"Reset all Goods positions",icon:"Item/icon_refresh"},{id:3,name:"Double",desc:"Double stars for 30s",icon:"Item/icon_double"}]);o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./LabelTick.ts","./AudioManager.ts","./EventMgr.ts"],(function(t){var i,e,n,o,s,a,c,r,l,h,d,u,p,m,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Sprite,s=t._decorator,a=t.Component,c=t.UITransform,r=t.math,l=t.tween,h=t.v3,d=t.Node},function(t){u=t.EventType},function(t){p=t.LabelTick},function(t){m=t.AudioManager},function(t){C=t.EventMgr}],execute:function(){var b,f,I,v,y,g,k;n._RF.push({},"ba1e8WE9+NIHrdCxS+UDi3T","CoinItem",void 0);const{ccclass:S,property:T}=s;t("CoinItem",(b=S("UIItem/CoinItem"),f=T(p),I=T(o),b((g=i((y=class extends a{constructor(){super(...arguments),e(this,"labelTick",g,this),e(this,"starIcon",k,this),this.coin=0}get Coin(){return this.coin}onLoad(){C.emit(u.CoinItemShow,this),C.on(u.CoinItemShow,this.onShow,this),C.on(u.CoinItemHide,this.onHide,this),C.on(u.UpdateCoin,this.updateCoin,this)}onDisable(){this.unscheduleAllCallbacks()}onDestroy(){C.emit(u.CoinItemHide,this),this.unscheduleAllCallbacks(),C.off(u.UpdateCoin,this.updateCoin,this),C.off(u.CoinItemShow,this.onShow,this),C.off(u.CoinItemHide,this.onHide,this)}onShow(t){this!==t&&(this.node.active=!1)}onHide(t){this!==t&&(this.node.active=!0,this.init(t.coin))}init(t){this.coin=t,this.labelTick.init(t)}updateCoin(t,i,e){if(void 0===i&&(i=!0),void 0===e&&(e=null),!this.node.active)return;this.coin=t;let n=0;if(i){let i=this.node.parent.getComponent(c).convertToNodeSpaceAR(e);m.instance.playSound("Good|coin"),this.schedule((()=>{2==n&&this.labelTick.tickLabel(t),n++;const e=this.createFlyCoin(i.x,i.y),o=r.randomRangeInt(-50,50),s=r.randomRangeInt(-100,-50),a=l(e);a.to(.5,{position:h(i.x+o,i.y+s)},{easing:"cubicOut"}),a.to(1,{position:this.node.position},{easing:"backIn"}),a.call((()=>{m.instance.playSound("Good|coin1"),e.destroy()})),a.start()}),.1,5)}else this.labelTick.tickLabel(t)}createFlyCoin(t,i){void 0===t&&(t=0),void 0===i&&(i=0);const e=new d;return e.addComponent(o).spriteFrame=this.starIcon.spriteFrame,e.setPosition(t,i),this.node.parent.addChild(e),e}}).prototype,"labelTick",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(y.prototype,"starIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinMode.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"f5935e0/B9JB7tJDwsoQt7Z","CoinMode",void 0);t("CoinObj",class{constructor(){this.pos=void 0,this.num=void 0}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/ComboBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalGood.ts","./CfgCombo.ts","./GameMgr.ts"],(function(t){var o,e,r,s,i,a,n,c,u,p,l,b,m,C,h,g,d;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.ProgressBar,i=t.Label,a=t.SpriteFrame,n=t._decorator,c=t.Component,u=t.math,p=t.Node,l=t.Sprite,b=t.UIOpacity,m=t.tween,C=t.v3},function(t){h=t.GlobalGood},function(t){g=t.CfgCombo},function(t){d=t.GameMgr}],execute:function(){var f,y,x,B,v,F,G,S,w;r._RF.push({},"1a636bqqvNIVLiFggCWLIF0","ComboBox",void 0);const{ccclass:P,property:_}=n;t("ComboBox",(f=P("Game/ComboBox"),y=_(s),x=_(i),B=_({type:[a]}),f((G=o((F=class extends c{constructor(){super(...arguments),e(this,"progressBar",G,this),e(this,"lbCombo",S,this),e(this,"textSpriteframes",w,this),this.curCombo=0,this.speed=0}get CurCombo(){return this.curCombo}set CurCombo(t){if(this.curCombo=u.clamp(t,0,h.Max_Combo),this.node.active=this.curCombo>0,this.curCombo<=0)return;this.lbCombo.string=`x${this.curCombo}`;const o=g[this.curCombo],{durarion:e}=o;this.speed=1/e,this.progressBar.progress=1}start(){this.CurCombo=0}update(t){d.Pause||this.curCombo<=0||(this.progressBar.progress=u.clamp(this.progressBar.progress-this.speed*t,0,1),this.progressBar.progress<=0&&(this.CurCombo=0))}createFloatText(t){const o=new p,e=o.addComponent(l),r=o.addComponent(b),s=g[this.curCombo],{icon:i}=s;if(-1==i)return;e.spriteFrame=this.textSpriteframes[i],this.node.parent.addChild(o),o.setWorldPosition(t);const a=m(o);a.set({scale:C(.5,.5,1)}),a.to(.5,{scale:C(1,1,1)},{easing:"backOut"}),a.by(.5,{position:C(0,50,0)},{easing:"sineOut"}),a.call((()=>{o.destroy()})),a.start(),m(r).delay(.5).to(.5,{opacity:0},{easing:"sineOut"}).start()}}).prototype,"progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=o(F.prototype,"lbCombo",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(F.prototype,"textSpriteframes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=F))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ComboMgr.ts",["cc","./GlobalGood.ts","./TimeMgr.ts"],(function(o){var t,c,r,e;return{setters:[function(o){t=o.cclegacy,c=o.math},function(o){r=o.GlobalGood},function(o){e=o.TimeMgr}],execute:function(){t._RF.push({},"38825EzCa9FqoD1mea+PnT+","ComboMgr",void 0);class s{static get CurCombo(){return this.curCombo}static set CurCombo(o){this.curCombo=c.clamp(o,0,r.Max_Combo),e.delay()}}o("ComboMgr",s),s.curCombo=0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ComLoadingPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./EventListener.ts","./GameEvent.ts"],(function(n){var e,o,t,i,s,a,r,c,p,l,u,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.initializerDefineProperty},function(n){t=n.cclegacy,i=n.Node,s=n._decorator,a=n.Component,r=n.tween,c=n.v3},function(n){p=n.Constants},function(n){l=n.OpenPopupManager},function(n){u=n.EventListener},function(n){d=n.GameEvent}],execute:function(){var g,h,f,L,P;t._RF.push({},"b17377Nc3VGG7+PGMT/Dk6/","ComLoadingPopup",void 0);const{ccclass:m,property:v}=s;n("ComLoadingPopup",(g=m("ComLoadingPopup"),h=v(i),g((P=e((L=class extends a{constructor(){super(...arguments),o(this,"loading",P,this)}show(){let n=this.loading.children.length;for(let e=0;e<this.loading.children.length;e++){let o=this.loading.children[e];r(o).sequence(r().delay(.2*e),r().to(.2,{position:c(o.position.x,20,0)},{easing:"circInOut"}),r().to(.2,{position:c(o.position.x,0,0)},{easing:"circInOut"}),r().delay(.2*(n-e))).repeatForever().start()}this.scheduleOnce((()=>{this.onHideLoading()}),10)}onHideLoading(){l.instance.hide(p.PopupUI.ComLoadingPopup)}onEnable(){u.on(d.HIDE_LOADING,this.onHideLoading,this)}onDisable(){u.off(d.HIDE_LOADING,this.onHideLoading,this)}}).prototype,"loading",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=L))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonShelve.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./ResMgr.ts","./Bundle.ts","./Goods.ts","./EventMgr.ts","./EventType.ts","./ArrayUtil.ts","./ShelveBase.ts","./GlobalGood.ts"],(function(e){var t,o,s,n,r,i,l,a,h,c,d,u,y,p,g,f,G,m,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.Node,r=e._decorator,i=e.macro,l=e.UITransform,a=e.v3,h=e.Vec3,c=e.instantiate},function(e){d=e.GameMgr},function(e){u=e.ResMgr},function(e){y=e.Bundle},function(e){p=e.Goods},function(e){g=e.EventMgr},function(e){f=e.EventType},function(e){G=e.ArrayUtil},function(e){m=e.ShelveBase},function(e){M=e.GlobalGood}],execute:function(){var v,C,S,I,b;s._RF.push({},"c4b03kxYIhAk6EWMObd6B3R","CommonShelve",void 0);const{ccclass:E,property:P}=r;e("CommonShelve",(v=E("Game/CommonShelve"),C=P([n]),v((b=t((I=class extends m{constructor(){super(...arguments),o(this,"layers",b,this),this.layer0GoodsMap=new Map}get isEmpty(){for(let e=0;e<this.layers.length;e++){if(this.layers[e].children.length>0)return!1}return!0}onLoad(){super.onLoad(),d.shelveArr.push(this)}start(){super.start(),this.init(),this.schedule(this.onTrySupplyGoods,.25,i.REPEAT_FOREVER),this.schedule(this.onCheckMerge,.15,i.REPEAT_FOREVER)}init(e){void 0===e&&(e=0),this.createLayerGoods(0,e),this.createLayerGoods(1,e)}createLayerGoods(e,t){void 0===t&&(t=0);const o=d.goodsData[this.id];for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const n=o[s];if(n.length<=0)continue;const r=n.shift();if(-1===r)continue;this.createGoods(r,Number(s),e).bounce(t)}}onTrySupplyGoods(){const e=this.layers[0],t=this.layers[1];if(e.children.length<=0){const t=this.layers[1].getComponentsInChildren(p);for(let o=0;o<t.length;o++){const s=t[o],n=s.node.getPosition();s.Layer=0,s.node.setParent(e),n.y-=M.Goods_Offset,s.node.setPosition(n),this.layer0GoodsMap.set(s.Slot,s.Id),s.bounce()}}t.children.length<=0&&this.createLayerGoods(1,0)}getSlot(e){const t=[],o=.5*this.getComponent(l).width/3,s=[a(-o,0,0),a(0,0,0),a(o,0,0)];for(let o=0;o<s.length;o++){const n=s[o],r=h.distance(e,n);t.push({slotId:o,dis:r})}t.sort(((e,t)=>e.dis-t.dis));for(let e=0;e<t.length;e++){const o=t[e].slotId;if(!this.isSlotOccupied(o))return o}return-1}createGoods(e,t,o){const s=u.getRes(y.Game,"Goods",y.GamePath),n=c(s),r=n.getComponent(p),i=this.layers[o],h=a();return h.x=(t-1)*(this.getComponent(l).width-10)/3,h.y=o*M.Goods_Offset,i.addChild(n),n.setPosition(h),r.Id=e,r.Layer=o,r.Slot=t,0===o&&this.layer0GoodsMap.set(t,e),r}isSlotOccupied(e){return this.layer0GoodsMap.has(e)}isAllSlotOccupied(){return 3===this.layer0GoodsMap.size}placeGoods(e,t){this.createGoods(e,t,0).bounce()}onPlaceGoods(){const e=this.layers[0].getComponentsInChildren(p);for(let t=0;t<e.length;t++){const o=e[t];o.Visible||(o.node.destroy(),this.layer0GoodsMap.delete(o.Slot))}}onCheckMerge(){if(this.layer0GoodsMap.size<3)return;const e=this.layers[0].getComponentsInChildren(p);if(G.isAllSame(e,"Id")){for(let t=0;t<e.length;t++){e[t].remove()}this.layer0GoodsMap.clear(),g.emit(f.MergeGoods,this.node.getWorldPosition())}}get GoodsIdArr(){const e=[];for(let t=0;t<this.layers.length;t++){const o=this.layers[t].getComponentsInChildren(p);for(let t=0;t<o.length;t++){const s=o[t];e.push(s.Id)}}return e}get GoodsInfo(){const e={};for(let t=0;t<this.layers.length;t++){const o=this.layers[t];e.hasOwnProperty(t)||(e[t]={});const s=o.getComponentsInChildren(p);for(let o=0;o<s.length;o++){const n=s[o],{Slot:r,Id:i}=n;e[t][r]=n}}return e}clear(){this.layer0GoodsMap.clear();for(let e=0;e<this.layers.length;e++){this.layers[e].destroyAllChildren()}}removeGoods(e){const{Layer:t,Slot:o}=e;0===t&&this.layer0GoodsMap.delete(o),e.remove()}}).prototype,"layers",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=I))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/ComRewardAnimPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CoinMode.ts","./ResourcesUtil.ts","./ItemCfg.ts","./OpenPopupManager.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var e,n,o,i,s,a,r,c,l,u,h,m,p,d,g,f,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,s=t._decorator,a=t.Component,r=t.UITransform,c=t.instantiate,l=t.tween,u=t.v3},function(t){h=t.Constants},function(t){m=t.CoinObj},function(t){p=t.ResourcesUtil},function(t){d=t.ItemIdType},function(t){g=t.OpenPopupManager},function(t){f=t.EventListener},function(t){P=t.GameEvent}],execute:function(){var y,A,b,C,I,M,R,w,G,T,v;o._RF.push({},"9588bqcWnBCW5tA8SUq3myV","ComRewardAnimPopup",void 0);const{ccclass:E,property:D}=s;t("ComRewardAnimPopup",(y=E("ComRewardAnimPopup"),A=D(i),b=D(i),C=D(i),I=D(i),y((w=e((R=class extends a{constructor(){super(...arguments),n(this,"gold",w,this),n(this,"usdt",G,this),n(this,"gem",T,this),n(this,"candy",v,this)}show(t,e){let n=0,o=0,i=0,s=0;for(let e=0;e<t.length;e++){const a=t[e];switch(a.itemId){case d.Gold:i+=a.count;break;case d.Candy:s+=a.count;break;case d.GEM:n+=a.count;break;case d.USDT:o+=a.count}}if(i>0){let t=new m;t.pos=e,t.num=i,this.onGameGold(t)}if(n>0){let t=new m;t.pos=e,t.num=o,this.onGameGem(t)}if(s>0){let t=new m;t.pos=e,t.num=s,this.onGameCandy(t)}if(o>0){let t=new m;t.pos=e,t.num=o,this.onGameUsdt(t)}0==i&&0==o&&0==n&&0==s&&this.close()}checkAutoClose(){this.scheduleOnce((()=>{this.gem.parent.children.length+this.gold.parent.children.length+this.usdt.parent.children.length+this.candy.parent.children.length<=4&&this.close()}),.1)}close(){g.instance.hide(h.PopupUI.ComRewardAnimPopup)}onGameGold(t){let e=this.gold.getPosition(),n=Math.min(10,t.num),o=t.pos,i=h.commonPrefabPath+"goldItem",s=this.gold.parent.getComponent(r).convertToNodeSpaceAR(o);p.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=c(t),a=2*(Math.random()-.5)*50+s.x,r=2*(Math.random()-.5)*100+s.y;i.parent=this.gold.parent,i.setPosition(s),this.scheduleOnce((()=>{l(i).to(.2,{position:u(a,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&o!=n-2||f.emit(P.UPDATE_PLAYER_DATA,"gold"),this.checkAutoClose()})).start()}),.05+.05*o)}}))}onGameGem(t){let e=this.gem.getPosition(),n=Math.min(t.num,10);n=n>5?10:5;let o=t.pos,i=h.commonPrefabPath+"gemItem",s=this.gem.parent.getComponent(r).convertToNodeSpaceAR(o);p.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=c(t),a=2*(Math.random()-.5)*100+s.x,r=2*(Math.random()-.5)*50+s.y;i.parent=this.gem.parent,i.setPosition(s),this.scheduleOnce((()=>{l(i).to(.2,{position:u(a,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&o!=n-2||f.emit(P.UPDATE_PLAYER_DATA,"gem"),this.checkAutoClose()})).start()}),.05+.05*o)}}))}onGameCandy(t){let e=this.candy.getPosition(),n=Math.min(t.num,10),o=t.pos,i=h.commonPrefabPath+"candyItem",s=this.candy.parent.getComponent(r).convertToNodeSpaceAR(o);p.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=c(t),a=2*(Math.random()-.5)*100+s.x,r=2*(Math.random()-.5)*50+s.y;i.parent=this.candy.parent,i.setPosition(s),this.scheduleOnce((()=>{l(i).to(.2,{position:u(a,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&o!=n-2||f.emit(P.UPDATE_PLAYER_DATA,"candy"),this.checkAutoClose()})).start()}),.5+.05*o)}}))}onGameUsdt(t){let e=this.usdt.getPosition(),n=Math.min(t.num,10),o=t.pos,i=h.commonPrefabPath+"usdtItem",s=this.usdt.parent.getComponent(r).convertToNodeSpaceAR(o);p.getPrefab(i).then((t=>{for(let o=0;o<n;o++){let i=c(t),a=2*(Math.random()-.5)*100+s.x,r=2*(Math.random()-.5)*50+s.y;i.parent=this.usdt.parent,i.setPosition(s),this.scheduleOnce((()=>{l(i).to(.2,{position:u(a,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{i.destroy(),1!=n&&o!=n-2||f.emit(P.UPDATE_PLAYER_DATA,"usdt"),this.checkAutoClose()})).start()}),.5+.05*o)}}))}}).prototype,"gold",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(R.prototype,"usdt",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(R.prototype,"gem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(R.prototype,"candy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=R))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/ComRewardDoublePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpriteEx.ts","./ItemCfg.ts","./AudioManager.ts","./ItemData.ts"],(function(i){var t,e,n,o,r,a,s,l,u,c,p,d,h,m;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,o=i.Label,r=i.ParticleSystem2D,a=i.Node,s=i._decorator,l=i.Component},function(i){u=i.OpenPopupManager},function(i){c=i.Constants},function(i){p=i.SpriteEx},function(i){d=i.ItemIdType},function(i){h=i.AudioManager},function(i){m=i.ItemData}],execute:function(){var b,w,x,v,f,_,g,y,P,I,T,D,C,R,A,z,B;n._RF.push({},"31835Tm2DBEPr4ZbPiAK+M5","ComRewardDoublePopup",void 0);const{ccclass:M,property:S}=s;i("ComRewardDoublePopup",(b=M("ComRewardDoublePopup"),w=S(o),x=S(r),v=S(p),f=S(p),_=S(a),g=S(o),y=S(o),b((T=t((I=class extends l{constructor(){super(...arguments),e(this,"amountText",T,this),e(this,"rewardAnim",D,this),e(this,"rewardIcon",C,this),e(this,"icon",R,this),e(this,"claimBtn",A,this),e(this,"vipText",z,this),e(this,"inviteText",B,this),this.goldAmount=0,this._pos=void 0,this._claim=null,this._done=null,this._rewards=[]}show(i,t,e,n){h.instance.playSound("coin"),this._claim=e,this._pos=t,this._rewards=i,this._done=n,this._claim?(this.claimBtn.active=!0,this.vipText.node.active=!1,this.inviteText.node.active=!1):(this.claimBtn.active=!1,this.vipText.string="",this.inviteText.string="",this.vipText.node.active=!1,this.inviteText.node.active=!1);let o=i[0];o.itemId==d.Gold?(this.icon.index=0,this.rewardIcon.index=0):o.itemId==d.Candy?(this.icon.index=1,this.rewardIcon.index=1):o.itemId==d.GEM&&(this.icon.index=2,this.rewardIcon.index=2),this.amountText.string=m.instance.toNumber(o.itemId,o.count,2),this.rewardAnim.resetSystem()}onDoubleBtn(){this._claim(),u.instance.hide(c.PopupUI.ComRewardDoublePopup),u.instance.showRewardAnimPopup(this._rewards,this._pos)}onCloseBtn(){u.instance.hide(c.PopupUI.ComRewardDoublePopup),u.instance.showRewardAnimPopup(this._rewards,this._pos),this._done&&this._done()}}).prototype,"amountText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(I.prototype,"rewardAnim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(I.prototype,"rewardIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(I.prototype,"claimBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(I.prototype,"vipText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(I.prototype,"inviteText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=I))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/ComRewardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./RewardItem.ts","./ItemCfg.ts","./EventListener.ts","./GameEvent.ts","./CoinMode.ts"],(function(t){var e,n,i,o,r,s,a,l,c,u,p,h,d,m,f,w,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.ParticleSystem2D,r=t.Prefab,s=t.Node,a=t._decorator,l=t.Component,c=t.Vec3,u=t.instantiate},function(t){p=t.Constants},function(t){h=t.OpenPopupManager},function(t){d=t.RewardItem},function(t){m=t.ItemIdType},function(t){f=t.EventListener},function(t){w=t.GameEvent},function(t){C=t.CoinObj}],execute:function(){var P,g,_,b,y,R,v,B,I,k,D;i._RF.push({},"d6e04vKRHRKhIvli2i+akoG","ComRewardPopup",void 0);const{ccclass:E,property:G}=a;t("ComRewardPopup",(P=E("ComRewardPopup"),g=G(o),_=G(r),b=G(s),y=G(s),P((B=e((v=class extends l{constructor(){super(...arguments),n(this,"rewardAnim",B,this),n(this,"rewardPrefab",I,this),n(this,"content",k,this),n(this,"closeBtn",D,this),this._callBack=null,this._goldCount=0,this._animPos=null}show(t,e,n){this._callBack=n,this._goldCount=0,this._animPos=e;for(let e=0;e<t.length;e++){const n=t[e];n.itemId==m.Gold&&(this._goldCount+=n.count)}this.setContent(t),this.rewardAnim.resetSystem()}async setContent(t){this.content.removeAllChildren();let e=new c(0,0,0),n=t.length,i=n>=4?4:n;e.x=120*-(i-1)/2;for(let n=0;n<t.length;n++)await new Promise((o=>{this.scheduleOnce((()=>{const r=t[n];let s=u(this.rewardPrefab),a=new c(0,0,0),l=Math.floor(n/i),p=n%i;a.x=e.x+120*p,a.y=-120*l,s.parent=this.content,s.getComponent(d).init(r,!0),s.setPosition(a),o(0)}),.1)}))}onCloseBtn(){if(h.instance.hide(p.PopupUI.ComRewardPopup),this._animPos&&this._goldCount>0){let t=new C;t.pos=this._animPos,t.num=this._goldCount,f.emit(w.GET_GOLD_REWARD,t)}this._callBack&&this._callBack(this._goldCount>0)}}).prototype,"rewardAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"rewardPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"closeBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=v))||R));i._RF.pop()}}}));

System.register("chunks:///_virtual/ComTipsPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts"],(function(t){var i,e,o,n,s,l,r,c,p,a,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Label,s=t.RichText,l=t.Sprite,r=t.Node,c=t._decorator,p=t.Component},function(t){a=t.Constants},function(t){u=t.OpenPopupManager}],execute:function(){var h,d,b,f,m,C,P,g,B,_,y;o._RF.push({},"48119HxZClPQb78cKFTBbd6","ComTipsPopup",void 0);const{ccclass:T,property:v}=c;t("ComTipsPopup",(h=T("ComTipsPopup"),d=v(n),b=v(s),f=v(l),m=v(r),h((g=i((P=class extends p{constructor(){super(...arguments),e(this,"title",g,this),e(this,"desc",B,this),e(this,"icon",_,this),e(this,"closeBtn",y,this),this._callBack=void 0}show(t,i){this._callBack=i,this.desc.string=t.desc,t.title&&(this.title.string=t.title)}onCloseBtn(){u.instance.hide(a.PopupUI.ComTipsPopup),this._callBack&&this._callBack(!1)}onConfirmBtn(t){u.instance.hide(a.PopupUI.ComTipsPopup);let i=t.target.getWorldPosition();this._callBack&&this._callBack(!0,i)}}).prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(P.prototype,"desc",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(P.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(P.prototype,"closeBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));t("ComTipsObj",class{constructor(){this.title=void 0,this.desc=void 0,this.icon=void 0,this.hideClose=!1}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/ComTooltipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,s,l,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,r=e.Label,s=e._decorator,l=e.Component,c=e.Vec3,a=e.tween}],execute:function(){var u,p,m,d,f,h,b;n._RF.push({},"fa2bb63ef5Cjr9Z734lUPTe","ComTooltipItem",void 0);const{ccclass:w,property:y}=s;e("ComTooltipItem",(u=w("ComTooltipItem"),p=y(i),m=y(r),u((h=t((f=class extends l{constructor(){super(...arguments),o(this,"arrow",h,this),o(this,"desc",b,this)}init(e){this.desc.string=e,this.setAnim()}onCloseBtn(e){e.preventSwallow=!0,this.node.parent=null}setAnim(){this.node.scale=new c(0,0,0),a(this.node).to(.2,{scale:new c(1.1,1.1,1.1)}).to(.2,{scale:new c(1,1,1)}).start()}}).prototype,"arrow",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(f.prototype,"desc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigModel.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"674a5YS/ylO7KNMN6UmWS0U","ConfigModel",void 0);i("ConfigModel",class{constructor(){this.manifestUrl=void 0,this.network=void 0,this.walletAddress=void 0,this.usdtAddress=void 0,this.adId=void 0,this.zone=void 0,this.gameBot=void 0,this.adType=void 0,this.adTypes=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/Configuration.ts",["cc","./Constants.ts","./Util.ts"],(function(t){var a,s,n,e;return{setters:[function(t){a=t.cclegacy,s=t.sys},function(t){n=t.Constants},function(t){e=t.Util}],execute:function(){a._RF.push({},"8cb26FZvcBCFoeNEIZPrPgl","Configuration",void 0);class i{constructor(){this._jsonData={},this._markSave=!1}static get instance(){return this._instance||(this._instance=new i),this._instance}init(){let t=s.localStorage.getItem(n.gameConfigId);t&&t.startsWith("@")&&(t=t.substring(1),t=e.decrypt(t),this._jsonData=JSON.parse(t)),setInterval(this.scheduleData.bind(this),500)}clearConfigDataToVersion(){}clearByKey(t){this._jsonData.hasOwnProperty(t)&&(delete this._jsonData[t],this._markSave=!0)}clearConfigData(){s.localStorage.clear()}getConfigData(t){return this._jsonData[t]||null}setConfigData(t,a){this._jsonData[t]=a,this._markSave=!0}scheduleData(){if(!this._markSave)return;const t=JSON.stringify(this._jsonData);s.localStorage.setItem(n.gameConfigId,"@"+e.encrypt(t)),this._markSave=!1}}t("Configuration",i),i._instance=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(p){var o;return{setters:[function(p){o=p.cclegacy}],execute:function(){o._RF.push({},"38f6antDZNCibijc56rqZbp","Constants",void 0);class P{}p("Constants",P),P.Prefab={},P.toastPath="Prefab/Popup/Common/toast",P.toptipPath="Prefab/Popup/Common/comToptipItem",P.dailyQuestPath="Prefab/Popup/DailyQuest/",P.commonPrefabPath="Prefab/Popup/Common/",P.invitePath="Prefab/Popup/Invite/",P.shopPreabPath="Prefab/Popup/Shop/",P.commonPreabPath="Prefab/Popup/Common/",P.qualityPath="Common/quality",P.commonPath="Common/",P.itemsPath="Items/",P.flagsPath="Flags/",P.cardsPath="Cards/",P.skillPath="Skills/",P.ConfigPath="ConfigData/",P.Language="language",P.AUDIO_FILE_PATH={MUSIC:"Audio/Music/",SOUND:"Audio/Sound/",GOODSOUND:"GoodGame/Audio/"},P.PopupUI={NewerRewardPopup:"Prefab/Popup/Newer/newerRewardPopup",CardPopup:"Prefab/Popup/Card/cardPopup",UnlockCardPopup:"Prefab/Popup/Card/unlockCardPopup",UpgradeCardpopup:"Prefab/Popup/Card/upgradeCardPopup",CardRewardPopup:"Prefab/Popup/Card/cardRewardPopup",UpgradeTapPopup:"Prefab/Popup/Tap/upgradeTapPopup",CardOfflinePopup:"Prefab/Popup/Card/cardOfflinePopup",TownPopup:"Prefab/Popup/Town/townPopup",GamePopup:"Prefab/Popup/Game/gamePopup",MorsePopup:"Prefab/Popup/Morse/morsePopup",MorseRulePopup:"Prefab/Popup/Morse/morseRulePopup",TapPopup:"Prefab/Popup/Tap/tapPopup",InvitePopup:"Prefab/Popup/Invite/invitePopup",EarnPopup:"Prefab/Popup/Earn/earnPopup",EarnRecordPopup:"Prefab/Popup/Earn/earnRecordPopup",EarnInvestPopup:"Prefab/Popup/Earn/earnInvestPopup",EarnSuccessPopup:"Prefab/Popup/Earn/earnSuccessPopup",AirdropPopup:"Prefab/Popup/Airdrop/airdropPopup",AirdropRecordPopup:"Prefab/Popup/Airdrop/airdropRecordPopup",AirdropInvestPopup:"Prefab/Popup/Airdrop/airdropInvestPopup",AirdropSuccessPopup:"Prefab/Popup/Airdrop/airdropSuccessPopup",ShopPopup:"Prefab/Popup/Shop/shopPopup",ShopLlamaPopup:"Prefab/Popup/Shop/shopLlamaPopup",ShopLlamaRewardPopup:"Prefab/Popup/Shop/shopLlamaRewardPopup",ShopItemPopup:"Prefab/Popup/Shop/shopItemPopup",ShopBoxOpenPopup:"Prefab/Popup/Shop/shopBoxOpenPopup",ComRewardPopup:"Prefab/Popup/Common/comRewardPopup",ComRewardAnimPopup:"Prefab/Popup/Common/comRewardAnimPopup",ComRewardDoublePopup:"Prefab/Popup/Common/comRewardDoublePopup",ComTipsPopup:"Prefab/Popup/Common/comTipsPopup",ComLoadingPopup:"Prefab/Popup/Common/comLoadingPopup",AdPopup:"Prefab/Popup/Common/adPopup",SettingPopup:"Prefab/Popup/Setting/settingPopup",LanguagePopup:"Prefab/Popup/Setting/languagePopup",WalletPopup:"Prefab/Popup/Wallet/walletPopup",WithdrawPopup:"Prefab/Popup/Wallet/withdrawPopup",WithdrawBillPopup:"Prefab/Popup/Wallet/withdrawBillPopup",GuidePopup:"Prefab/Popup/Guide/guidePopup",ActivityPopup:"Prefab/Popup/Activity/activityPopup",TapIncomePopup:"Prefab/Popup/Tap/tapIncomePopup",RestorePopup:"Prefab/Popup/Tap/restorePopup",BoostQuotaPopup:"Prefab/Popup/Tap/boostQuotaPopup",FarmPopup:"Prefab/Popup/Farm/farmPopup",MaterialPopup:"Prefab/Popup/Farm/materialPopup",LlamaPopup:"Prefab/Popup/Llama/llamaPopup",LlamaDetailPopup:"Prefab/Popup/Llama/llamaDetailPopup",RainbowDetailPopup:"Prefab/Popup/Llama/rainbowDetailPopup",LlamaMergePopup:"Prefab/Popup/Llama/llamaMergePopup",MergeSelectPopup:"Prefab/Popup/Llama/mergeSelectPopup",LlamaWoolPopup:"Prefab/Popup/Llama/llamaWoolPopup",LlamaEnergyPopup:"Prefab/Popup/Llama/llamaEnergyPopup",LlamaDeletePopup:"Prefab/Popup/Llama/llamaDeletePopup",LlamaSwapPopup:"Prefab/Popup/Llama/llamaSwapPopup",LlamaOfferPopup:"Prefab/Popup/Llama/llamaOfferPopup",LabPopup:"Prefab/Popup/Lab/labPopup",VipPopup:"Prefab/Popup/Vip/vipPopup",RankPopup:"Prefab/Popup/Rank/rankPopup",RankTipsPopup:"Prefab/Popup/Rank/rankTipsPopup",RankRecordPopup:"Prefab/Popup/Rank/rankRecordPopup",QuestPopup:"Prefab/Popup/Quest/questPopup",SignInPopup:"Prefab/Popup/Signin/signInPopup",SpinPopup:"Prefab/Popup/Spin/spinPopup",SpinTipsPopup:"Prefab/Popup/Spin/spinTipsPopup",SpinFundTipsPopup:"Prefab/Popup/Spin/spinFundTipsPopup",SpinRankPopup:"Prefab/Popup/Spin/spinRankPopup",SpinRecordPopup:"Prefab/Popup/Spin/spinRecordPopup",SpinFundPopup:"Prefab/Popup/Spin/spinFundPopup",ProfilePopup:"Prefab/Popup/Profile/profilePopup",ProfileNamePopup:"Prefab/Popup/Profile/profileNamePopup",TomaEventPopup:"Prefab/Popup/Toma/tomaEventPopup",TaskPopup:"Prefab/Popup/Task/taskPopup",TaskTraffyPopup:"Prefab/Popup/Task/taskTraffyPopup",MinePopup:"Prefab/Popup/Mine/minePopup",MineResultPopup:"Prefab/Popup/Mine/mineResultPopup",MineRecordPopup:"Prefab/Popup/Mine/mineRecordPopup",MineTipsPopup:"Prefab/Popup/Mine/mineTipsPopup",MineLlamaPopup:"Prefab/Popup/Mine/mineLlamaPopup",MineTokenPopup:"Prefab/Popup/Mine/mineTokenPopup",MineEnergyPopup:"Prefab/Popup/Mine/mineEnergyPopup",MineMinerPopup:"Prefab/Popup/Mine/mineMinerPopup"},P.cacheVersion="cacheVersion",P.gameConfigId="gameData",P.playerConfigId="playerData",o._RF.pop()}}}));

System.register("chunks:///_virtual/ContentAdapter.ts",["cc"],(function(t){var e,n,o,i,h,r;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.screen,i=t.UITransform,h=t.Size,r=t._decorator}],execute:function(){var c;e._RF.push({},"494f9k+dAhM/KtYR67LvtYz","ContentAdapter",void 0);const{ccclass:d,property:s}=r;t("ContentAdapter",d("ContentAdapter")(c=class extends n{onLoad(){let t=o.windowSize,e=this.node.getComponent(i).contentSize,n=Math.min(t.width/e.width,t.height/e.height),r=e.width*n,c=e.height*n,d=new h;d.width=e.width*(t.width/r),d.height=e.height*(t.height/c),this.node.getComponent(i).setContentSize(d)}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ContentScale.ts",["cc","./Util.ts"],(function(t){var e,c,n,o;return{setters:[function(t){e=t.cclegacy,c=t.Component,n=t._decorator},function(t){o=t.Util}],execute:function(){var s;e._RF.push({},"29ec8b7A9ZAfpoh28pIYAGQ","ContentScale",void 0);const{ccclass:a,property:r}=n;t("ContentScale",a("ContentScale")(s=class extends c{start(){let t=o.adapterScale();this.node.setScale(t,t)}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ContentWidthAdapter.ts",["cc"],(function(t){var e,n,o,i,d;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.view,i=t.UITransform,d=t._decorator}],execute:function(){var s;e._RF.push({},"9d1beTZsZVLLodLFMhkBa8y","ContentWidthAdapter",void 0);const{ccclass:r,property:c}=d;t("ContentWidthAdapter",r("ContentWidthAdapter")(s=class extends n{onLoad(){let t=o.getVisibleSize(),e=o.getDesignResolutionSize(),n=t.width>e.width?e.width:t.width;this.node.getComponent(i).width=n}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ContentWidthScaleAdapter.ts",["cc"],(function(t){var e,i,n,o,d;return{setters:[function(t){e=t.cclegacy,i=t.Component,n=t.view,o=t.UITransform,d=t._decorator}],execute:function(){var c;e._RF.push({},"e7ff0vpzL1BzJDirZZHDBLJ","ContentWidthScaleAdapter",void 0);const{ccclass:s,property:r}=d;t("ContentWidthScaleAdapter",s("ContentWidthScaleAdapter")(c=class extends i{onLoad(){let t=n.getVisibleSize(),e=n.getDesignResolutionSize(),i=t.width>e.width?e.width:t.width,d=t.width>e.width?1:t.width/e.width;this.node.getComponent(o).width=i,this.node.setScale(d,d)}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Debug.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"027cabDc/9LDaxZZ2m7C80L","Debug",void 0);r("Debug",class{static Log(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),c=1;c<e;c++)t[c-1]=arguments[c];console.log(`${r} `,...t)}static Warn(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),c=1;c<e;c++)t[c-1]=arguments[c];console.warn(`${r} `,...t)}static Error(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),c=1;c<e;c++)t[c-1]=arguments[c];console.error(`${r} `,...t)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Debug2.ts",["cc","./GameDefine.ts"],(function(e){var o,t,r,l;return{setters:[function(e){o=e.cclegacy,t=e.Graphics,r=e.Node},function(e){l=e.GameDefine}],execute:function(){o._RF.push({},"57624QKseNHsYSFOwkcAy/w","Debug",void 0);e("Debug",class{static log(){if(l.DebugLevel<=0){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];Promise.resolve(console.log.apply(this,o))}}static info(){if(l.DebugLevel<=1){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];Promise.resolve(console.info.apply(this,o))}}static warn(){if(l.DebugLevel<=2){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];Promise.resolve(console.warn.apply(this,o))}}static error(){if(l.DebugLevel<=3){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];Promise.resolve(console.error.apply(this,o))}}static drawFillRect(e,o){let r=e.addComponent(t);r.fillColor.fromHEX("#ff0000"),r.rect(o.x,o.y,o.width,o.height),r.fill()}static drawRect(e,o){let r=e.addComponent(t);r.lineWidth=2,r.strokeColor.fromHEX("#ff0000"),r.rect(o.x,o.y,o.width,o.height),r.stroke()}static drawLine(e){let o=e.addComponent(t);o.lineWidth=2,o.strokeColor.fromHEX("#ffffff"),o.clear(),o.moveTo(100,100),o.lineTo(100,200),o.lineTo(200,200),o.stroke()}static drawPolyGon(e,o){let l=new r;e.addChild(l);let i=l.addComponent(t);i.lineWidth=10,i.strokeColor.fromHEX("#ffffff");for(let e=0;e<o.length;e++){let t=o[e];0==e?i.moveTo(t.x,t.y):i.lineTo(t.x,t.y)}i.close(),i.stroke()}static drawBesize(e,o,l,i,n,s,f){let a=new r;e.addChild(a);let c=a.addComponent(t);c.lineWidth=10,c.strokeColor.fromHEX("#ffffff"),c.moveTo(o.x,o.y),c.bezierCurveTo(i,n,s,f,l.x,l.y),c.stroke()}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondNumberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Util.ts"],(function(t){var e,n,r,i,o,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.Label,o=t._decorator,c=t.Component},function(t){u=t.Util}],execute:function(){var s,a,l,m,p;r._RF.push({},"57fb2LCAcNFyZgn46/S+0IS","DiamondNumberItem",void 0);const{ccclass:b,property:f}=o;t("DiamondNumberItem",(s=b("DiamondNumberItem"),a=f(i),s((p=e((m=class extends c{constructor(){super(...arguments),n(this,"count",p,this)}init(t){this.count.string="+"+u.formatNumber(t)}}).prototype,"count",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=m))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/DtoIconCfg.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"57096PfAaZPU4Oujry5ppKI","DtoIconCfg",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoItem.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5afdet6TKxO+6PZ+N2ZcQmB","DtoItem",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoLevelCfg.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"82b5dM+iRZGUL7cZ5PbNTxd","DtoLevelCfg",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DtoLevelData.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"169fbFZIW9KGqV/YVqLhvEU","DtoLevelData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoUI.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"264d95tOL5L5ovopzL9kPYS","DtoUI",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EarnData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./OpenPopupManager.ts","./Constants.ts"],(function(t){var s,n,e,i,a,o,r,c,d;return{setters:[function(t){s=t.cclegacy,n=t._decorator},function(t){e=t.HttpService},function(t){i=t.Api},function(t){a=t.EventListener},function(t){o=t.GameEvent},function(t){r=t.PlayerData},function(t){c=t.OpenPopupManager},function(t){d=t.Constants}],execute:function(){var u,h;s._RF.push({},"0957fXbzRBOirK5iEvAJgVv","EarnData",void 0);const{ccclass:E}=n;t("EarnData",E("EarnData")(((h=class t{constructor(){this._earnObj=null,this._myEarnObj=null,this._earnRecords=[]}get earnObj(){return this._earnObj}get myEarnObj(){return this._myEarnObj}get earnRecords(){return this._earnRecords}getEarnInfo(){e.instance.post(i.EARN_INFO).then((t=>{t&&0==t.code&&(this._earnObj=t.data.issue,this._myEarnObj=t.data.myEarn,a.emit(o.UPDATE_EARN_DATA))}))}getEarnRecords(){e.instance.post(i.EARN_RECORDS).then((t=>{t&&0==t.code&&(this._earnRecords=t.data.items,a.emit(o.UPDATE_EARN_RECORD_DATA))}))}invest(t,s){a.emit(o.SHOW_LOADING),e.instance.post(i.EARN_INVEST,{issueId:t,gemAmount:s}).then((t=>{a.emit(o.HIDE_LOADING),t&&0==t.code?(this._earnObj=t.data.issue,this._myEarnObj=t.data.myEarn,r.instance.getPlayerInfo(),a.emit(o.UPDATE_EARN_DATA),c.instance.show(d.PopupUI.EarnSuccessPopup)):c.instance.showToast(t.msg)}))}claim(t){e.instance.post(i.EARN_CLAIM,{issueId:t}).then((t=>{t&&0==t.code&&(a.emit(o.UPDATE_EARN_RECORD_DATA),r.instance.getPlayerInfo(),c.instance.showRewardPopup(t.data.rewards)),this.getEarnRecords()}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,u=h))||u);t("EarnInfoResult",class{constructor(){this.issue=void 0,this.myEarn=void 0}});t("EarnObj",class{constructor(){this.issueId=void 0,this.usdtAmount=void 0,this.totalInvest=void 0,this.countdown=void 0,this.inviteRequire=void 0,this.adRequire=void 0,this.freeAmount=void 0,this.totalUsdt=void 0}});t("MyEarnObj",class{constructor(){this.investGem=void 0,this.expectUsdt=void 0,this.inviteCount=void 0,this.adCount=void 0,this.totalIncome=void 0}});t("EarnRecordResult",class{constructor(){this.items=void 0}});t("EarnRecordObj",class{constructor(){this.issueId=void 0,this.usdtAmount=void 0,this.totalInvest=void 0,this.date=void 0,this.myEarnUsdt=void 0,this.myInvestGem=void 0,this.draw=void 0}});t("EarnClaimResult",class{constructor(){this.rewards=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/EarnInvestPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EarnData.ts","./PlayerData.ts","./EventListener.ts","./GameEvent.ts","./GuideData.ts"],(function(n){var t,e,i,a,s,o,r,u,c,p,l,h,E,P,d,_;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.initializerDefineProperty},function(n){i=n.cclegacy,a=n.Label,s=n.EditBox,o=n.Node,r=n._decorator,u=n.Component},function(n){c=n.OpenPopupManager},function(n){p=n.Constants},function(n){l=n.EarnData},function(n){h=n.PlayerData},function(n){E=n.EventListener},function(n){P=n.GameEvent},function(n){d=n.GuideData,_=n.GuideStep}],execute:function(){var f,m,v,I,g,b,D,B,y;i._RF.push({},"9e7a7CA4sVKVa492JI2VnQf","EarnInvestPopup",void 0);const{ccclass:A,property:G}=r;n("EarnInvestPopup",(f=A("EarnInvestPopup"),m=G(a),v=G(s),I=G(o),f((D=t((b=class extends u{constructor(){super(...arguments),e(this,"gemBalance",D,this),e(this,"amountEditBox",B,this),e(this,"investBtn",y,this),this._amount="0.0",this._canClick=!1}show(){this.onUpdatePlayerInfo(),this.onMaxBtn(),d.instance.guideMode&&d.instance.curStep==_.GUIDE_STEP9_EARN_INVEST_PAGE?this.scheduleOnce((()=>{c.instance.showGuidePopup(this.investBtn)}),.2):this._canClick=!0}onInvestBtn(){d.instance.curStep==_.GUIDE_STEP9_EARN_INVEST_PAGE&&(d.instance.curStep=1,this._canClick=!0,c.instance.hide(p.PopupUI.GuidePopup)),l.instance.invest(l.instance.earnObj.issueId,this._amount)}onAmountChange(n){this._amount=n}onMaxBtn(){this._amount=""+10*Math.floor(h.instance.assetObj.gem/10),this.amountEditBox.string=this._amount}onCloseBtn(){this._canClick&&c.instance.hide(p.PopupUI.EarnInvestPopup)}onUpdatePlayerInfo(){this.gemBalance.string=`${h.instance.assetObj.gem}`}onEnable(){E.on(P.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this)}onDisable(){E.off(P.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this)}}).prototype,"gemBalance",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(b.prototype,"amountEditBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(b.prototype,"investBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/EarnPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EarnData.ts","./EventListener.ts","./GameEvent.ts","./Util.ts","./PlayerData.ts","./GuideData.ts","./ItemData.ts","./ItemCfg.ts"],(function(t){var e,n,i,s,a,o,r,u,p,l,c,h,d,m,T,b,E,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Label,a=t.Node,o=t._decorator,r=t.Component},function(t){u=t.OpenPopupManager},function(t){p=t.Constants},function(t){l=t.EarnData},function(t){c=t.EventListener},function(t){h=t.GameEvent},function(t){d=t.Util},function(t){m=t.PlayerData},function(t){T=t.GuideData,b=t.GuideStep},function(t){E=t.ItemData},function(t){U=t.ItemType}],execute:function(){var P,f,I,g,G,_,D,v,y,A,x,w,S,N,B,C,O,R,z,j,$,L,M;i._RF.push({},"55106t8NZhJVohcr/+xCXG9","EarnPopup",void 0);const{ccclass:k,property:F}=o;t("EarnPopup",(P=k("EarnPopup"),f=F(s),I=F(s),g=F(s),G=F(s),_=F(s),D=F(s),v=F(s),y=F(s),A=F(a),x=F(a),P((N=e((S=class extends r{constructor(){super(...arguments),n(this,"totalUsdt",N,this),n(this,"gemBalance",B,this),n(this,"myTotalUsdtText",C,this),n(this,"earnUsdtText",O,this),n(this,"totalInvestGemText",R,this),n(this,"myInvestGemText",z,this),n(this,"estimateUsdtText",j,this),n(this,"timeText",$,this),n(this,"investBtn",L,this),n(this,"spinBtn",M,this)}show(){l.instance.getEarnInfo(),this.onUpdateContent(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1),this.scheduleOnce((()=>{T.instance.guideMode&&T.instance.curStep==b.GUIDE_STEP8_EARN_PAGE&&u.instance.showGuidePopup(this.investBtn)}),.5)}onUpdateContent(){let t=m.instance.assetObj;if(this.gemBalance.string=`${t.gem}`,!l.instance.earnObj)return;let e=l.instance.earnObj;this.totalUsdt.string=`${E.instance.toTokenNumber(U.Usdt,e.totalUsdt)}`,this.earnUsdtText.string=`${e.usdtAmount}`,this.totalInvestGemText.string=`${e.totalInvest}`;let n=l.instance.myEarnObj;this.myInvestGemText.string=`${n.investGem}`,this.estimateUsdtText.string=`${n.expectUsdt}`,this.myTotalUsdtText.string=`${E.instance.toTokenNumber(U.Usdt,n.totalIncome,3)}`}updateTime(){l.instance.earnObj&&(l.instance.earnObj.countdown<=0&&(l.instance.getEarnInfo(),this.unschedule(this.updateTime)),l.instance.earnObj.countdown--,this.timeText.string=d.timeToStrings(l.instance.earnObj.countdown))}onInvestBtn(){T.instance.curStep==b.GUIDE_STEP8_EARN_PAGE?(T.instance.curStep=1,u.instance.hide(p.PopupUI.GuidePopup,(()=>{u.instance.show(p.PopupUI.EarnInvestPopup)}))):u.instance.show(p.PopupUI.EarnInvestPopup)}onRecordBtn(){u.instance.show(p.PopupUI.EarnRecordPopup)}onSpinBtn(){T.instance.curStep==b.GUIDE_STEP11_EARN_SPIN_BTN?(T.instance.curStep=1,u.instance.hide(p.PopupUI.GuidePopup,(()=>{u.instance.show(p.PopupUI.SpinPopup)}))):u.instance.show(p.PopupUI.SpinPopup)}onGuideEvent(){T.instance.curStep==b.GUIDE_STEP11_EARN_SPIN_BTN&&u.instance.showGuidePopup(this.spinBtn)}onEnable(){c.on(h.UPDATE_EARN_DATA,this.onUpdateContent,this),c.on(h.UPDATE_PLAYER_DATA,this.onUpdateContent,this),c.on(h.GUIDE_ACTION,this.onGuideEvent,this)}onDisable(){c.off(h.UPDATE_EARN_DATA,this.onUpdateContent,this),c.off(h.UPDATE_PLAYER_DATA,this.onUpdateContent,this),c.off(h.GUIDE_ACTION,this.onGuideEvent,this),this.unschedule(this.updateTime)}}).prototype,"totalUsdt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(S.prototype,"gemBalance",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(S.prototype,"myTotalUsdtText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(S.prototype,"earnUsdtText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(S.prototype,"totalInvestGemText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(S.prototype,"myInvestGemText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(S.prototype,"estimateUsdtText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(S.prototype,"timeText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(S.prototype,"investBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(S.prototype,"spinBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/EarnRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EarnData.ts"],(function(t){var e,i,n,r,a,s,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,a=t.Node,s=t._decorator,l=t.Component},function(t){o=t.EarnData}],execute:function(){var c,u,m,p,h,b,y,d,x,I,E,T,g,v,f;n._RF.push({},"babeeyL4nVA8bZHENYNYp5N","EarnRecordItem",void 0);const{ccclass:w,property:z}=s;t("EarnRecordItem",(c=w("EarnRecordItem"),u=z(r),m=z(r),p=z(r),h=z(r),b=z(r),y=z(a),c((I=e((x=class extends l{constructor(){super(...arguments),i(this,"timeText",I,this),i(this,"myInvestText",E,this),i(this,"myEarnText",T,this),i(this,"totalInvestText",g,this),i(this,"totalEarnText",v,this),i(this,"claimBtn",f,this),this._issueId=0}init(t){this._issueId=t.issueId,this.timeText.string=t.date,this.totalInvestText.string=`${t.totalInvest}`,this.totalEarnText.string=`${t.usdtAmount}`,this.myInvestText.string=`${t.myInvestGem}`,this.myEarnText.string=`${t.myEarnUsdt}`,t.draw||0==t.myEarnUsdt?this.claimBtn.active=!1:this.claimBtn.active=!0}onClaimBtn(){o.instance.claim(this._issueId)}}).prototype,"timeText",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(x.prototype,"myInvestText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(x.prototype,"myEarnText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(x.prototype,"totalInvestText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(x.prototype,"totalEarnText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(x.prototype,"claimBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=x))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/EarnRecordPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EarnData.ts","./EventListener.ts","./GameEvent.ts","./EarnRecordItem.ts"],(function(t){var e,n,o,r,a,i,s,c,p,l,u,d,E,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.Node,a=t.Prefab,i=t._decorator,s=t.Component,c=t.instantiate},function(t){p=t.OpenPopupManager},function(t){l=t.Constants},function(t){u=t.EarnData},function(t){d=t.EventListener},function(t){E=t.GameEvent},function(t){f=t.EarnRecordItem}],execute:function(){var h,R,m,P,D,C,b;o._RF.push({},"6673f1B+aBMNoUhnZaVLkJf","EarnRecordPopup",void 0);const{ccclass:g,property:_}=i;t("EarnRecordPopup",(h=g("EarnRecordPopup"),R=_(r),m=_(a),h((C=e((D=class extends s{constructor(){super(...arguments),n(this,"content",C,this),n(this,"recordItem",b,this)}show(){u.instance.getEarnRecords()}onCloseBtn(){p.instance.hide(l.PopupUI.EarnRecordPopup)}onUpdateContent(){this.content.removeAllChildren();let t=u.instance.earnRecords;for(let e=0;e<t.length;e++){let n=c(this.recordItem);n.getComponent(f).init(t[e]),n.parent=this.content}}onEnable(){d.on(E.UPDATE_EARN_RECORD_DATA,this.onUpdateContent,this)}onDisable(){d.off(E.UPDATE_EARN_RECORD_DATA,this.onUpdateContent,this)}}).prototype,"content",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(D.prototype,"recordItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/EarnSuccessPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./EarnData.ts","./Util.ts","./GuideData.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var e,n,i,s,a,r,u,c,o,p,l,d,h,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.ParticleSystem2D,a=t.Label,r=t._decorator,u=t.Component},function(t){c=t.Constants},function(t){o=t.OpenPopupManager},function(t){p=t.EarnData},function(t){l=t.Util},function(t){d=t.GuideData,h=t.GuideStep},function(t){m=t.EventListener},function(t){f=t.GameEvent}],execute:function(){var E,T,b,D,P,S,g,y,w;i._RF.push({},"64c4fgALDRGD6yya3OuZNkw","EarnSuccessPopup",void 0);const{ccclass:I,property:O}=r;t("EarnSuccessPopup",(E=I("EarnSuccessPopup"),T=O(s),b=O(a),D=O(a),E((g=e((S=class extends u{constructor(){super(...arguments),n(this,"rewardAnim",g,this),n(this,"timeText",y,this),n(this,"usdtText",w,this)}show(){m.emit(f.HIDE_LOADING),o.instance.hide(c.PopupUI.EarnInvestPopup),this.usdtText.string=`${p.instance.myEarnObj.expectUsdt}`,this.rewardAnim.resetSystem(),this.updateTime(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}updateTime(){p.instance.earnObj&&(p.instance.earnObj.countdown<=0&&(p.instance.getEarnInfo(),this.unschedule(this.updateTime)),p.instance.earnObj.countdown--,this.timeText.string=l.timeToStrings(p.instance.earnObj.countdown))}onCloseBtn(){d.instance.curStep==h.GUIDE_STEP10_EARN_INVEST_ACTION&&(d.instance.curStep=1,m.emit(f.GUIDE_ACTION)),o.instance.hide(c.PopupUI.EarnSuccessPopup),this.unschedule(this.updateTime)}}).prototype,"rewardAnim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(S.prototype,"timeText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(S.prototype,"usdtText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFreeze.ts",["cc","./GlobalGood.ts","./EventType.ts","./EventMgr.ts","./AudioManager.ts"],(function(e){var t,o,n,s,c,i,r,l;return{setters:[function(e){t=e.cclegacy,o=e.Component,n=e.isValid,s=e._decorator},function(e){c=e.GlobalGood},function(e){i=e.EventType},function(e){r=e.EventMgr},function(e){l=e.AudioManager}],execute:function(){var a;t._RF.push({},"3dbb3/Bui5BppmlIl/Pc6+P","EffectFreeze",void 0);const{ccclass:u,property:f}=s;e("EffectFreeze",u("Game/EffectFreeze")(a=class extends o{onLoad(){r.on(i.UseSkillFreezeTime,this.onRemove,this)}onDestroy(){r.off(i.UseSkillFreezeTime,this.onRemove,this),this.unscheduleAllCallbacks()}start(){this.scheduleOnce(this.onRemove,c.Freeze_Time),l.instance.playSound("Good|freeze")}onRemove(){n(this.node)&&this.node.destroy()}})||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/EffectMgr.ts",["cc"],(function(t){var e,c;return{setters:[function(t){e=t.cclegacy,c=t.instantiate}],execute:function(){e._RF.push({},"2b66bq5qUZOPJgNT4t0BQAf","EffectMgr",void 0);t("EffectMgr",class{static create(t,e,r){const s=c(t);return e.addChild(s),r&&s.setWorldPosition(r),s}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectRedAlert.ts",["cc","./EventMgr.ts","./EventType.ts","./GlobalGood.ts","./AudioManager.ts"],(function(t){var e,i,o,n,s,c,r,u,a,l;return{setters:[function(t){e=t.cclegacy,i=t.Component,o=t.UIOpacity,n=t.tween,s=t.isValid,c=t._decorator},function(t){r=t.EventMgr},function(t){u=t.EventType},function(t){a=t.GlobalGood},function(t){l=t.AudioManager}],execute:function(){var d;e._RF.push({},"79f80WbQztP6JQZzuVb1Ame","EffectRedAlert",void 0);const{ccclass:p,property:h}=c;t("EffectRedAlert",p("Game/EffectRedAlert")(d=class extends i{constructor(){super(...arguments),this.uiOpacity=null}onLoad(){this.uiOpacity=this.getComponent(o),r.on(u.TimeOutAlert,this.onTimeOutAlert,this)}onDestroy(){r.off(u.TimeOutAlert,this.onTimeOutAlert,this)}start(){const t=n(this.uiOpacity);t.sequence(n(this.uiOpacity).to(.5,{opacity:0}),n(this.uiOpacity).to(.5,{opacity:255})),t.repeatForever(),t.start(),this.scheduleOnce(this.onTimeOutAlert,a.Time_Out_Alert_Time),l.instance.playSound("Good|countdown")}onTimeOutAlert(){this.unscheduleAllCallbacks(),s(this.node)&&this.node.destroy()}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventListener.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"10e50v0/Z9Cuq8TUTgBlAZ2","EventListener",void 0);class n{static on(t,e,n){this.handle[t]||(this.handle[t]=[]);const s={func:e,target:n};this.handle[t].push(s)}static off(t,e,n){const s=this.handle[t];if(s&&!(s.length<=0))for(let t=0;t<s.length;t++){const l=s[t];if(l.func===e&&(!n||n===l.target)){s.splice(t,1);break}}}static emit(t){const e=this.handle[t];if(!e||e.length<=0)return;let n=e.length;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(let t=0;t<e.length;t++){const s=e[t];if(s){s.func.apply(s.target,l);let c=0;n>e.length&&(c=n-e.length,t-=c,n=e.length)}}}static clear(){this.handle={}}}t("EventListener",n),n.handle={},e._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(t){var e,n,o,s;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Component,s=t.director}],execute:function(){var i,c;e._RF.push({},"6b35bJP+epFU5b0HfTD5ZsA","EventMgr",void 0);const{ccclass:r,property:a}=n;t("EventMgr",r("Manager/EventMgr")(((c=class t extends o{onLoad(){t._node=this.node,s.addPersistRootNode(this.node)}static on(t,e,n,o){this._node.on(t,e,n,o)}static once(t,e,n,o){this._node.once(t,e,n,o)}static emit(t,e,n,o,s,i){this._node&&this._node.emit(t,e,n,o,s,i)}static off(t,e,n,o){this._node.off(t,e,n,o)}static offAll(t){this._node.targetOff(t)}static has(t,e,n){return this._node.hasEventListener(t,e,n)}})._node=void 0,i=c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventType.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"0183ad5h1RMob8tgyrKYRiJ","EventType",void 0);e("EventType",function(e){return e.Click="click",e.WxOnShow="WxOnShow",e.WxOnHide="WxOnHide",e.UpdateRedPoint="UpdateRedPoint",e.Pause="Pause",e.Resume="Resume",e.OpenUI="OpenUI",e.CloseUI="CloseUI",e.PlaceGoods="PlaceGoods",e.MergeGoods="MergeGoods",e.UpdateGoodData="UpdateGoodData",e.TimeTick="TimeTick",e.TimeOut="TimeOut",e.TimeReset="TimeReset",e.Revive="Revive",e.Win="Win",e.Fail="Fail",e.UseSkillFreezeTime="UseSkillFreezeTime",e.UseSkillEraseGroup="UseSkillEraseGroup",e.UseSkillRefreshPosition="UseSkillRefreshPosition",e.UseSkillDoubleCoin="UseSkillDoubleCoin",e.AddSkillFreezeTime="AddSkillFreezeTime",e.AddSkillEraseOneGroup="AddSkillEraseOneGroup",e.AddSkillRefreshPosition="AddSkillRefreshPosition",e.AddSkillDoubleCoin="AddSkillDoubleCoin",e.AddSkill="AddSkill",e.UpdateSkillCnt="UpdateSkillCnt",e.UpdateLevel="UpdateLevel",e.UpdateCoin="UpdateCoin",e.CoinItemShow="CoinItemShow",e.CoinItemHide="CoinItemHide",e.TimeOutAlert="TimeOutAlert",e.GetPassReward="GetPassReward",e.ModeUnlocked="ModeUnlocked",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmData.ts",["cc"],(function(t){var a,c;return{setters:[function(t){a=t.cclegacy,c=t._decorator}],execute:function(){var e,n;a._RF.push({},"3e3b5Z0mmlLvJGeejXrGuEK","FarmData",void 0);const{ccclass:s}=c;t("FarmData",s("FarmData")(((n=class t{buy(){}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,e=n))||e);a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./LlamaData.ts","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./SpriteEx.ts"],(function(t){var e,i,n,s,a,o,h,l,r,c,m,p,d,u,g,_,y,b,v,x,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Prefab,a=t.Label,o=t.sp,h=t._decorator,l=t.v3,r=t.Vec3,c=t.tween,m=t.UITransform,p=t.instantiate},function(t){d=t.default},function(t){u=t.LlamaAnim,g=t.LlamaData},function(t){_=t.OpenPopupManager},function(t){y=t.Constants},function(t){b=t.EventListener},function(t){v=t.GameEvent},function(t){x=t.PlayerData},function(t){w=t.SpriteEx}],execute:function(){var f,T,M,O,L,j,E,P,A,C,S,D,I,z,U;n._RF.push({},"aaf44L2CCBEmpmu7EXLzbqq","FarmLlamaItem",void 0);const{ccclass:G,property:R}=h;t("FarmLlamaItem",(f=G("FarmLlamaItem"),T=R(s),M=R(a),O=R(a),L=R(o.Skeleton),j=R(w),E=R(a),f((C=e((A=class extends d{constructor(){super(...arguments),i(this,"tapGoldItem",C,this),i(this,"energyText",S,this),i(this,"gemText",D,this),i(this,"icon",I,this),i(this,"woolIcon",z,this),i(this,"countText",U,this),this.dir=l(-1,-1,0),this.curPos=new r,this.width=100,this.height=100,this.viewWidth=700,this.viewHeight=700,this._isMove=!1,this._moveSpeed=90,this._llamaObj=null,this._rainbowObj=null,this._scale=.3,this._tapCount=0,this._isJump=!1,this._type=0}get isMove(){return this._isMove}get llamaObj(){return this._llamaObj}get rainbowObj(){return this._rainbowObj}init(t,e,i){void 0===t&&(t=null),void 0===e&&(e=null),this.icon.node.active=!1,c(this.node).delay(.2).call((()=>{let n="skin0";null!=t?(this._llamaObj=t,this._type=t.type,n="skin"+t.type,this.energyText.node.parent.active=!0,this.gemText.node.parent.active=!1,this.energyText.string=`${this._llamaObj.energy}`,t.woolTime>0?this.woolIcon.node.active=!1:(this.woolIcon.node.active=!0,this.woolIcon.index=t.type-1)):(this.energyText.node.parent.active=!1,this.gemText.node.parent.active=!0,this.gemText.string=`+${e.earnGem}`,this._rainbowObj=e),this.countText.string=1==i?"":"x"+i,this.icon.node.active=!0,this.icon.setSkin(n),this.icon.setAnimation(0,u.WALK,!0),this.icon.setCompleteListener((t=>{t.animation.name==u.JUMP&&(this.icon.setAnimation(0,u.IDLE,!0),this._isJump=!1)}));let s=new r(300*Math.random(),300*Math.random(),0);this.node.setPosition(s),this.dir.x=Math.random()>.5?1:-1,1==this.dir.x?this.icon.node.setScale(-this._scale,this._scale):this.icon.node.setScale(this._scale,this._scale),this._moveSpeed=Math.floor(30*Math.random())+30,this._isMove=!0})).start()}updateLlama(t,e){if(this._type!=t.type){let e="skin"+t.type;this.icon.setSkin(e),this._type=t.type}this.countText.string=1==e?"":"x"+e,this._llamaObj=t,this.energyText.string=`${this._llamaObj.energy}`}updateRainbow(t,e){this._rainbowObj=t,this.gemText.string=`+${t.earnGem}`,this.countText.string=1==e?"":"x"+e}onTapLlama(t){if(null==this._llamaObj)return void this.onDetail();let e=t.getUILocation(),i=this.icon.node.getComponent(m).convertToNodeSpaceAR(l(e.x,e.y)),n=(this.icon.node.scale.y,this.icon.node.getComponent(m).contentSize.height);i.y>.6*n?this.onDetail():(this._isMove&&(this._isMove=!1),this.onTapCoin(e))}onDetailBtn(){this.onDetail()}onTapCoin(t){if(0==this._llamaObj.energy)return void _.instance.showToast("llama.energyinsufficient");this._isJump||(this._isJump=!0,this.icon.setAnimation(0,u.JUMP,!1));let e=this.icon.node.parent.getComponent(m).convertToNodeSpaceAR(l(t.x,t.y));var i=p(this.tapGoldItem);i.active=!0,i.getChildByName("gold").getComponent(a).string="+"+this.llamaObj.tapEarn,i.position=e,i.parent=this.node,c(i).to(1,{position:new r(e.x,e.y+120,0)},{easing:"linear",onComplete:()=>{this.node.removeChild(i)}}).start(),this._llamaObj.energy--,this.energyText.string=`${this._llamaObj.energy}`,x.instance.candy=this.llamaObj.tapEarn,0==this._tapCount&&this.scheduleOnce(this.earn,5),this._tapCount++}earn(){if(this.scheduleOnce(this.initMoveAnim,1),0==this._tapCount)return;let t=this._tapCount;this._tapCount=0,g.instance.tap(this._llamaObj.id,t)}initIdleAnim(){this.icon.addAnimation(0,u.IDLE,!0)}initMoveAnim(){this._isMove||0!=this._tapCount||(this._isMove=!0),this._isMove&&this.icon.setAnimation(0,u.WALK,!0)}onDetail(){this._llamaObj?_.instance.show(y.PopupUI.LlamaDetailPopup,this._llamaObj):_.instance.show(y.PopupUI.RainbowDetailPopup,this._rainbowObj)}childUpdate(t){this.llamaMoveFrame(t)}llamaMoveFrame(t){if(this._isMove){let e=this.node.getPosition(),i=this.dir.clone();this.curPos.x<-this.viewWidth/2+this.width?(i.x=1,i.y=Math.random(),this.dir=i.normalize(),this.icon.node.setScale(-this._scale,this._scale)):this.curPos.x>this.viewWidth/2-this.width?(i.x=-1,i.y=Math.random(),this.dir=i.normalize(),this.icon.node.setScale(this._scale,this._scale)):this.curPos.y<-(this.viewHeight/2+2*this.height)?(i.y=1,i.x=i.x>0?Math.random():-Math.random(),this.dir=i.normalize()):this.curPos.y>this.viewHeight/2-2*this.height&&(i.y=-1,i.x=i.x>0?Math.random():-Math.random(),this.dir=i.normalize());let n=i.multiply(l(this._moveSpeed*t,this._moveSpeed*t,0)),s=e.add(n);this.node.setPosition(s),this.curPos=s}}onUpdateEnergy(t,e,i){this._llamaObj&&this._llamaObj.id==t&&(this._llamaObj.energy=e,this._llamaObj.restoreNumber=i,this.energyText.string=`${this._llamaObj.energy}`)}onShowEnergy(t){t?this._llamaObj?(this.energyText.node.parent.active=!0,this.gemText.node.parent.active=!1):(this.energyText.node.parent.active=!1,this.gemText.node.parent.active=!0):(this.energyText.node.parent.active=!1,this.gemText.node.parent.active=!1)}onEnable(){b.on(v.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this),b.on(v.SHOW_LLAMA_ENERGY,this.onShowEnergy,this)}onDisable(){b.off(v.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this),b.off(v.SHOW_LLAMA_ENERGY,this.onShowEnergy,this)}}).prototype,"tapGoldItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(A.prototype,"energyText",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(A.prototype,"gemText",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(A.prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(A.prototype,"woolIcon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(A.prototype,"countText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./LlamaData.ts","./GameEvent.ts","./FarmLlamaItem.ts","./BaseComponent.ts","./GuideData.ts","./SpriteEx.ts","./PlayerData.ts","./AvatarItem.ts","./Util.ts","./GameDefine.ts","./SpinData.ts","./GoodData.ts","./HttpService.ts","./Storage.ts","./MiniGameData.ts"],(function(t){var e,n,i,a,o,r,s,l,p,u,h,c,m,f,d,b,g,P,w,y,A,I,U,v,L,T,_,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Prefab,o=t.Node,r=t.Label,s=t._decorator,l=t.director,p=t.instantiate},function(t){u=t.OpenPopupManager},function(t){h=t.Constants},function(t){c=t.EventListener},function(t){m=t.LlamaData},function(t){f=t.GameEvent},function(t){d=t.FarmLlamaItem},function(t){b=t.default},function(t){g=t.GuideData,P=t.GuideStep},function(t){w=t.SpriteEx},function(t){y=t.PlayerData},function(t){A=t.AvatarItem},function(t){I=t.Util},function(t){U=t.GameDefine},function(t){v=t.SpinData},function(t){L=t.GoodData},function(t){T=t.HttpService},function(t){_=t.Storage},function(t){D=t.MiniGameData}],execute:function(){var E,B,S,G,O,R,M,z,F,k,x,j,C,N,W,H,Y,V,$,q,K,J,Q,Z,X,tt,et,nt,it,at,ot,rt,st,lt,pt,ut,ht,ct,mt,ft,dt,bt,gt,Pt,wt,yt,At,It,Ut;i._RF.push({},"0d65bEeUGdCEZCkFsHJq3k3","FarmPopup",void 0);const{ccclass:vt,property:Lt}=s;t("FarmPopup",(E=vt("FarmPopup"),B=Lt(a),S=Lt(o),G=Lt(w),O=Lt(o),R=Lt(o),M=Lt(w),z=Lt(o),F=Lt(o),k=Lt(o),x=Lt(o),j=Lt(r),C=Lt(r),N=Lt(r),W=Lt(r),H=Lt(r),Y=Lt(o),V=Lt(o),$=Lt(o),q=Lt(o),K=Lt(o),J=Lt(o),Q=Lt(o),Z=Lt(r),E((et=e((tt=class extends b{constructor(){super(...arguments),n(this,"llamaPerfab",et,this),n(this,"content",nt,this),n(this,"vipBtn",it,this),n(this,"avatar",at,this),n(this,"spinBtn",ot,this),n(this,"energyBtn",rt,this),n(this,"tomaBtn",st,this),n(this,"mergeRedPoint",lt,this),n(this,"spinRedPoint",pt,this),n(this,"traffyBtn",ut,this),n(this,"llama",ht,this),n(this,"candy",ct,this),n(this,"rainbow",mt,this),n(this,"usdt",ft,this),n(this,"toma",dt,this),n(this,"withdraw",bt,this),n(this,"goodsortBtn",gt,this),n(this,"mineBtn",Pt,this),n(this,"buyLlamaBtn",wt,this),n(this,"mergeLlamaBtn",yt,this),n(this,"frog",At,this),n(this,"gameBtn",It,this),n(this,"gameLevel",Ut,this)}show(){y.instance.userObj.showMine?this.mineBtn.active=!0:this.mineBtn.active=!1,y.instance.gameObj.showHelpGame?(this.gameBtn.active=!0,D.instance.getHelpInfo()):this.gameBtn.active=!1,y.instance.gameObj.showWithdraw?this.withdraw.active=!0:this.withdraw.active=!1,m.instance.getLlamaInfo(),this.onUpdateAvatar(),this.vipBtn.index=y.instance.gameObj.vip,this.onUpdatePlayerInfo(),g.instance.guideMode||U.offerId&&"llama"==U.linkType&&m.instance.getSwapInfo(U.offerId,(t=>{let e=U.offerId;U.offerId="",u.instance.show(h.PopupUI.LlamaOfferPopup,t,e)})),this.onRedPoint(),"toma"==y.instance.userObj.channel?(this.toma.node.parent.active=!0,this.tomaBtn.active=!0,"toma"==U.linkType&&(u.instance.show(h.PopupUI.TomaEventPopup),U.linkType="")):(this.toma.node.parent.active=!1,this.tomaBtn.active=!1),this.updateFrog()}onRedPoint(){v.instance.spinObj&&(v.instance.spinObj.clover>0||v.instance.spinObj.adLimit>0)?this.spinRedPoint.active=!0:this.spinRedPoint.active=!1}onShowTraffyTask(){this.traffyBtn.active=!0}onUpdateAvatar(){this.avatar.getComponent(A).init(y.instance.userObj.avatar)}onUpdatePlayerInfo(t){let e=y.instance.assetObj;t&&"all"!=t&&"llama"!=t||I.numberAnimation(this.llama,e.llama),t&&"all"!=t&&"candy"!=t||I.numberAnimation(this.candy,e.candy),t&&"all"!=t&&"gem"!=t||(this.rainbow.string=e.gem>10?Number(e.gem).toFixed(0):`${e.gem}`),t&&"all"!=t&&"usdt"!=t||(this.usdt.string=`${e.usdt}`),t&&"all"!=t&&"toma"!=t||(this.toma.string=`${e.toma}`)}onAvatarBtn(){u.instance.show(h.PopupUI.ProfilePopup)}onWalletBtn(){u.instance.show(h.PopupUI.WithdrawPopup)}onMenuBtn(t,e){"llama"==e?u.instance.show(h.PopupUI.LlamaPopup):"merge"==e?g.instance.curStep==P.GUIDE_STEP4_MERGE_LLAMA_BTN?(g.instance.curStep=1,u.instance.hide(h.PopupUI.GuidePopup,(()=>{u.instance.show(h.PopupUI.LlamaMergePopup)}))):u.instance.show(h.PopupUI.LlamaMergePopup):"lab"==e?u.instance.show(h.PopupUI.LabPopup):"rank"==e?u.instance.show(h.PopupUI.RankPopup):"shopLlama"==e?g.instance.curStep==P.GUIDE_STEP1_BUY_LLAMA_BTN?(g.instance.curStep=1,u.instance.hide(h.PopupUI.GuidePopup,(()=>{u.instance.show(h.PopupUI.ShopLlamaPopup)}))):u.instance.show(h.PopupUI.ShopLlamaPopup):"shop"==e?u.instance.show(h.PopupUI.ShopPopup):"airdrop"==e?u.instance.show(h.PopupUI.AirdropPopup):"setting"==e?u.instance.show(h.PopupUI.SettingPopup):"quest"==e?u.instance.show(h.PopupUI.QuestPopup):"signin"==e?u.instance.show(h.PopupUI.SignInPopup):"spin"==e?u.instance.show(h.PopupUI.SpinPopup):"vip"==e?u.instance.show(h.PopupUI.VipPopup):"task"==e?u.instance.show(h.PopupUI.TaskPopup):"traffy"==e?u.instance.show(h.PopupUI.TaskTraffyPopup):"community"==e?window.open("https://t.me/LlamaPayDay"):"mine"==e?u.instance.show(h.PopupUI.MinePopup):"good"==e?(U.linkType="",c.emit(f.SHOW_LOADING),L.instance.getGoodInfo(),l.loadScene("GoodGame",(()=>{c.emit(f.HIDE_LOADING)}))):"toma"==e?u.instance.show(h.PopupUI.TomaEventPopup):"game"==e&&u.instance.show(h.PopupUI.GamePopup)}onEnergyBtn(){this.energyBtn.index=0==this.energyBtn.index?1:0,c.emit(f.SHOW_LLAMA_ENERGY,0==this.energyBtn.index)}onUpdateGame(){let t=D.instance.helpGameObj;this.gameLevel.string="Wave "+(t.level+1)+" of llamas asking for help."}onUpdateLlamas(){let t={},e={},n=m.instance.llamaObjs,i=m.instance.rainbowObjs,a=[i.length,0,0,0,0,0,0,0];for(let t=0;t<n.length;t++)a[n[t].type]+=1;let o=[0,0,0,0,0,0,0];for(let o=this.content.children.length-1;o>=0;o--){let r=this.content.children[o],s=r.getComponent(d).llamaObj;if(s){let e=n.findIndex((t=>t.id==s.id));e>=0?(t[s.id]=!0,r.getComponent(d).updateLlama(n[e],a[s.type])):r.removeFromParent()}else{let t=r.getComponent(d).rainbowObj;if(t){i.findIndex((e=>e.id==t.id))>=0?e[t.id]=!0:r.removeFromParent()}}}for(let e=0;e<n.length;e++){let i=n[e],s=i.type;if(!(o[s]>0))if(o[s]++,!t[i.id])(r=p(this.llamaPerfab)).getComponent(d).init(i,null,a[i.type]),r.parent=this.content}for(let t=0;t<i.length&&t<1;t++){var r;if(!e[i[t].id])(r=p(this.llamaPerfab)).getComponent(d).init(null,i[t],a[0]),r.parent=this.content}let s=[];for(let t=0;t<n.length;t++)-1==s.indexOf(n[t].type)&&s.push(n[t].type);5==s.length?this.mergeRedPoint.active=!0:this.mergeRedPoint.active=!1}setLlamaSort(){let t=this.content.children;t.sort(((t,e)=>{let n=t.getComponent(d).isMove,i=e.getComponent(d).isMove;return n?i?Math.round(e.position.y)-Math.round(t.position.y):-1e4:1e4}));for(let e=0;e<t.length;e++)t[e].setSiblingIndex(e);this.content._updateSiblingIndex()}childUpdate(t){this.setLlamaSort()}updateFrog(){if(1!=_.getItem("frog"))try{let t=window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.initDataUnsafe&&window.Telegram.WebApp.initDataUnsafe.user?window.Telegram.WebApp.initDataUnsafe.user.id:"";t&&T.instance.get("api/user/llama/"+t,{baseURL:"https://api.fofoclub.xyz"}).then((t=>{t&&t.data&&t.data.data&&t.data.data.isExist?(_.setItem("frog",1),this.frog.active=!1):this.frog.active=!0}))}catch(t){console.log(t)}else this.frog.active=!1}onFrogBtn(){window.Telegram.WebApp.openTelegramLink("https://t.me/fofomemegamebot/game?startapp=bex16wwn")}onGuideEvent(){g.instance.curStep==P.GUIDE_STEP1_BUY_LLAMA_BTN?u.instance.showGuidePopup(this.buyLlamaBtn,(()=>{g.instance.curStep=1})):g.instance.curStep==P.GUIDE_STEP4_MERGE_LLAMA_BTN&&u.instance.showGuidePopup(this.mergeLlamaBtn,(()=>{}),(()=>{}))}onEnable(){c.on(f.UPDATE_LLAMA_DATA,this.onUpdateLlamas,this),c.on(f.UPDATE_PLAYER_AVATAR,this.onUpdateAvatar,this),c.on(f.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),c.on(f.UPDTAE_SPIN_DATA,this.onRedPoint,this),c.on(f.SHOW_TRAFFY_TASK,this.onShowTraffyTask,this),c.on(f.GUIDE_ACTION,this.onGuideEvent,this),c.on(f.UPDATE_MINI_DATA,this.onUpdateGame,this)}onDisable(){c.off(f.UPDATE_LLAMA_DATA,this.onUpdateLlamas,this),c.off(f.UPDATE_PLAYER_AVATAR,this.onUpdateAvatar,this),c.off(f.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),c.off(f.UPDTAE_SPIN_DATA,this.onRedPoint,this),c.off(f.SHOW_TRAFFY_TASK,this.onShowTraffyTask,this),c.off(f.GUIDE_ACTION,this.onGuideEvent,this),c.off(f.UPDATE_MINI_DATA,this.onUpdateGame,this)}}).prototype,"llamaPerfab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(tt.prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(tt.prototype,"vipBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(tt.prototype,"avatar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(tt.prototype,"spinBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(tt.prototype,"energyBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(tt.prototype,"tomaBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(tt.prototype,"mergeRedPoint",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(tt.prototype,"spinRedPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(tt.prototype,"traffyBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(tt.prototype,"llama",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(tt.prototype,"candy",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(tt.prototype,"rainbow",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(tt.prototype,"usdt",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(tt.prototype,"toma",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(tt.prototype,"withdraw",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(tt.prototype,"goodsortBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(tt.prototype,"mineBtn",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(tt.prototype,"buyLlamaBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(tt.prototype,"mergeLlamaBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(tt.prototype,"frog",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(tt.prototype,"gameBtn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(tt.prototype,"gameLevel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=tt))||X));i._RF.pop()}}}));

System.register("chunks:///_virtual/Floaty.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,i,n,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t._decorator,n=t.Component,s=t.tween,a=t.v3}],execute:function(){var l,c,f,u;r._RF.push({},"8adb3gVb0hHEKsGLY/FheHb","Floaty",void 0);const{ccclass:p,property:h}=i;t("Floaty",p("Misc/Floaty")((f=e((c=class extends n{constructor(){super(...arguments),o(this,"floatInterval",f,this),o(this,"floatOffset",u,this)}start(){s(this.node).sequence(s(this.node).by(this.floatInterval,{position:a(0,this.floatOffset,0)}),s(this.node).by(this.floatInterval,{position:a(0,-this.floatOffset,0)})).repeatForever().start()}}).prototype,"floatInterval",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),u=e(c.prototype,"floatOffset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),l=c))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/FriendItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./GameEvent.ts","./InviteData.ts","./FriendSubItem.ts"],(function(t){var e,n,i,s,o,r,a,c,l,u,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,o=t.Prefab,r=t._decorator,a=t.Component,c=t.instantiate},function(t){l=t.EventListener},function(t){u=t.GameEvent},function(t){f=t.InviteData},function(t){h=t.FriendSubItem}],execute:function(){var p,m,I,d,b,v,_;i._RF.push({},"4e38eX2avlMMLTkXaat72Qt","FriendItem",void 0);const{ccclass:C,property:E}=r;t("FriendItem",(p=C("FriendItem"),m=E(s),I=E(o),p((v=e((b=class extends a{constructor(){super(...arguments),n(this,"content",v,this),n(this,"friendSubItem",_,this)}init(){f.instance.getFrens(),this.setContent()}async setContent(){this.content.removeAllChildren();let t=f.instance.frenList;for(let e=0;e<t.length;e++){let n=c(this.friendSubItem);n.getComponent(h).init(t[e]),n.parent=this.content}}onEnable(){l.on(u.UPDATE_FREN_DATA,this.setContent,this),l.on(u.SWITCH_INVITE_TAB,this.setContent,this)}onDisable(){l.off(u.UPDATE_FREN_DATA,this.setContent,this),l.off(u.SWITCH_INVITE_TAB,this.setContent,this)}}).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(b.prototype,"friendSubItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/FriendSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AvatarItem.ts","./Util.ts"],(function(e){var t,i,r,n,a,o,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Node,a=e.Label,o=e._decorator,l=e.Component},function(e){s=e.AvatarItem},function(e){u=e.Util}],execute:function(){var c,p,m,b,g,d,h,f,v,y,z;r._RF.push({},"8b2d0v8N1pH47zWs7Jgx+n4","FriendSubItem",void 0);const{ccclass:F,property:I}=o;e("FriendSubItem",(c=F("FriendSubItem"),p=I(n),m=I(a),b=I(a),g=I(a),c((f=t((h=class extends l{constructor(){super(...arguments),i(this,"avatar",f,this),i(this,"username",v,this),i(this,"gold",y,this),i(this,"jointime",z,this)}init(e){this.username.string=e.username,this.gold.string=`${e.amount}`,this.jointime.string=u.getDay(e.joinTime),this.avatar.getComponent(s).init(e.avatar)}}).prototype,"avatar",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"username",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(h.prototype,"gold",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(h.prototype,"jointime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["cc"],(function(e){var t,a,s,n,i,r,c,o,u;return{setters:[function(e){t=e.cclegacy,a=e.game,s=e.Game,n=e.director,i=e.AnimationManager,r=e.sp,c=e.TweenSystem,o=e.Animation,u=e.dragonBones}],execute:function(){let l;t._RF.push({},"c76e0fkdyBP5IBNGua/cGsR","GameController",void 0),function(e){let t=1,l=1;a._calculateDT=function(e){return e||(e=performance.now()),this._deltaTime=e>this._startTime?(e-this._startTime)/1e3:0,this._deltaTime>s.DEBUG_DT_THRESHOLD&&(this._deltaTime=this.frameTime/1e3),this._startTime=e,this._deltaTime=this._deltaTime*t,this._deltaTime},e.getGameTimeScale=function(){return l},e.setGameTimeScale=function(e){l=e},e.changeTimeScale=function(e){t=e};const m=e.pause_data=new class{constructor(){this.state_b=!1,this.physics_2d_b=void 0,this.physics_3d_b=void 0,this.scheduler_as=void 0,this.anim_as=[],this.tween_target_as=void 0,this.spine_as=void 0,this.spine_TimeScale=new Map}};function _(e,t){return void 0===t&&(t=[]),e?(t.push(e),e.children.forEach((e=>{t.push(e),_(e)})),t):t}function h(e){let t;t=Array.isArray(e)?e:[e],t.forEach((e=>{n.getScheduler().resumeTarget(e),e.getComponent(o)?.resume(),e.getComponent(u.ArmatureDisplay)&&(e.getComponent(u.ArmatureDisplay).timeScale=1),c.instance.ActionManager.resumeTarget(e)}))}e.pause_config=class{constructor(){this.exclude_as=void 0,this.recu_exclude_as=void 0}},e.quick=function(e){n.getScheduler().setTimeScale(e)},e.pause=function(e){if(!m.state_b){m.scheduler_as=n.getScheduler().pauseAllTargets();{let e=n.getSystem(i.ID);m.anim_as.splice(0,m.anim_as.length,...e._anims.array),m.anim_as.forEach((e=>{e.pause()}))}if(m.spine_as=n.getScene().getComponentsInChildren(r.Skeleton),m.spine_as.forEach((e=>{e.skeletonData&&(m.spine_TimeScale.set(e.skeletonData.name,e.timeScale),e.timeScale=0)})),m.tween_target_as=c.instance.ActionManager.pauseAllRunningActions(),e){let t=[];t.push(...e.exclude_as),e.recu_exclude_as?.forEach((e=>{t.push(..._(e))})),t.forEach((e=>{h(e)}))}m.state_b=!0}},e.resume=function(){n.getScheduler().resumeTargets(m.scheduler_as),m.anim_as.forEach((e=>{e.isPlaying&&e.isPaused&&e.play()})),m.spine_as&&m.spine_as.forEach((e=>{e.skeletonData&&(e.timeScale=m.spine_TimeScale.has(e.skeletonData.name)?m.spine_TimeScale.get(e.skeletonData.name):1)})),c.instance.ActionManager.resumeTargets(m.tween_target_as),m.state_b=!1},e.pause_node=function(e){let t;t=Array.isArray(e)?e:[e],t.forEach((e=>{n.getScheduler().pauseTarget(e),e.getComponent(o)?.pause(),e.getComponent(u.ArmatureDisplay)&&(e.getComponent(u.ArmatureDisplay).timeScale=0),c.instance.ActionManager.pauseTarget(e)}))},e.resume_node=h}(l||(l={}));e("default",l);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./Constants.ts","./Configuration.ts"],(function(a){var e,t,n;return{setters:[function(a){e=a.cclegacy},function(a){t=a.Constants},function(a){n=a.Configuration}],execute:function(){e._RF.push({},"e9b283F+ghEJavy42rigYga","GameData",void 0);class i{constructor(){this._isLoad=!1,this._gameSpeed=1,this._dataInited=!1}set isLoad(a){this._isLoad=a}get isLoad(){return this._isLoad}set gameSpeed(a){this._gameSpeed=a}get gameSpeed(){return this._gameSpeed}init(){this.loadFromCache()}clear(){this._gameSpeed=1}loadFromCache(){this._dataInited||(n.instance.clearConfigDataToVersion(),n.instance.getConfigData(t.playerConfigId),this._dataInited=!0)}savePlayerDataToCache(a){n.instance.setConfigData(t.playerConfigId,a)}saveGameDataToCache(a){n.instance.setConfigData(t.gameConfigId,a)}clearCacheData(){n.instance.clearConfigData()}static get instance(){return this._instance||(this._instance=new i),this._instance}}a("GameData",i),i._instance=null;a("GameState",function(a){return a.Pending="pending",a.Success="success",a.Failure="failure",a}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefine.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fd476d/4/RPHLXXF2HDHdbK","GameDefine",void 0);var t=function(e){return e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR",e}(t||{});let a=e("GameMode",function(e){return e[e.NORMAL=1]="NORMAL",e[e.FIGHTEND=2]="FIGHTEND",e}({}));e("GameLinkType",function(e){return e.MORSE="morse",e.CARD="card",e}({}));class i{}e("GameDefine",i),i.version="1.2.1",i.isDebug=!1,i.gameStart=!1,i.gameOver=!1,i.gameTouch=!1,i.linkType="",i.linkId=0,i.offerId="",i.gameMode=a.NORMAL,i.accessToken="",i.unfinishedBattle=!1,i.frameTime=.016,i.defaultFrameTime=.016,i.viewWidth=750,i.viewHeight=1334,i.battleMapDownPosy=200,i.ScreenShakeLevel=1,i.ScreenShakeCount=1,i.ScreenShakeInteval=.0333,i.DebugLevel=t.DEBUG,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(A){var a;return{setters:[function(A){a=A.cclegacy}],execute:function(){a._RF.push({},"5aa1aaoizRLJZFG3+kr9gpi","GameEvent",void 0);class _{}A("GameEvent",_),_.SHOW_LOADING="showLoading",_.HIDE_LOADING="hideLoading",_.HIDE_INAPP_AD="hideInAppAd",_.GUIDE_HIDE_FINGER="guideHideFinger",_.GUIDE_ACTION="guideAction",_.SHOW_BOTTOM_INFO="showBottomInfo",_.GET_GOLD_REWARD="getGoldReward",_.GET_GEM_REWARD="getGemReward",_.GET_Candy_REWARD="getCandyReward",_.UPDATE_PLAYER_DATA="updatePlayerData",_.UPDATE_PLAYER_AVATAR="updatePlayerAvatar",_.UPDATE_LLAMA_DATA="updateLlamaData",_.UPDATE_LLAMA_ENERGY="updateLlamaEnergy",_.UPDATE_LLAMA_WOOL="updateLlamaWool",_.UPDATE_LLAMA_ITEMS="updateLlamaItems",_.UPDATE_LLAMA_SWAP="updateLlamaSwap",_.SHOW_LLAMA_ENERGY="showLlamaEnergy",_.UPDATE_LAB_DATA="updateLabData",_.UPDATE_MORSE_DATA="updateMorseData",_.UPDATE_CARD_DATA="updateCardData",_.REQUEST_CARD_DATA="requestCardData",_.SWITCH_INVITE_TAB="switchInviteTab",_.UPDATE_LINK_INFO_DATA="updateLinkInfoData",_.UPDATE_LINK_LIST_DATA="updateLinkListData",_.UPDATE_FREN_DATA="updateFrenData",_.UPDATE_EARN_DATA="updateEarnData",_.UPDATE_EARN_RECORD_DATA="updateEarnRecordData",_.UPDATE_AIRDROP_DATA="updateAirdropData",_.UPDATE_AIRDROP_RECORD_DATA="updateAirdropRecordData",_.UPDATE_MINI_DATA="updateMiniData",_.UPDATE_SHOP_DATA="updateShopData",_.UPDATE_SHOP_CARD="updateShopCard",_.UPDATE_SHOP_BOX="updateShopBox",_.UPDATE_SHOP_GOLD="updateShopGold",_.UPDATE_SHOP_LLAMA="updateShopLlama",_.CLOSE_SHOP_ITEM_POPUP="closeShopItemPopup",_.UPDTAE_SPIN_DATA="updateSpinData",_.UPDTAE_SPIN_RANK="updateSpinRank",_.UPDTAE_SPIN_RECORD="updateSpinRecord",_.UPDTAE_SPIN_FUND="updateSpinFund",_.UPDTAE_SIGNIN_DATA="updateSigninData",_.UPDTAE_QUEST_DATA="updateQuestData",_.UPDATE_DAILY_POINT_ANIMATION="updatePointAnimation",_.UPDATE_WALLET_INFO="updateWalletInfo",_.UPDATE_WALLET_BILL="updateWalletBill",_.UPDATE_WITHDRAW_DATA="updateWithdrawInfo",_.UPDATE_WITHDRAW_AD="updateWithdrawAd",_.SELECT_USER_AVATAR="selectUserAvatar",_.UPDATE_USER_NAME="updateUserName",_.UPDATE_USER_AVATAR="updateUserAvatar",_.WITHDRAW_TAP_AMOUNT="withdrawTapAmount",_.UPDATE_TOMA_EVENT_DATA="updateTomaEventData",_.UPDTAE_TASK_DATA="updateTaskData",_.UPDATE_MINE_DATA="updateMineData",_.UPDATE_MINE_ENERGY="updateMineEnergy",_.UPDATE_MINE_LLAMA="updateMineLlama",_.NEXT_MINE_DATA="nextMineData",_.UPDATE_MINE_RECORD="updateMineRecord",_.SETTLE_MINE_ISSUE="settleMineIssue",_.SHOW_MINE_RESULT="showMineResult",_.UPDATE_RANK_DATA="updateRankData",_.UPDATE_RANK_INVITE="updateRankInvite",_.UPDATE_RANK_RAINBOW="updateRankRainbow",_.UPDATE_RANK_RECORD_DATA="updateRankRecordData",_.SELECT_RANK_ISSUE="selectRankIssue",_.SHOW_TRAFFY_TASK="showTraffyTask",a._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["cc","./Bundle.ts","./EventMgr.ts","./EventType.ts","./ShelveLocker.ts","./Mode.ts","./ObjUtil.ts","./AudioManager.ts","./ResMgr.ts","./GoodData.ts"],(function(e){var t,s,o,i,n,d,r,h,a,c,l,u,g,p,_,v,G,m;return{setters:[function(e){t=e.cclegacy,s=e._decorator,o=e.Component,i=e.UITransform,n=e.Node,d=e.instantiate,r=e.Sprite,h=e.v3,a=e.isValid},function(e){c=e.Bundle},function(e){l=e.EventMgr},function(e){u=e.EventType},function(e){g=e.ShelveLocker},function(e){p=e.Mode},function(e){_=e.ObjUtil},function(e){v=e.AudioManager},function(e){G=e.ResMgr},function(e){m=e.GoodData}],execute:function(){var f,T;t._RF.push({},"1f35dCiJaJPq5onHDIA68gF","GameMgr",void 0);const{ccclass:k,property:A}=s;e("GameMgr",k("Manager/GameMgr")(((T=class e extends o{static get Stage(){return this._node.children[0]}static get CurLevel(){return this.mode==p.dessert?m.instance.dessertLevel:this.mode==p.fruit?m.instance.fruitLevel:this.mode==p.snack?m.instance.snackLevel:void 0}static get isHardLevel(){return this.CurLevel%5==0}static get Pause(){return this.pause}static set Pause(e){this.pause=e,l.emit(u.Pause,e)}onLoad(){e._inst=this,e._node=this.node,e._uiTrans=this.getComponent(i),this.node.on(n.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(n.EventType.TOUCH_END,this.onTouchFinish,this),this.node.on(n.EventType.TOUCH_CANCEL,this.onTouchFinish,this)}static createStage(){const e=G.getRes(c.Game,"Stage",c.GamePath),t=d(e);this._node.addChild(t)}static startGame(){this.reset(),this._node.destroyAllChildren(),this._inst.scheduleOnce((()=>{this.createStage()}))}static passGame(){_.has(this.curLevel,this.mode)||(this.curLevel[this.mode]=0),this.curLevel[this.mode]++}static quitGame(){this._node.destroyAllChildren(),this.reset()}static pick(t,s){this._pickedGoods=t,this._holdGoods=new n;this._holdGoods.addComponent(r).spriteFrame=t.Sp.spriteFrame,this._node.addChild(this._holdGoods),s.y+=80;const o=e._uiTrans.convertToNodeSpaceAR(h(s.x,s.y,0));this._holdGoods.setPosition(o),v.instance.playSound("Good|pick")}static release(){let e=!1;const t=this._holdGoods.getWorldPosition();for(let s=0;s<this.shelveArr.length;s++){const o=this.shelveArr[s];if(o.getComponentInChildren(g))continue;const n=o.getComponent(i),d=o.node.getWorldPosition(),r=n.convertToNodeSpaceAR(t),h=Math.abs(d.x-t.x),a=Math.abs(d.y-t.y);if(h<n.width/2&&a<n.height/2){const t=o.getSlot(r);if(t<0||o.isSlotOccupied(t))break;const s=this._pickedGoods.Id;o.placeGoods(s,t),e=!0;break}}e?l.emit(u.PlaceGoods):this._pickedGoods.Visible=!0,this._pickedGoods=null,this._holdGoods.destroy(),this._holdGoods=null,v.instance.playSound("Good|release")}static get isPicking(){return!!this._pickedGoods}onTouchMove(t){const s=e._holdGoods;if(!a(s))return;const o=t.getUILocation();o.y+=80;const i=e._uiTrans.convertToNodeSpaceAR(h(o.x,o.y,0));s.setPosition(i)}onTouchFinish(t){a(e._holdGoods)&&e.release()}static reset(){this._pickedGoods=null,this._holdGoods=null,this.shelveArr=[],this.shelveLockerArr=[],this.goodsArr=[],this.goodsData={}}static get isStucked(){for(let e=0;e<this.shelveArr.length;e++){if(!this.shelveArr[e].isAllSlotOccupied())return!1}return!0}})._inst=null,T._node=null,T._uiTrans=null,T.curLevel={},T.mode=p.dessert,T._pickedGoods=null,T._holdGoods=null,T.shelveArr=[],T.shelveLockerArr=[],T.goodsArr=[],T.goodsData={},T.pause=!1,f=T))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/GamePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./MiniGameData.ts","./AdManager.ts","./SpriteEx.ts"],(function(e){var t,i,n,s,a,o,l,c,r,h,p,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.WebView,a=e.Node,o=e._decorator,l=e.Component},function(e){c=e.OpenPopupManager},function(e){r=e.Constants},function(e){h=e.MiniGameData},function(e){p=e.AdManager,d=e.AdType},function(e){u=e.SpriteEx}],execute:function(){var w,m,g,b,v,_,f,M,y;n._RF.push({},"c3d7bo+O6JOoJP9xs1xlar7","GamePopup",void 0);const{ccclass:D,property:P}=o;e("GamePopup",(w=D("GamePopup"),m=P(s),g=P(u),b=P(a),w((f=t((_=class extends l{constructor(){super(...arguments),i(this,"webView",f,this),i(this,"bg",M,this),i(this,"mask",y,this),this._game="helpllama",this._initDone=!1,this.eventHandler=null}show(){h.instance.getHelpInfo(),this.eventHandler=this.onEventListener.bind(this),this.mask.active=!1,window.addEventListener("message",this.eventHandler),this.webView._impl._webview&&this.webView._impl._webview.contentWindow&&this.webView._impl._webview.contentWindow.postMessage({game:this._game,action:"play"},"*")}onEventListener(e){try{if(e.data.game&&e.data.game==this._game){let t=e.data.action;if("close"==t)this.onCloseBtn();else if("toinit"==t)this._initDone=!0,this.sendInitMessage();else if("initdone"==t)this.onInitDone();else if("settle"==t){let t=e.data.data;this.onSettle(t.level)}else if("hint"==t){let t=e.data.data;this.onHint(t.uuid)}else"hideMask"==t?this.mask.active=!1:"showMask"==t&&(this.mask.active=!0)}}catch(e){console.log("event",e)}}onWebviewEvent(){this.schedule(this.sendInitMessage,.05)}sendInitMessage(){if(this._initDone)return void this.unschedule(this.sendInitMessage);if(!h.instance.helpGameObj)return;let e=h.instance.helpGameObj;this.webView._impl._webview.contentWindow.postMessage({game:this._game,action:"init",data:{level:e.level}},"*")}onInitDone(){this._initDone=!0}onSettle(e){h.instance.settle(e)}onHint(e){p.instance.showAd(d.MINIGAME,0,((t,i)=>{0==t?(h.instance.hint(i),this.sendMessage("callback",{uuid:e,code:0})):this.sendMessage("callback",{uuid:e,code:1})}))}sendMessage(e,t){this.webView._impl._webview.contentWindow.postMessage({game:this._game,action:e,data:t},"*")}onCloseBtn(){c.instance.hide(r.PopupUI.GamePopup),window.removeEventListener("message",this.eventHandler)}}).prototype,"webView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(_.prototype,"mask",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc"],(function(t){var e,a,s;return{setters:[function(t){e=t.cclegacy,a=t.sys,s=t.game}],execute:function(){e._RF.push({},"2640fpHvMFP1aHxsQPPm+DZ","GameUtil",void 0);t("GameUtil",class{static exit(){switch(a.platform){case a.Platform.MOBILE_BROWSER:case a.Platform.DESKTOP_BROWSER:case a.Platform.ANDROID:s.end()}}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalGood.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"f5967w1u7lF1IKGHUAli8Kv","GlobalGood",void 0);class _{}e("GlobalGood",_),_.Version="1.0.0",_.Default_Item={0:0,1:3,2:3,3:3,4:3},_.Goods_Offset=15,_.Normal_Level_Coin_Default_Cnt=100,_.Normal_Level_Coin_Add_Cnt=10,_.Level_Time=0,_.Freeze_Time=20,_.Revive_Add_Time=60,_.Time_Out_Alert_Time=5,_.Max_Combo=8,_.Double_Coin_Duration=30,_.Lucky_Spin_Coin_Cost=100,o._RF.pop()}}}));

System.register("chunks:///_virtual/GoldNumberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Util.ts"],(function(t){var e,r,o,n,i,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Label,i=t._decorator,c=t.Component},function(t){u=t.Util}],execute:function(){var l,s,a,p,d;o._RF.push({},"96ddd1lONdJ5aKaWoK8ckaT","GoldNumberItem",void 0);const{ccclass:m,property:b}=i;t("GoldNumberItem",(l=m("GoldNumberItem"),s=b(n),l((d=e((p=class extends c{constructor(){super(...arguments),r(this,"count",d,this)}init(t){this.count.string="+"+u.formatNumber(t)}}).prototype,"count",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=p))||a));o._RF.pop()}}}));

System.register("chunks:///_virtual/GoodData.ts",["cc","./HttpService.ts","./Api.ts","./EventMgr.ts","./EventType.ts","./AdManager.ts","./OpenPopupManager.ts","./SkillType.ts","./PlayerData.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var s,e,i,o,a,n,d,O,c,h,_,r,p;return{setters:[function(t){s=t.cclegacy,e=t._decorator},function(t){i=t.HttpService},function(t){o=t.Api},function(t){a=t.EventMgr},function(t){n=t.EventType},function(t){d=t.AdManager,O=t.AdType},function(t){c=t.OpenPopupManager},function(t){h=t.SkillName},function(t){_=t.PlayerData},function(t){r=t.EventListener},function(t){p=t.GameEvent}],execute:function(){var m,g;s._RF.push({},"0a65ep2bMJI4rk8uf60H1Te","GoodData",void 0);const{ccclass:u}=e;t("GoodData",u("GoodData")(((g=class t{constructor(){this._goodObj=null,this._itemObjs=null,this._spinItemObjs=[],this._gameId=0,this._gameMode="",this._curStar=0,this._pos=null}get pos(){return this._pos}get goodObj(){return this._goodObj}get itemObjs(){return this._itemObjs}get spinItemObjs(){return this._spinItemObjs}get star(){return this._goodObj?this._goodObj.star:0}get fruitLevel(){return this._goodObj?this._goodObj.fruit:1}get dessertLevel(){return this._goodObj?this._goodObj.dessert:1}get snackLevel(){return this._goodObj?this._goodObj.snack:1}get curStar(){return this._curStar}set curStar(t){0==t?this._curStar=0:this._curStar+=t}set pos(t){this._pos=t}initCurStar(){this._curStar=0}getGoodInfo(){i.instance.post(o.GOOD_INFO).then((t=>{t&&0==t.code&&(this._goodObj=t.data.info,this._itemObjs=t.data.items,this._spinItemObjs=t.data.spinItems,a.emit(n.UpdateGoodData))}))}getItem(t){return this._itemObjs[t]?this._itemObjs[t]:0}play(t,s,e){s?d.instance.showAd(O.GOOD_GAME,D.GOOD_PLAY,((s,i)=>{this._play(t,i,e)})):this._play(t,"",e)}_play(t,s,e){i.instance.post(o.GOOD_PLAY,{type:t,sign:s}).then((s=>{s&&0==s.code?(this._goodObj=s.data.info,this._gameId=s.data.gameId,this._gameMode=t,a.emit(n.UpdateGoodData),e()):c.instance.showToast(s.msg)}))}settle(t){let s=this._gameId,e=this._gameMode;this._goodObj.star+=t,i.instance.post(o.GOOD_SETTLE,{type:e,star:t,gameId:s}).then((t=>{t&&0==t.code?(this._goodObj=t.data.info,a.emit(n.UpdateGoodData)):c.instance.showToast(t.msg)}))}doubleClaim(t){c.instance.showLoadingPopup(),d.instance.showAd(O.GOOD_GAME,D.GOOD_DOUBLE,((s,e)=>{i.instance.post(o.GOOD_DOUBLE,{sign:e}).then((s=>{r.emit(p.HIDE_LOADING),s&&0==s.code?(this._goodObj=s.data.info,a.emit(n.UpdateGoodData),c.instance.showToast("Success"),t()):c.instance.showToast(s.msg)}))}))}addItem(t,s){let e=h.indexOf(t);d.instance.showAd(O.GOOD_GAME,e,((e,d)=>{i.instance.post(o.GOOD_ITEM_APPLY,{type:t.toLowerCase(),sign:d}).then((t=>{t&&0==t.code?(this._goodObj=t.data.info,this._itemObjs=t.data.items,this._spinItemObjs=t.data.spinItems,s(),a.emit(n.UpdateGoodData)):c.instance.showToast(t.msg)}))}))}useItem(t){i.instance.post(o.GOOD_ITEM_USE,{type:t}).then((t=>{t&&0==t.code?(this._goodObj=t.data.info,this._itemObjs=t.data.items,this._spinItemObjs=t.data.spinItems,a.emit(n.UpdateGoodData)):c.instance.showToast(t.msg)}))}addTime(t){d.instance.showAd(O.GOOD_GAME,D.GOOD_TIME,((s,e)=>{i.instance.post(o.GOOD_ITEM_USE,{}).then((t=>{})),t()}))}draw(t){i.instance.post(o.GOOD_DRAW,{}).then((s=>{s&&0==s.code?(this._goodObj=s.data.info,t(0,s.data.reward),_.instance.getPlayerInfo(),a.emit(n.UpdateGoodData)):(t(1),c.instance.showToast(s.msg))})).catch((s=>{t(1)}))}claim(t){d.instance.showAd(O.GOOD_GAME,D.GOOD_DAILY,((s,e)=>{i.instance.post(o.GOOD_CLAIM,{sign:e}).then((s=>{0==s.code?(this._goodObj=s.data.info,this._itemObjs=s.data.items,this._spinItemObjs=s.data.spinItems,a.emit(n.UpdateGoodData),t(),c.instance.showToast("Success")):c.instance.showToast(s.msg)}))}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,m=g))||m);let D=t("GoodAdType",function(t){return t[t.GOOD_PLAY=11]="GOOD_PLAY",t[t.GOOD_DOUBLE=12]="GOOD_DOUBLE",t[t.GOOD_TIME=13]="GOOD_TIME",t[t.GOOD_DAILY=14]="GOOD_DAILY",t}({}));t("GoodInfoResult",class{constructor(){this.info=void 0,this.items=void 0,this.spinItems=void 0}});t("GoodPlayResult",class{constructor(){this.info=void 0,this.items=void 0,this.spinItems=void 0,this.gameId=void 0}});t("GoodDrawResult",class{constructor(){this.info=void 0,this.reward=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/GoodGame.ts",["cc","./UI.ts","./Bundle.ts","./ResMgr.ts","./UIMgr.ts"],(function(e){var o,t,n,s,c,r,a;return{setters:[function(e){o=e.cclegacy,t=e.Component,n=e._decorator},function(e){s=e.UI},function(e){c=e.Bundle},function(e){r=e.ResMgr},function(e){a=e.UIMgr}],execute:function(){var u;o._RF.push({},"92bdbvKAAdD+ZRAMRSW3Jtb","GoodGame",void 0);const{ccclass:d,property:i}=n;e("GoodGame",d("GoodGame")(u=class extends t{async start(){await r.loadDir(c.Resources,"Prefab/GoodGame"),a.open(s.Loading,null,{uiBundle:c.Resources})}})||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Goods.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./ResMgr.ts","./Bundle.ts","./EffectMgr.ts","./Mode.ts"],(function(t){var e,s,i,o,r,n,a,c,h,l,p,u,d,g,f,y,S,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Prefab,r=t._decorator,n=t.Component,a=t.UIOpacity,c=t.Color,h=t.color,l=t.Sprite,p=t.Node,u=t.tween,d=t.v3},function(t){g=t.GameMgr},function(t){f=t.ResMgr},function(t){y=t.Bundle},function(t){S=t.EffectMgr},function(t){T=t.Mode}],execute:function(){var b,m,v,I,M;i._RF.push({},"f736bbSeSlKZat72TxK6rZe","Goods",void 0);const{ccclass:P,property:C}=r;t("Goods",(b=P("Game/Goods"),m=C(o),b((M=e((I=class extends n{constructor(){super(...arguments),this.uiOpacity=null,this.sp=null,s(this,"parMergePre",M,this),this.visible=!0,this.id=0,this.layer=0,this.slot=0}get Sp(){return this.sp}get Visible(){return this.visible}set Visible(t){this.visible=t,this.uiOpacity=this.getComponent(a),this.uiOpacity.opacity=this.visible?255:0}get Id(){return this.id}set Id(t){switch(this.id=t,g.mode){case T.dessert:this.sp.spriteFrame=f.getSpriteFrame(y.Icon,`dessert${t}`,y.IconPath+"Dessert/");break;case T.fruit:this.sp.spriteFrame=f.getSpriteFrame(y.Icon,`fruit${t}`,y.IconPath+"Fruit/");break;case T.snack:this.sp.spriteFrame=f.getSpriteFrame(y.Icon,`snack${t}`,y.IconPath+"Snack/")}}get Layer(){return this.layer}set Layer(t){this.layer=t;const e=0===this.layer;this.sp.color=e?c.WHITE:h(100,100,100,255)}get Slot(){return this.slot}set Slot(t){this.slot=t}onLoad(){this.uiOpacity=this.getComponent(a),this.sp=this.getComponentInChildren(l),this.node.on(p.EventType.TOUCH_START,this.onTouchStart,this)}onDestroy(){this.node.off(p.EventType.TOUCH_START,this.onTouchStart,this)}onTouchStart(t){if(0!==this.layer)return;if(g.isPicking)return;const e=t.getUILocation();g.pick(this,e),this.Visible=!1}remove(){this.node.off(p.EventType.TOUCH_START,this.onTouchStart,this);const t=u(this.sp.node);t.to(.15,{scale:d(1.1,.9,1)}),t.to(.15,{scale:d(.9,1.1,1)}),t.call((()=>{if(0===this.layer){const t=this.node.getWorldPosition();t.y-=30,S.create(this.parMergePre,g.Stage,t)}this.node.destroy()})),t.start()}bounce(t){void 0===t&&(t=0),u(this.sp.node).delay(t).to(.1,{scale:d(.9,1.1,1)}).to(.1,{scale:d(1.1,.9,1)}).to(.1,{scale:d(1,1,1)}).start()}}).prototype,"parMergePre",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/GuideCfg.ts",["cc"],(function(i){var s;return{setters:[function(i){s=i.cclegacy}],execute:function(){s._RF.push({},"2c041sCyjxGNbG+SLfWYelW","GuideCfg",void 0);i("GuideCfg",class{constructor(){this.ClassName="Guide",this.Id=void 0,this.step=void 0,this.pos=void 0,this.touchType=void 0,this.size=void 0,this.target=void 0,this.desc=void 0,this.isShowTips=void 0,this.isShowMoveFinger=void 0,this.isShowClickFinger=void 0,this.fingerPos=void 0,this.data=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/GuideData.ts",["cc","./CfgMgr.ts","./GuideCfg.ts","./HttpService.ts","./Api.ts"],(function(t){var _,e,E,i,s;return{setters:[function(t){_=t.cclegacy},function(t){e=t.CfgMgr},function(t){E=t.GuideCfg},function(t){i=t.HttpService},function(t){s=t.Api}],execute:function(){_._RF.push({},"23746skf7ZPd6WF8x1UnIST","GuideData",void 0);class S{constructor(){this._curStep=0,this._maxStep=1,this._guideMapData=new Map,this._guideMode=!1,this._target="",this._loadStep=0}get target(){return this._target}set target(t){this._target=t}get guideMode(){return this._guideMode}set guideMode(t){this._guideMode=t}get curStep(){return this._curStep}set loadStep(t){this._loadStep+=t,this.reportLoad(this._loadStep)}set curStep(t){this._curStep+=t,this.reportStep(this._curStep)}get maxStep(){return this._maxStep}initCfg(){let t=e.getCfgDataArray(new E);for(let _=0;_<t.length;_++){const e=t[_];this._guideMapData.set(e.step,e)}this._maxStep=this._guideMapData.size}getCurGuideCfg(){return this.getGuideCfgByStepId(this._curStep)}getGuideCfg(t){return this.getGuideCfgByStepId(t)}getCurGuideData(){return this.getGuideCfgByStepId(this._curStep).data}getMaxGuideStep(){return this._guideMapData.size}checkGuide(){return!!this._guideMapData.has(this._curStep)}getGuideCfgByStepId(t){return this._guideMapData.has(t)?this._guideMapData.get(t):null}reportStep(t){i.instance.post(s.USER_GUIDE_STEP,{step:t}).then((t=>{})).catch((t=>{}))}reportLoad(t){i.instance.post(s.USER_LOAD_STEP,{step:t}).then((t=>{})).catch((t=>{}))}clear(){this._curStep=1,this._guideMode=!1}static get instance(){return this._instance||(this._instance=new S),this._instance}}t("GuideData",S),S._instance=null;t("GuideStep",function(t){return t[t.GUIDE_STEP1_BUY_LLAMA_BTN=1]="GUIDE_STEP1_BUY_LLAMA_BTN",t[t.GUIDE_STEP2_BUY_LLAMA_PAGE=2]="GUIDE_STEP2_BUY_LLAMA_PAGE",t[t.GUIDE_STEP3_BUY_LLAMA_ACTION=3]="GUIDE_STEP3_BUY_LLAMA_ACTION",t[t.GUIDE_STEP4_MERGE_LLAMA_BTN=4]="GUIDE_STEP4_MERGE_LLAMA_BTN",t[t.GUIDE_STEP5_MERGE_LLAMA_PAGE=5]="GUIDE_STEP5_MERGE_LLAMA_PAGE",t[t.GUIDE_STEP6_MERGE_LLAMA_ACTION=6]="GUIDE_STEP6_MERGE_LLAMA_ACTION",t[t.GUIDE_STEP7_EARN_BTN=7]="GUIDE_STEP7_EARN_BTN",t[t.GUIDE_STEP8_EARN_PAGE=8]="GUIDE_STEP8_EARN_PAGE",t[t.GUIDE_STEP9_EARN_INVEST_PAGE=9]="GUIDE_STEP9_EARN_INVEST_PAGE",t[t.GUIDE_STEP10_EARN_INVEST_ACTION=10]="GUIDE_STEP10_EARN_INVEST_ACTION",t[t.GUIDE_STEP11_EARN_SPIN_BTN=11]="GUIDE_STEP11_EARN_SPIN_BTN",t[t.GUIDE_STEP12_SPIN_PAGE=12]="GUIDE_STEP12_SPIN_PAGE",t[t.GUIDE_STEP13_SPIN_TAKEIT=13]="GUIDE_STEP13_SPIN_TAKEIT",t[t.GUIDE_STEP14_SPIN_BTN=14]="GUIDE_STEP14_SPIN_BTN",t}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/GuidePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./GuideData.ts","./EventListener.ts","./GameEvent.ts","./LanguageManager.ts"],(function(e){var t,i,n,s,o,c,h,r,a,l,u,g,p,d,m,T,f,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Node,o=e.Label,c=e._decorator,h=e.Component,r=e.Tween,a=e.Vec3,l=e.UITransform,u=e.Size,g=e.tween,p=e.Mask},function(e){d=e.Constants},function(e){m=e.OpenPopupManager},function(e){T=e.GuideData},function(e){f=e.EventListener},function(e){v=e.GameEvent},function(e){C=e.LanguageManager}],execute:function(){var b,E,k,y,F,_,w,S,A,N,D,G,P,O,I,M,z;n._RF.push({},"b7f14GTQL1M1pIO0vUy8UcV","GuidePopup",void 0);const{ccclass:B,property:H}=c;var U=function(e){return e[e.START=0]="START",e[e.MOVE=1]="MOVE",e[e.END=2]="END",e[e.CANCLE=3]="CANCLE",e}(U||{});e("GuidePopup",(b=B("GuidePopup"),E=H(s),k=H(s),y=H(s),F=H(o),_=H(s),w=H(s),S=H(s),b((D=t((N=class extends h{constructor(){super(...arguments),i(this,"content",D,this),i(this,"mask",G,this),i(this,"maskBg",P,this),i(this,"desc",O,this),i(this,"moveFinger",I,this),i(this,"tips",M,this),i(this,"clickFinger",z,this),this._touchStatus=U.START,this._done=null,this._stepId=0}show(e,t,i,n){void 0===n&&(n=0),this._stepId=n,this._done=t,this.unscheduleAllCallbacks(),this._touchStatus=U.START,this.tips.active=!1,this.moveFinger.active=!1,this.clickFinger.active=!1,r.stopAllByTarget(this.clickFinger),this.setGuideInfo(e),i&&i()}setGuideInfo(e,t){let i=new a,n=new a,s=0==this._stepId?T.instance.getCurGuideCfg():T.instance.getGuideCfg(this._stepId),o=s.fingerPos?s.fingerPos.split("|"):[0,0],c=new a,h=s.pos.split("|");if(c.x=Number(h[0]),c.y=Number(h[1]),this.mask.getComponent(l).setContentSize(new u(0,0)),e){let t=e.getComponent(l).convertToWorldSpaceAR(new a(0,0,0));i=this.content.getComponent(l).convertToNodeSpaceAR(t);let s=new u;s.height=1.1*e.getComponent(l).contentSize.height,s.width=1.1*e.getComponent(l).contentSize.width,n.x=i.x+s.width/2+Number(o[0]),n.y=i.y-s.height/2+Number(o[1]);let c=new u;c.height=10*s.height,c.width=10*s.width,this.mask.getComponent(l).setContentSize(c);const h=this.mask.getComponent(l);g(h).to(.6,{contentSize:s},{easing:"sineIn"}).call((()=>{})).start(),this.mask.setPosition(i),this.moveFinger.setPosition(i),this.maskBg.setPosition(-i.x,-i.y,0);const r=this.mask.getComponent(l),{width:d,height:m,anchorX:T,anchorY:f}=r,v=this.mask.getComponent(p).subComp;v.clear();const C=-d*T,b=-m*f;v.roundRect(C,b,d,m,15),v.fill(),this.setEnable()}else n.x=Number(o[0]),n.y=Number(o[1]);1==s.isShowClickFinger?(this.clickFinger.setPosition(n),this.clickFinger.active=!0,g(this.clickFinger).sequence(g().delay(.5),g().call((()=>{this.clickFinger.children[0].active=!this.clickFinger.children[0].active,this.clickFinger.children[1].active=!this.clickFinger.children[0].active}))).repeatForever().start()):this.clickFinger.active=!1,s.desc&&(this.desc.string="",this.tips.active=!0,this.tips.setPosition(c),this.setDescAnim(C.instance.getLang(s.desc),s.touchType)),1==s.touchType?this.setEnable():this.setDisable(),this.moveFinger.active=!!s.isShowMoveFinger}async setDescAnim(e,t){let i=C.instance.language,n=.04;"en"==i&&(n=.01);let s="";for(let t=0;t<e.length;t++){const i=e[t];s+=i,await new Promise((e=>{this.scheduleOnce((()=>{this.desc.string=s,e(0)}),n)}))}0==t&&this.scheduleOnce((()=>{this._done&&this._done()}),.5)}onTouchStart(e){}onTouchMove(e){}onTouchEnd(){m.instance.hide(d.PopupUI.GuidePopup),this.unscheduleAllCallbacks(),this._done&&this._done()}onTouchCancle(){this._touchStatus=U.CANCLE}onHideFinger(){this.moveFinger.active=!1}setEnable(){this.maskBg.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.maskBg.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.maskBg.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.maskBg.on(s.EventType.TOUCH_CANCEL,this.onTouchCancle,this)}setDisable(){this.maskBg.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.maskBg.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.maskBg.off(s.EventType.TOUCH_END,this.onTouchEnd,this),this.maskBg.off(s.EventType.TOUCH_CANCEL,this.onTouchCancle,this)}onEnable(){f.on(v.GUIDE_HIDE_FINGER,this.onHideFinger,this)}onDisable(){f.off(v.GUIDE_HIDE_FINGER,this.onHideFinger,this),r.stopAllByTarget(this.clickFinger)}}).prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"mask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"maskBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(N.prototype,"desc",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"moveFinger",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"tips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"clickFinger",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=N))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/HttpService.ts",["cc","./axios.mjs_cjs=&original=.js","./Storage.ts","./Util.ts","./GameDefine.ts","./ComTipsPopup.ts","./OpenPopupManager.ts","./axios.js"],(function(e){var t,n,r,s,i,o,c;return{setters:[function(e){t=e.cclegacy},null,function(e){n=e.Storage},function(e){r=e.Util},function(e){s=e.GameDefine},function(e){i=e.ComTipsObj},function(e){o=e.OpenPopupManager},function(e){c=e.default}],execute:function(){t._RF.push({},"a0f36QIiXZCj7AJORAtKZuU","HttpService",void 0);const a="https://api.llamapayday.com";class u{constructor(e){this.instance=void 0,this.baseConfig={baseURL:a,timeout:5e3},this.instance=c.create(Object.assign(this.baseConfig,e)),this.instance.interceptors.request.use((e=>({...e,headers:{"Content-Type":"text/plain",Authorization:s.accessToken}})),(e=>Promise.reject(e))),this.instance.interceptors.response.use(void 0,(e=>{const{config:t}=e;if(!t||!t.retry)return Promise.reject(e);if(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)return Promise.reject(e);t.__retryCount+=1;return new Promise((e=>{setTimeout((()=>{e()}),t.retryDelay||1)})).then((()=>this.instance(t)))}))}getRequestIdentify(e,t){void 0===t&&(t=!1);let n=e.url;return t&&(n=n.startsWith("/")?a+n:a+"/"+n),"get"===e.method?encodeURI(n+JSON.stringify(e.params)):encodeURI(n+("string"==typeof e.data?e.data:JSON.stringify(e.data)))}post(e,t,c){let a="",u=n.getItem("logid");u&&(a=e.indexOf("?")>=0?`&logid=${u}`:`?logid=${u}`),c||(c={}),c.retry=10,c.retryDelay=500;let p=r.encrypt(JSON.stringify(t?{...t,version:s.version}:{version:s.version}));return new Promise(((n,u)=>{this.instance.post(e+a,p,c).then((c=>{c&&201!=c.status&&console.log("error",c.data);try{let a=JSON.parse(r.decrypt(c.data.toString()));if(a||(a={code:1,msg:"network.error"}),s.isDebug&&console.log("url",e,"param",t,"response",a),401==a.code){let e=new i;e.hideClose=!0,e.title="Tips",e.desc="Your account has logged in on another device. Exiting the game.",o.instance.showComTipsPopup(e,(e=>{e&&window.Telegram.WebApp.close()}))}return n(a)}catch(e){return n({code:1,msg:"network.error"})}})).catch((t=>(console.log("post error url:",e,t),n({code:500,msg:"network.error"}))))}))}get(e,t){return this.instance.get(e,t)}static get instance(){return this._instance||(this._instance=new u({})),this._instance}}e("HttpService",u),u._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/InputBlock.ts",["cc"],(function(t){var c,e,s,i;return{setters:[function(t){c=t.cclegacy,e=t.BlockInputEvents,s=t._decorator,i=t.Component}],execute:function(){var n,o;c._RF.push({},"de3a2alxOdLV7S/4MFN8gbp","InputBlock",void 0);const{ccclass:l,requireComponent:u,disallowMultiple:a}=s;t("InputBlock",l("Misc/InputBlock")(n=a(!0)(n=u(e)(((o=class t extends i{static set Active(t){this._inst.node.active=t}onLoad(){t._inst=this,t.Active=!1}static setActive(c){this._inst.unscheduleAllCallbacks(),this.Active=!0,this._inst.scheduleOnce((()=>{t.Active=!1}),c)}})._inst=void 0,n=o))||n)||n)||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/InviteData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./InviteLevelCfg.ts","./CfgMgr.ts","./Util.ts","./OpenPopupManager.ts"],(function(e){var t,n,i,a,s,o,r,c,l,d,h;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){i=e.HttpService},function(e){a=e.Api},function(e){s=e.EventListener},function(e){o=e.GameEvent},function(e){r=e.PlayerData},function(e){c=e.InviteLevelCfg},function(e){l=e.CfgMgr},function(e){d=e.Util},function(e){h=e.OpenPopupManager}],execute:function(){var p,v;t._RF.push({},"8bce85OBDVICLJObIzY4UVV","InviteData",void 0);const{ccclass:u}=n;e("InviteData",u("InviteData")(((v=class e{constructor(){this._levelMapData=new Map,this._maxLevel=0,this._linkList=[],this._frenList=[],this._inviteObj=null}get inviteObj(){return this._inviteObj}get linkList(){return this._linkList}get frenList(){return this._frenList}get maxLevel(){return this._maxLevel}initCfg(){let e=l.getCfgDataArray(new c);for(let t=0;t<e.length;t++){const n=e[t];this._levelMapData.set(n.level,n),this._maxLevel=this._maxLevel>n.level?this._maxLevel:n.level}}getInviteCfg(e){return this._levelMapData.has(e)?this._levelMapData.get(e):this._levelMapData.get(e-1)}getInviteInfo(){i.instance.post(a.LINK_INFO).then((e=>{e&&0==e.code&&(this._inviteObj=e.data,s.emit(o.UPDATE_LINK_INFO_DATA))}))}getFrens(){i.instance.post(a.FRENS_LIST).then((e=>{e&&0==e.code&&(this._frenList=e.data.frens,s.emit(o.UPDATE_FREN_DATA))}))}getLinks(){i.instance.post(a.LINK_LIST).then((e=>{e&&0==e.code&&(this._linkList=e.data.links,s.emit(o.UPDATE_LINK_LIST_DATA))}))}claim(e){i.instance.post(a.FRENS_CLAIM,{level:e}).then((e=>{e&&0==e.code&&(this._inviteObj=e.data,s.emit(o.UPDATE_LINK_INFO_DATA))}))}share(e,t){void 0===t&&(t=!1),h.instance.showLoadingPopup(),i.instance.post(a.LINK_SHARE,{type:e}).then((async n=>{if(s.emit(o.HIDE_LOADING),n&&0==n.code){let i=d.base64Encode(""+n.data.linkId),a=r.instance.configObj.gameBot+"?startapp="+r.instance.userObj.code+"-"+i+"-"+e,s="🎉 Join Me & Earn Together! – Tap the link to start winning! 💰🔥";if(t){if(await this.copyTextToClipboard(a))h.instance.showToast("Success");else{const e="https://t.me/share/url?url="+encodeURIComponent(a)+"&text="+encodeURIComponent(s);window.Telegram.WebApp.openTelegramLink(e)}}else{const e="https://t.me/share/url?url="+encodeURIComponent(a)+"&text="+encodeURIComponent(s);if(n.data.messageId)try{window.Telegram.WebApp.shareMessage(n.data.messageId,(e=>{console.log(e)}))}catch(t){window.Telegram.WebApp.openTelegramLink(e)}else window.Telegram.WebApp.openTelegramLink(e)}}}))}fallback(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();let n=!1;try{n=document.execCommand("copy")}finally{document.body.removeChild(t)}return n}async copyTextToClipboard(e){try{const{clipboard:t}=navigator;if(t)return await t.writeText(e),!0}catch{}return this.fallback(e)}reShare(e,t){let n=d.base64Encode(""+e),i=r.instance.configObj.gameBot+"?startapp="+[r.instance.userObj.code,n,t].join("-"),a="🎉 Join Me & Earn Together! – Tap the link to start winning! 💰🔥";"card"==t?a="🃏 Today’s Cards Revealed! Complete your set & grab your bonus! 🚀💎":"morse"==t&&(a="🔍 I Cracked the Code! Check the answer & claim your reward now! 🎁✨");const s="https://t.me/share/url?url="+encodeURIComponent(i)+"&text="+encodeURIComponent(a||"");window.Telegram&&window.Telegram.WebApp.openTelegramLink(s)}click(e){i.instance.post(a.LINK_CLICK,{linkId:e}).then((e=>{}))}static get instance(){return this._instance||(this._instance=new e),this._instance}})._instance=null,p=v))||p);e("LinkObj",class{constructor(){this.countdown=void 0,this.shareTime=void 0,this.earn=void 0,this.click=void 0,this.invite=void 0,this.game=void 0,this.linkId=void 0,this.payload=void 0,this.type=void 0}});e("FrenObj",class{constructor(){this.username=void 0,this.avatar=void 0,this.amount=void 0,this.joinTime=void 0}});e("ShareType",function(e){return e.INVITE="invite",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/InviteLevelCfg.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"421ceTHf+BBibK0RGH/I8E4","InviteLevelCfg",void 0);e("InviteLevelCfg",class{constructor(){this.ClassName="InviteLevel",this.Id=void 0,this.level=void 0,this.exp=void 0,this.gold=void 0,this.gem=void 0,this.rewards=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/InvitePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesUtil.ts","./EventListener.ts","./GameEvent.ts","./Constants.ts","./InviteData.ts","./SuperLinkSubItem.ts"],(function(t){var e,n,i,r,o,s,a,l,c,h,u,p,b,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,r=t.Label,o=t.Node,s=t.Prefab,a=t._decorator,l=t.Component,c=t.instantiate},function(t){h=t.ResourcesUtil},function(t){u=t.EventListener},function(t){p=t.GameEvent},function(t){b=t.Constants},function(t){f=t.InviteData},function(t){g=t.SuperLinkSubItem}],execute:function(){var d,C,m,v,_,I,E,k,y,L,N,D,P,S,w,x,A;i._RF.push({},"abc39SFkDFM+ZAoFdRqU7Va","InvitePopup",void 0);const{ccclass:U,property:z}=a;t("InvitePopup",(d=U("InvitePopup"),C=z(r),m=z(r),v=z(r),_=z(r),I=z(o),E=z(o),k=z(s),d((N=e((L=class extends l{constructor(){super(...arguments),n(this,"linkCount",N,this),n(this,"linkEarn",D,this),n(this,"frenCount",P,this),n(this,"frenEarn",S,this),n(this,"tabContent",w,this),n(this,"content",x,this),n(this,"superLinkSubItem",A,this),this._index=0,this._flag=!1,this._popup=["privilegeItem","superLinkItem","friendItem"]}show(){f.instance.initCfg(),f.instance.getInviteInfo(),f.instance.getLinks(),this.setContent()}async setContent(){if(!this._flag&&!this.content.children.length){this._flag=!0;for(let t=0;t<this._popup.length;t++){const e=this._popup[t];let n=b.invitePath+e;await h.getPrefab(n).then((n=>{let i=c(n);i.parent=this.content,i.active=0==t;let r=e[0].toUpperCase()+e.slice(1);i.getComponent(r).init()}))}this.content.children.forEach(((t,e)=>{t.active=!1})),this.content.children[this._index].active=!0,this.tabContent.children.forEach(((t,e)=>{t.getChildByName("bg").active=!1})),this.tabContent.children[this._index].getChildByName("bg").active=!0}}onTabBtn(t,e){let n=Number(e);this.content.children[n]?(this._index=Number(n),this.tabContent.children.forEach(((t,e)=>{t.getChildByName("bg").active=!1})),this.tabContent.children[n].getChildByName("bg").active=!0,this.content.children[this._index].active=!0,this.content.children.forEach(((t,e)=>{this._index!=e&&(t.active=!1)})),u.emit(p.SWITCH_INVITE_TAB)):this._index=Number(n)}onUpdateContent(){let t=f.instance.inviteObj;t&&(this.frenCount.string=`${t.frensCount}`,this.frenEarn.string=`${t.frensEarn}`,this.linkCount.string=`${t.linkCount}`,this.linkEarn.string=`${t.linkEarn}`)}async setLinkContent(){this.content.removeAllChildren();let t=f.instance.linkList;for(let e=0;e<t.length;e++){let n=c(this.superLinkSubItem);n.getComponent(g).init(t[e]),n.parent=this.content}}onEnable(){u.on(p.UPDATE_LINK_INFO_DATA,this.onUpdateContent,this)}onDisable(){u.off(p.UPDATE_LINK_INFO_DATA,this.onUpdateContent,this)}}).prototype,"linkCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(L.prototype,"linkEarn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(L.prototype,"frenCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(L.prototype,"frenEarn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"tabContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(L.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"superLinkSubItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCfg.ts",["cc"],(function(t){var L;return{setters:[function(t){L=t.cclegacy}],execute:function(){L._RF.push({},"a2c41719ONKSp9LrJ+1reWC","ItemCfg",void 0);t("ItemCfg",class{constructor(){this.ClassName="Item",this.Id=void 0,this.name=void 0,this.desc=void 0,this.icon=void 0,this.singleIcon=void 0,this.quality=void 0,this.dataId=void 0,this.type=void 0}});t("ItemType",function(t){return t.Gold="gold",t.Gem="gem",t.Usdt="usdt",t.Candy="candy",t.LlamaToken="llama",t.Energy="energy",t.Ticket="ticket",t.TicketBox="ticketbox",t.Food="food",t.CardFragment="cardfragment",t}({})),t("ItemIdType",function(t){return t[t.Gold=101]="Gold",t[t.Llama=102]="Llama",t[t.GEM=103]="GEM",t[t.Candy=104]="Candy",t[t.USDT=107]="USDT",t[t.LLAMA_BLACK_WOOL=201]="LLAMA_BLACK_WOOL",t[t.LLAMA_BROWN_WOOL=202]="LLAMA_BROWN_WOOL",t[t.LLAMA_PINK_WOOL=203]="LLAMA_PINK_WOOL",t[t.LLAMA_YELLOW_WOOL=204]="LLAMA_YELLOW_WOOL",t[t.LLAMA_GREEN_WOOL=205]="LLAMA_GREEN_WOOL",t}({}));L._RF.pop()}}}));

System.register("chunks:///_virtual/ItemData.ts",["cc","./ItemCfg.ts","./Constants.ts","./CfgMgr.ts"],(function(t){var e,n,i,s,a,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ItemCfg,i=t.ItemIdType,s=t.ItemType},function(t){a=t.Constants},function(t){r=t.CfgMgr}],execute:function(){e._RF.push({},"5a1c8xEumlBUobTtcjaol54","ItemData",void 0);class c{getItemCfg(t){return r.getDataById(new n,t)}getIconPath(t){let e=r.getDataById(new n,t);return e?a.itemsPath+e.icon+"/spriteFrame":""}toNumber(t,e,n){void 0===n&&(n=0);let s="";if(s=t==i.USDT?Number(e/1e3).toFixed(0==n?e<100?3:2:n):t==i.GEM?Number(e/1e3).toFixed(n):Number(e).toFixed(n),s.indexOf(".")>=0){for(;"0"==s[s.length-1];)s=s.slice(0,s.length-1);"."==s[s.length-1]&&(s=s.slice(0,s.length-1))}return s}toTokenNumber(t,e,n){void 0===n&&(n=0);let i="";if(t!=s.Gold&&t!=s.LlamaToken&&t!=s.Candy||(i=Number(e).toFixed(n)),t!=s.Usdt&&t!=s.Gem||(i=Number(e/1e3).toFixed(n)),i.indexOf(".")>=0){for(;"0"==i[i.length-1];)i=i.slice(0,i.length-1);"."==i[i.length-1]&&(i=i.slice(0,i.length-1))}return i}static get instance(){return this._instance||(this._instance=new c),this._instance}}t("ItemData",c),c._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0d8dbuzh8xPFroflyUrnK2H","ItemType",void 0);e("ItemType",function(e){return e[e.Coin=0]="Coin",e[e.Skill=1]="Skill",e[e.Collection=2]="Collection",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LabData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./CfgMgr.ts","./LabSkillCfg.ts","./OpenPopupManager.ts","./AdManager.ts","./LlamaData.ts"],(function(t){var e,s,a,n,i,l,c,o,r,g,h,u;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){a=t.HttpService},function(t){n=t.Api},function(t){i=t.EventListener},function(t){l=t.GameEvent},function(t){c=t.CfgMgr},function(t){o=t.LabSkillCfg},function(t){r=t.OpenPopupManager},function(t){g=t.AdManager,h=t.AdType},function(t){u=t.LlamaData}],execute:function(){var _,p;e._RF.push({},"008c8RKPA5F+KrVwoKHZa4X","LabData",void 0);const{ccclass:f}=s;t("LabData",f("LabData")(((p=class t{constructor(){this._skillMapData=new Map,this._itemMapData=new Map,this._skillObjs=[]}get skillObjs(){return this._skillObjs}initCfg(){let t=c.getCfgDataArray(new o);for(let e=0;e<t.length;e++){let s=t[e],a=s.category+"|"+s.type+"|"+s.element+"|"+s.level;this._skillMapData.set(a,s)}}getSkillCfg(t,e,s,a){let n=t+"|"+e+"|"+s+"|"+a;return this._skillMapData.get(n)}getItemCount(t){return this._itemMapData.has(t)?this._itemMapData.get(t):0}getLabInfo(){a.instance.post(n.LAB_INFO).then((t=>{if(t&&0==t.code){this._skillObjs=t.data.skills;for(let e=0;e<t.data.items.length;e++){let s=t.data.items[e];this._itemMapData.set(s.itemId,s.count)}i.emit(l.UPDATE_LAB_DATA)}}))}researchSkill(t,e,s,c){a.instance.post(n.LAB_RESEARCH,{category:t,type:e,element:s,level:c}).then((t=>{if(t&&0==t.code){this._skillObjs=t.data.skills;for(let e=0;e<t.data.items.length;e++){let s=t.data.items[e];this._itemMapData.set(s.itemId,s.count)}i.emit(l.UPDATE_LAB_DATA),r.instance.showToast("Success")}else r.instance.showToast(t.msg)}))}boostSkill(t,e,s,c){g.instance.showAd(h.LAB_BOOST,0,((o,g)=>{0==o&&a.instance.post(n.LAB_BOOST,{sign:g,category:t,type:e,element:s,level:c}).then((t=>{t&&0==t.code?(this._skillObjs=t.data.skills,i.emit(l.UPDATE_LAB_DATA),r.instance.showToast("Success"),u.instance.getLlamaInfo()):r.instance.showToast(t.msg)}))}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,_=p))||_);t("LabInfoObj",class{constructor(){this.skills=void 0,this.items=void 0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,s,u,l,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e.Label,u=e.CCInteger,l=e._decorator,a=e.Component}],execute:function(){var n,h,c,b,o,m,f,p;r._RF.push({},"6f9415t9XxG1740n06wYUVh","LabelTick",void 0);const{ccclass:d,property:N,requireComponent:x}=l;e("LabelTick",(n=d("UIExtend/LabelTick"),h=x(s),c=N(u),n(b=h((m=i((o=class extends a{constructor(){super(...arguments),t(this,"prefix",m,this),t(this,"suffix",f,this),t(this,"decimalPlaces",p,this),this.label=null,this.curNumber=0,this.intervalPerUpdate=0,this.finalNumber=0}onLoad(){this.label=this.getComponent(s)}onEnable(){}onDisable(){this.unscheduleAllCallbacks()}init(e){this.curNumber=e,this.label.string=`${this.prefix}${this.curNumber.toFixed(this.decimalPlaces)}${this.suffix}`}tickLabel(e,i){void 0===i&&(i=.5),this.curNumber===e?(this.curNumber=e,this.finalNumber=e,this.label.string=`${this.prefix}${this.finalNumber.toFixed(this.decimalPlaces)}${this.suffix}`):(this.finalNumber=e,this.intervalPerUpdate=(e-this.curNumber)/(33*i),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=`${this.prefix}${this.curNumber.toFixed(this.decimalPlaces)}${this.suffix}`)}updateForNumber(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber)),this.label.string=`${this.prefix}${this.curNumber.toFixed(this.decimalPlaces)}${this.suffix}`}stop(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null}}).prototype,"prefix",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=i(o.prototype,"suffix",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=i(o.prototype,"decimalPlaces",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=o))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LabPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LabData.ts","./EventListener.ts","./GameEvent.ts","./LabSkillItem.ts","./SpriteEx.ts"],(function(t){var e,n,i,a,l,o,s,r,p,b,u,c,h,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,l=t.Prefab,o=t._decorator,s=t.Component,r=t.instantiate},function(t){p=t.OpenPopupManager},function(t){b=t.Constants},function(t){u=t.LabData},function(t){c=t.EventListener},function(t){h=t.GameEvent},function(t){f=t.LabSkillItem},function(t){m=t.SpriteEx}],execute:function(){var d,g,L,P,y,C,k,S,_;i._RF.push({},"d5577S49GNNLap71K0uJS5O","LabPopup",void 0);const{ccclass:v,property:D}=o;t("LabPopup",(d=v("LabPopup"),g=D(a),L=D(a),P=D(l),d((k=e((C=class extends s{constructor(){super(...arguments),n(this,"tabs",k,this),n(this,"llamaContent",S,this),n(this,"skillItemPrefab",_,this),this._tabType="llama"}show(){u.instance.initCfg(),u.instance.getLabInfo(),this.onUpdateSkills()}onUpdateSkills(){this.llamaContent.removeAllChildren();let t=u.instance.skillObjs;for(let n=0;n<t.length;n++){let i=t[n];if(i.category==this._tabType){var e=r(this.skillItemPrefab);e.getComponent(f).init(i),e.parent=this.llamaContent}}}onTabBtn(t,e){for(let t=0;t<this.tabs.children.length;t++)this.tabs.children[t].getComponent(m).index=1;this.tabs.children[Number(e)].getComponent(m).index=0,0==Number(e)?this._tabType="llama":this._tabType="rainbow",this.onUpdateSkills()}onCloseBtn(){p.instance.hide(b.PopupUI.LabPopup)}onEnable(){c.on(h.UPDATE_LAB_DATA,this.onUpdateSkills,this)}onDisable(){c.off(h.UPDATE_LAB_DATA,this.onUpdateSkills,this)}}).prototype,"tabs",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(C.prototype,"llamaContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(C.prototype,"skillItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/LabSkillCfg.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"02301ij7ahG+IUloIknQ9u5","LabSkillCfg",void 0);i("LabSkillCfg",class{constructor(){this.ClassName="LabSkill",this.Id=void 0,this.category=void 0,this.type=void 0,this.element=void 0,this.level=void 0,this.value=void 0,this.duration=void 0,this.icon=void 0,this.desc=void 0,this.token=void 0,this.cost=void 0,this.itemId=void 0,this.itemCount=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/LabSkillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabData.ts","./SpriteEx.ts","./LanguageManager.ts","./Constants.ts","./ResourcesUtil.ts","./ItemData.ts","./Util.ts"],(function(e){var t,i,n,l,s,o,a,r,c,h,m,u,b,g,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,l=e.Label,s=e.Sprite,o=e.Node,a=e._decorator,r=e.Component,c=e.UITransform},function(e){h=e.LabData},function(e){m=e.SpriteEx},function(e){u=e.LanguageManager},function(e){b=e.Constants},function(e){g=e.ResourcesUtil},function(e){p=e.ItemData},function(e){d=e.Util}],execute:function(){var f,k,v,y,T,I,S,L,_,w,z,j,x,O,B,C,A,F,D,M,N,P,U,E,R,$,J;n._RF.push({},"09c490mNp5CwJMhP3J50oVC","LabSkillItem",void 0);const{ccclass:H,property:V}=a;e("LabSkillItem",(f=H("LabSkillItem"),k=V(l),v=V(m),y=V(m),T=V(l),I=V(s),S=V(s),L=V(l),_=V(l),w=V(o),z=V(o),j=V(l),x=V(l),f((C=t((B=class extends r{constructor(){super(...arguments),i(this,"tokenAmount",C,this),i(this,"token",A,this),i(this,"color",F,this),i(this,"itemAmount",D,this),i(this,"itemIcon",M,this),i(this,"icon",N,this),i(this,"desc",P,this),i(this,"levelText",U,this),i(this,"researchBtn",E,this),i(this,"boostBtn",R,this),i(this,"researchTime",$,this),i(this,"boostTime",J,this),this._skillObj=null}init(e){this._skillObj=e;let t=h.instance.getSkillCfg(e.category,e.type,e.element,e.level),i=h.instance.getSkillCfg(e.category,e.type,e.element,e.level+1);if(i){this.tokenAmount.string=p.instance.toTokenNumber(i.token,i.cost),this.token.index=["gold","candy","gem"].indexOf(i.token);let t=i.value+"";if("gemEarn"==i.type&&(t=Number(i.value/1e3).toFixed(3)),this.desc.string=u.instance.getLang(i.desc,[t]),i.itemId>0){this.itemAmount.string=`${i.itemCount}/`+h.instance.getItemCount(i.itemId);let e=p.instance.getIconPath(i.itemId);g.geSpriteFrame(e).then((e=>{this.itemIcon.spriteFrame=e;let t=this.itemIcon.getComponent(c).contentSize,i=Math.min(32/t.width,32/t.height);this.itemIcon.node.setScale(i,i)})),this.itemAmount.node.active=!0,this.itemIcon.node.active=!0}else this.itemAmount.node.active=!1,this.itemIcon.node.active=!1;this.levelText.string=`Lv.${e.level+1}`,this.researchTime.string=d.timeToString(i.duration),this.boostBtn.active=e.leftTime>0,this.researchBtn.active=!(e.leftTime>0),this.boostTime.string=d.countdown(e.leftTime),this.unschedule(this.updateTime),e.leftTime>0&&this.schedule(this.updateTime,1)}else{this.boostBtn.active=!1,this.researchBtn.active=!1,this.tokenAmount.string=u.instance.getLang("skill.maxlevel"),this.token.node.active=!1,this.itemAmount.node.active=!1,this.itemIcon.node.active=!1,this.levelText.string=`Lv.${e.level}`;let i=t.value+"";"gemEarn"==t.type&&(i=Number(t.value/100).toFixed(2)),this.desc.string=u.instance.getLang(t.desc,[i])}let n=b.skillPath+t.icon+"/spriteFrame";g.geSpriteFrame(n).then((e=>{this.icon.spriteFrame=e;let t=this.icon.getComponent(c).contentSize,i=Math.min(100/t.width,100/t.height);this.icon.node.setScale(i,i)})),0==t.element?this.color.node.active=!1:this.color.index=t.element-1}updateTime(){this._skillObj.leftTime<=0&&(h.instance.getLabInfo(),this.unschedule(this.updateTime)),this._skillObj.leftTime--,this.boostTime.string=d.timeToStrings(this._skillObj.leftTime)}onLearnBtn(){h.instance.researchSkill(this._skillObj.category,this._skillObj.type,this._skillObj.element,this._skillObj.level+1)}onBoostBtn(){h.instance.boostSkill(this._skillObj.category,this._skillObj.type,this._skillObj.element,this._skillObj.level+1)}}).prototype,"tokenAmount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(B.prototype,"token",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"color",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(B.prototype,"itemAmount",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(B.prototype,"itemIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(B.prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(B.prototype,"desc",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(B.prototype,"levelText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(B.prototype,"researchBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(B.prototype,"boostBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(B.prototype,"researchTime",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(B.prototype,"boostTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=B))||O));n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageCfg.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"5421bwLSEtJIY9GKVso7fvc","LanguageCfg",void 0);t("LanguageCfg",class{constructor(){this.ClassName="Language",this.Id=void 0,this.key=void 0,this.zh=void 0,this.tw=void 0,this.en=void 0,this.jp=void 0,this.kr=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./GameEvent.ts","./EventListener.ts","./LanguageManager.ts"],(function(e){var t,n,i,a,o,c,s,l,r,h,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e._decorator,c=e.Component,s=e.Sprite,l=e.Color},function(e){r=e.SpriteEx},function(e){h=e.GameEvent},function(e){u=e.EventListener},function(e){g=e.LanguageManager}],execute:function(){var d,p,L,f,m,_,b,E,v;i._RF.push({},"f5a62mxorBIooJ3L2n3odXQ","LanguageItem",void 0);const{ccclass:x,property:k}=o;e("LanguageItem",(d=x("LanguageItem"),p=k(r),L=k(r),f=k(a),d((b=t((_=class extends c{constructor(){super(...arguments),n(this,"flag",b,this),n(this,"lang",E,this),n(this,"checked",v,this),this._callback=void 0,this._index=void 0}init(e,t,n){this._index=e,this.flag.index=e,this.lang.index=e,this._callback=n,t?(this.checked.active=!0,this.node.getComponent(s).color=new l(255,255,255,255)):(this.checked.active=!1,this.node.getComponent(s).color=new l(54,54,78,255))}selectLanuage(e){e==this._index?(this.checked.active=!0,this.node.getComponent(s).color=new l(255,255,255,255)):(this.checked.active=!1,this.node.getComponent(s).color=new l(54,54,78,255))}onClickBtn(){this._callback?this._callback(this._index):(g.instance.setLanguage(this._index),g.instance.updateSceneRenderers(),u.emit(h.SELECT_LANGUAGE,this._index))}onEnable(){u.on(h.SELECT_LANGUAGE,this.selectLanuage,this)}onDisable(){u.off(h.SELECT_LANGUAGE,this.selectLanuage,this)}}).prototype,"flag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"lang",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(_.prototype,"checked",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts"],(function(e){var t,a,n,r,i,o,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.CCString,i=e._decorator,o=e.Component,l=e.Label,s=e.RichText},function(e){c=e.LanguageManager}],execute:function(){var u,g,p,L,b;n._RF.push({},"b50cel4OHxGVqeXNkma5pHX","LanguageLabel",void 0);const{ccclass:h,property:y}=i;e("LanguageLabel",(u=h("LanguageLabel"),g=y(r),u((b=t((L=class extends o{constructor(){super(...arguments),a(this,"key",b,this)}onLoad(){this.updateLabel()}updateLabel(){let e=this.getComponent(l)||this.getComponent(s);if(!e)return;let t=c.instance.getLang(this.key);e.string=t}}).prototype,"key",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=L))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageManager.ts",["cc","./LanguageCfg.ts","./CfgMgr.ts","./Constants.ts"],(function(e){var t,a,n,g,s,i;return{setters:[function(e){t=e.cclegacy,a=e.sys,n=e.director},function(e){g=e.LanguageCfg},function(e){s=e.CfgMgr},function(e){i=e.Constants}],execute:function(){t._RF.push({},"b59041AwXREjarFb2zZqXRO","LanguageManager",void 0);class l{constructor(){this._languageMap=new Map,this._englishMap=new Map,this._language="en",this._langList=["en","ja","ko","zh","tw","ru","de","th"]}get language(){return this._language}get index(){return this._langList.indexOf(this._language)}get langList(){return this._langList}init(){let e=a.localStorage.getItem(i.Language);if(!e){let t=a.languageCode?a.languageCode.toLowerCase():a.language.toLowerCase();e=0==t.indexOf("zh")?"zh-cn"==t||"zh"==t?"zh":"tw":this._langList.indexOf(t)>=0?t:"en"}this._langList.indexOf(e)>=0&&(this._language=e);let t=s.getCfgDataArray(new g);for(let e=0;e<t.length;e++)this._languageMap.set(t[e].key,t[e])}setLanguage(e){this._language=this._langList[e],a.localStorage.setItem(i.Language,this._language)}getLang(e,t){if(!this._languageMap.has(e))return e;let a=this._languageMap.get(e),n=a[this._language];if(n||(n=a.en),t&&t.length>0)for(let e=0;e<t.length;e++)n=n.replace("{"+e+"}",t[e]);return n}updateSceneRenderers(){let e=n.getScene().children,t=[];for(let a=0;a<e.length;++a){let n=e[a].getComponentsInChildren("LanguageLabel");Array.prototype.push.apply(t,n)}for(let e=0;e<t.length;++e){let a=t[e];a.node.active&&a.updateLabel()}}static get instance(){return this._instance||(this._instance=new l),this._instance}}e("LanguageManager",l),l._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LanguageManager.ts","./LanguageItem.ts"],(function(n){var e,t,a,o,i,r,u,s,c,p,g,l;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.initializerDefineProperty},function(n){a=n.cclegacy,o=n.Node,i=n.Prefab,r=n._decorator,u=n.Component,s=n.instantiate},function(n){c=n.OpenPopupManager},function(n){p=n.Constants},function(n){g=n.LanguageManager},function(n){l=n.LanguageItem}],execute:function(){var f,h,L,P,b,m,d;a._RF.push({},"5b2f54zq/5Fcb7RcGizRFUL","LanguagePopup",void 0);const{ccclass:y,property:I}=r;n("LanguagePopup",(f=y("LanguagePopup"),h=I(o),L=I(i),f((m=e((b=class extends u{constructor(){super(...arguments),t(this,"content",m,this),t(this,"langItem",d,this)}show(){let n=g.instance.language;0==this.content.children.length&&g.instance.langList.forEach(((e,t)=>{let a=s(this.langItem);a.getComponent(l).init(t,n==e),a.parent=this.content}))}onCloseBtn(){c.instance.hide(p.PopupUI.LanguagePopup)}}).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(b.prototype,"langItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./OpenPopupManager.ts","./Constants.ts","./PlayerData.ts"],(function(a){var t,e,s,o,n,i,l,m,c,r,d;return{setters:[function(a){t=a.cclegacy,e=a._decorator},function(a){s=a.HttpService},function(a){o=a.Api},function(a){n=a.EventListener},function(a){i=a.GameEvent},function(a){l=a.AdManager,m=a.AdType},function(a){c=a.OpenPopupManager},function(a){r=a.Constants},function(a){d=a.PlayerData}],execute:function(){var h,L;t._RF.push({},"cddb0T2REFFd7F8K49t92lC","LlamaData",void 0);const{ccclass:p}=e;a("LlamaData",p("LlamaData")(((L=class a{constructor(){this.RAINBOW_LLAMA_SKIN_TYPE=0,this._llamaObjs=[],this._rainbowObjs=[],this._items=[],this.llamaColors=["Black","Brown","Pink","Yellow","Green"]}get llamaObjs(){return this._llamaObjs}set llamaObjs(a){let t=Math.floor((new Date).getTime()/1e3);for(let e=0;e<a.length;e++)a[e].timestamp=t;this._llamaObjs=a}get rainbowObjs(){return this._rainbowObjs}get items(){return this._items}getLlamaInfo(){s.instance.post(o.LLAMA_INFO).then((a=>{a&&0==a.code&&(this.llamaObjs=a.data.llamas,this._rainbowObjs=a.data.rainbows,n.emit(i.UPDATE_LLAMA_DATA))}))}getLlamaItems(){s.instance.post(o.LLAMA_ITEMS).then((a=>{a&&0==a.code&&(this._items=a.data.items,n.emit(i.UPDATE_LLAMA_ITEMS))}))}delete(a){s.instance.post(o.LLAMA_DELETE,{llamaId:a}).then((a=>{a&&0==a.code?(this.getLlamaInfo(),c.instance.hide(r.PopupUI.LlamaDeletePopup),c.instance.hide(r.PopupUI.LlamaDetailPopup)):c.instance.showToast(a.msg)}))}merge(a,t){5==a.length&&s.instance.post(o.LLAMA_MERGE,{llamaIds:a}).then((a=>{a&&0==a.code?(c.instance.show(r.PopupUI.RainbowDetailPopup,a.data.rainbowLlama),this.getLlamaInfo(),t()):c.instance.showToast(a.msg)}))}tap(a,t){s.instance.post(o.LLAMA_TAP,{llamaId:a,count:t}).then((a=>{a&&0==a.code&&d.instance.assetObj.llama>a.data.assetInfo.llama&&(d.instance.assetObj=a.data.assetInfo)}))}restoreEnergy(a){l.instance.showAd(m.LLAMA_RESOTRE,0,((t,e)=>{0==t&&s.instance.post(o.LLAMA_ENERGY_RESTORE,{llamaId:a,sign:e}).then((t=>{if(t&&0==t.code){let e=this._llamaObjs.findIndex((t=>t.id==a));e>=0&&(this._llamaObjs[e].energy=t.data.energy,this._llamaObjs[e].restoreNumber=t.data.restoreNumber,n.emit(i.UPDATE_LLAMA_ENERGY,a,t.data.energy,t.data.restoreNumber)),c.instance.showToast("Success")}else c.instance.showToast(t.msg)}))}))}boostEnergy(a,t){l.instance.showAd(m.LLAMA_BOOSTENERGY,0,((e,l)=>{0==e&&s.instance.post(o.LLAMA_ENERGY_BOOST,{llamaId:a,sign:l}).then((e=>{if(e&&0==e.code){d.instance.assetObj=e.data.assetInfo;let s=this._llamaObjs.findIndex((t=>t.id==a));s>=0&&(this._llamaObjs[s].energy=0,n.emit(i.UPDATE_LLAMA_ENERGY,a,0,this._llamaObjs[s].restoreNumber)),c.instance.showRewardAnimPopup(e.data.rewards,t)}else c.instance.showToast(e.msg)}))}))}getSwapInfo(a,t){s.instance.post(o.LLAMA_SWAP_INFO,{offerId:a}).then((a=>{a&&0==a.code&&t(a.data.llama)}))}swapLlama(a,t,e){0!=e?s.instance.post(o.LLAMA_SWAP_START,{llamaId:a,target:e}).then((s=>{if(s&&0==s.code){let o=this._llamaObjs.findIndex((t=>t.id==a));o>=0&&(this._llamaObjs[o].swapColor=e,this._llamaObjs[o].offerId=s.data.offerId),n.emit(i.UPDATE_LLAMA_SWAP,a,e,s.data.offerId),this.swapShareLlama(s.data.offerId,t,e),c.instance.showToast("Success")}else c.instance.showToast(s.msg)})):c.instance.showToast("swap.selectllama")}swapShareLlama(a,t,e){c.instance.showLoadingPopup();let l=d.instance.configObj.gameBot+"?startapp="+[d.instance.userObj.code,a,"llama"].join("-"),m=`🦙 Llama Swap! I have a ${this.llamaColors[t-1]} llama and I’m looking for a ${this.llamaColors[e-1]} llama!✨`;const r="https://t.me/share/url?url="+encodeURIComponent(l)+"&text="+encodeURIComponent(m||"");s.instance.post(o.LINK_SHARE,{type:"llama",payload:a,text:m}).then((a=>{if(n.emit(i.HIDE_LOADING),a&&0==a.code)if(a.data.messageId)try{window.Telegram.WebApp.shareMessage(a.data.messageId,(a=>{console.log(a)}))}catch(a){window.Telegram.WebApp.openTelegramLink(r)}else window.Telegram.WebApp.openTelegramLink(r);else window.Telegram.WebApp.openTelegramLink(r)}))}swapCancelLlama(a){s.instance.post(o.LLAMA_SWAP_CANCEL,{llamaId:a}).then((t=>{if(t&&0==t.code){let t=this._llamaObjs.findIndex((t=>t.id==a));t>=0&&(this._llamaObjs[t].swapColor=0),c.instance.showToast("Success"),c.instance.hide(r.PopupUI.LlamaSwapPopup)}else c.instance.showToast(t.msg)}))}swapOfferLlama(t,e,n){s.instance.post(o.LLAMA_SWAP_OFFER,{llamaId:e,offerId:t}).then((t=>{t&&0==t.code?(c.instance.show(r.PopupUI.ShopLlamaRewardPopup,[n]),a.instance.getLlamaInfo(),c.instance.hide(r.PopupUI.LlamaOfferPopup)):c.instance.showToast(t.msg)}))}mergeWool(){s.instance.post(o.LLAMA_WOOL_MERGE,{}).then((a=>{a&&0==a.code?(this.getLlamaItems(),c.instance.showToast("Success")):c.instance.showToast(a.msg)}))}shearWool(a,t,e){e?l.instance.showAd(m.LLAMA_SHEAR,0,((e,s)=>{0==e&&this._shearWool(a,t,s)})):this._shearWool(a,t,"")}_shearWool(a,t,e){s.instance.post(o.LLAMA_WOOL_SHEAR,{id:t,type:a,sign:e}).then((e=>{if(e&&0==e.code){let s=this._llamaObjs.findIndex((a=>a.id==t));s>=0&&(this._llamaObjs[s].woolTime=e.data.woolTime,this._llamaObjs[s].timestamp=Math.floor((new Date).getTime()/1e3),this._llamaObjs[s].boostNumber=e.data.boostNumber),n.emit(i.UPDATE_LLAMA_WOOL,a,t,e.data.woolTime,e.data.woolNumber,e.data.boostNumber),c.instance.showToast("Success"),c.instance.hide(r.PopupUI.LlamaWoolPopup)}else c.instance.showToast(e.msg)}))}boostWool(a,t){l.instance.showAd(m.LLAMA_BOOSTWOOL,0,((e,l)=>{0==e&&s.instance.post(o.LLAMA_WOOL_BOOST,{type:a,id:t,sign:l}).then((e=>{if(e&&0==e.code){let s=this._llamaObjs.findIndex((a=>a.id==t));s>=0&&(this._llamaObjs[s].woolTime=e.data.woolTime,this._llamaObjs[s].timestamp=Math.floor((new Date).getTime()/1e3),this._llamaObjs[s].boostNumber=e.data.boostNumber),n.emit(i.UPDATE_LLAMA_WOOL,a,t,e.data.woolTime,e.data.woolNumber,e.data.boostNumber),c.instance.showToast("Success")}else c.instance.showToast(e.msg)}))}))}static get instance(){return this._instance||(this._instance=new a),this._instance}})._instance=null,h=L))||h),a("LlamaType",function(a){return a.Llama="llama",a.Rainbow="rainbow",a}({}));a("LlamaInfoResult",class{constructor(){this.llamas=void 0,this.rainbows=void 0}});a("LlamaTapResult",class{constructor(){this.assetInfo=void 0,this.rewards=void 0}});a("LlamaItemsResult",class{constructor(){this.items=void 0}});a("LlamaRestoreResult",class{constructor(){this.energy=void 0,this.restoreNumber=void 0}});a("LlamaShearResult",class{constructor(){this.woolTime=void 0,this.woolNumber=void 0,this.boostNumber=void 0}});a("LlamaOfferResult",class{constructor(){this.llama=void 0}});a("LlamaSwapResult",class{constructor(){this.offerId=void 0}});a("LlamaMergeResult",class{constructor(){this.rainbowLlama=void 0}});a("LlamaAnim",function(a){return a.IDLE="idle",a.WALK="walk",a.JUMP="jump",a}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaDeletePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./LanguageManager.ts"],(function(e){var t,n,a,l,i,o,s,c,r,p,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,l=e.sp,i=e.Label,o=e._decorator,s=e.Component,c=e.tween},function(e){r=e.OpenPopupManager},function(e){p=e.Constants},function(e){u=e.LlamaData},function(e){g=e.LanguageManager}],execute:function(){var d,h,m,L,b,f,D;a._RF.push({},"b988ebLl8tGaLLb1vqlQ+IH","LlamaDeletePopup",void 0);const{ccclass:P,property:y}=o;e("LlamaDeletePopup",(d=P("LlamaDeletePopup"),h=y(l.Skeleton),m=y(i),d((f=t((b=class extends s{constructor(){super(...arguments),n(this,"icon",f,this),n(this,"gold",D,this),this._llamaObj=null}show(e){this._llamaObj=e;let t="skin"+e.type;this.icon.node.active=!1,c(this.node).delay(.1).call((()=>{this.icon.setSkin(t),this.icon.node.active=!0})).start(),this.gold.string=g.instance.getLang("llama.deletecoin",[5e3])}onDeleteBtn(){u.instance.delete(this._llamaObj.id)}onCloseBtn(){r.instance.hide(p.PopupUI.LlamaDeletePopup)}}).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(b.prototype,"gold",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=b))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaDetailPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./GameEvent.ts","./EventListener.ts","./SpriteEx.ts","./Util.ts","./PlayerData.ts"],(function(t){var e,i,a,l,o,n,s,r,h,m,b,p,u,c,g,_,w,O,j,d,y,T,f,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,l=t.Prefab,o=t.Label,n=t.sp,s=t.Node,r=t.ProgressBar,h=t._decorator,m=t.Component,b=t.tween,p=t.UITransform,u=t.v3,c=t.instantiate,g=t.Vec3},function(t){_=t.OpenPopupManager},function(t){w=t.Constants},function(t){O=t.LlamaData,j=t.LlamaType},function(t){d=t.GameEvent},function(t){y=t.EventListener},function(t){T=t.SpriteEx},function(t){f=t.Util},function(t){x=t.PlayerData}],execute:function(){var L,P,E,C,v,D,I,A,U,z,B,N,W,R,S,G,M,k,F,Y,$,H,J,V,Z,q,K,Q,X,tt,et,it,at,lt,ot,nt,st,rt,ht;a._RF.push({},"1ca88T/JABFIYURe1/+1EZe","LlamaDetailPopup",void 0);const{ccclass:mt,property:bt}=h;t("LlamaDetailPopup",(L=mt("LlamaDetailPopup"),P=bt(l),E=bt(o),C=bt(o),v=bt(n.Skeleton),D=bt(s),I=bt(T),A=bt(r),U=bt(o),z=bt(o),B=bt(o),N=bt(s),W=bt(o),R=bt(o),S=bt(r),G=bt(T),M=bt(o),k=bt(s),F=bt(s),L((H=e(($=class extends m{constructor(){super(...arguments),i(this,"tapGoldItem",H,this),i(this,"tapLevel",J,this),i(this,"tapEarn",V,this),i(this,"icon",Z,this),i(this,"llama",q,this),i(this,"swapIcon",K,this),i(this,"energyProgress",Q,this),i(this,"energyText",X,this),i(this,"idText",tt,this),i(this,"restoreText",et,this),i(this,"boostBtn",it,this),i(this,"boostText",at,this),i(this,"woolProgressText",lt,this),i(this,"woolProgress",ot,this),i(this,"woolIcon",nt,this),i(this,"woolCountText",st,this),i(this,"leftArrow",rt,this),i(this,"rightArrow",ht,this),this._llamaObj=null,this._tapCount=0}show(t){this._llamaObj=t,this.setContent()}setContent(){let t=O.instance.llamaObjs,e=t.findIndex((t=>t.id==this._llamaObj.id));this.leftArrow.active=0!=e&&-1!=e,e==t.length-1?this.rightArrow.active=!1:this.rightArrow.active=!0;let i="skin"+this._llamaObj.type;this.icon.node.active=!1,b(this.node).delay(.1).call((()=>{this.icon.setSkin(i),this.icon.node.active=!0})).start(),this.tapLevel.string="Lv."+this._llamaObj.tapLevel,this.tapEarn.string=`+${this._llamaObj.tapEarn}`,this.idText.string="#"+this._llamaObj.id,this._llamaObj.swapColor>0?(this.swapIcon.node.active=!0,this.swapIcon.index=this._llamaObj.swapColor-1):this.swapIcon.node.active=!1,this.unschedule(this.updateTime),this.setWoolContent(),this.setEnergyContent()}onCloseBtn(){_.instance.hide(w.PopupUI.LlamaDetailPopup)}onTapCoin(t){let e=t.getUILocation();if(0==this._llamaObj.energy)return void _.instance.showToast("llama.energyinsufficient");let i=this.llama.parent.getComponent(p).convertToNodeSpaceAR(u(e.x,e.y));var a=c(this.tapGoldItem);a.active=!0,a.getChildByName("gold").getComponent(o).string="+"+this._llamaObj.tapEarn,a.position=i,a.parent=this.llama,b(a).to(1,{position:new g(i.x,i.y+120,0)},{easing:"linear",onComplete:()=>{this.llama.removeChild(a)}}).start(),this._llamaObj.energy--,this.energyText.string=`${this._llamaObj.energy}/${this._llamaObj.maxEnergy}`,this.energyProgress.progress=this._llamaObj.energy/this._llamaObj.maxEnergy,x.instance.candy=this._llamaObj.tapEarn,0==this._tapCount&&this.scheduleOnce(this.earn,5),this._tapCount++}onLeftBtn(){let t=O.instance.llamaObjs,e=t.findIndex((t=>t.id==this._llamaObj.id));e>0&&(this._llamaObj=t[e-1],this.setContent())}onRightBtn(){let t=O.instance.llamaObjs,e=t.findIndex((t=>t.id==this._llamaObj.id));e<t.length-1&&(this._llamaObj=t[e+1],this.setContent())}earn(){if(0==this._tapCount)return;let t=this._tapCount;this._tapCount=0,O.instance.tap(this._llamaObj.id,t)}onRestoreBtn(){O.instance.restoreEnergy(this._llamaObj.id)}onBoostBtn(){O.instance.boostWool(j.Llama,this._llamaObj.id)}onEnergyBtn(){_.instance.show(w.PopupUI.LlamaEnergyPopup,this._llamaObj)}onWoolBtn(){_.instance.show(w.PopupUI.LlamaWoolPopup,this._llamaObj,j.Llama)}onDeteleBtn(){_.instance.show(w.PopupUI.LlamaDeletePopup,this._llamaObj)}onSwapBtn(){_.instance.show(w.PopupUI.LlamaSwapPopup,this._llamaObj)}onUpdateEnergy(t,e,i){this._llamaObj.id==t&&(this._llamaObj.restoreNumber=i,this._llamaObj.energy=e,this.setEnergyContent())}onUpdateWool(t,e,i,a,l){t==j.Llama&&this._llamaObj.id==e&&(this.unschedule(this.updateTime),this._llamaObj.woolTime=i,this._llamaObj.woolNumber=a,this._llamaObj.boostNumber=l,this.setWoolContent())}setEnergyContent(){this.energyProgress.progress=this._llamaObj.energy/this._llamaObj.maxEnergy,this.energyText.string=this._llamaObj.energy+"/"+this._llamaObj.maxEnergy,this.restoreText.string=this._llamaObj.restoreLimit-this._llamaObj.restoreNumber+"/"+this._llamaObj.restoreLimit}setWoolContent(){this.unschedule(this.updateTime),this.woolIcon.index=this._llamaObj.type-1,this.woolCountText.string=this._llamaObj.woolTime>0?"x"+this._llamaObj.woolNumber:"",this.woolProgress.progress=(this._llamaObj.woolDuration-this._llamaObj.woolTime)/this._llamaObj.woolDuration,this.woolProgressText.string=this._llamaObj.woolTime>0?f.countdown(this._llamaObj.woolTime):"x"+this._llamaObj.woolNumber,this._llamaObj.woolTime<=0?this.boostBtn.active=!1:(this.boostBtn.active=!0,this.boostText.string=this._llamaObj.boostLimit-this._llamaObj.boostNumber+"/"+this._llamaObj.boostLimit,this.schedule(this.updateTime,1)),this.updateTime()}updateTime(){this._llamaObj.woolTime<=0&&this.unschedule(this.updateTime),this._llamaObj.woolTime>0&&this._llamaObj.woolTime--,this.woolCountText.string=this._llamaObj.woolTime>0?"x"+this._llamaObj.woolNumber:"",this.woolProgress.progress=(this._llamaObj.woolDuration-this._llamaObj.woolTime)/this._llamaObj.woolDuration,this.woolProgressText.string=this._llamaObj.woolTime>0?f.countdown(this._llamaObj.woolTime):"x"+this._llamaObj.woolNumber}onEnable(){y.on(d.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this),y.on(d.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}onDisable(){y.off(d.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this),y.off(d.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}}).prototype,"tapGoldItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e($.prototype,"tapLevel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e($.prototype,"tapEarn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e($.prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e($.prototype,"llama",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e($.prototype,"swapIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e($.prototype,"energyProgress",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e($.prototype,"energyText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e($.prototype,"idText",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e($.prototype,"restoreText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e($.prototype,"boostBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e($.prototype,"boostText",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e($.prototype,"woolProgressText",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e($.prototype,"woolProgress",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e($.prototype,"woolIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e($.prototype,"woolCountText",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e($.prototype,"leftArrow",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e($.prototype,"rightArrow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=$))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaEnergyPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./GameEvent.ts","./EventListener.ts","./LanguageManager.ts"],(function(e){var t,n,r,a,i,s,o,l,g,u,p,h,b,m,c,y,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.AnimationComponent,i=e.Node,s=e.Label,o=e.ProgressBar,l=e._decorator,g=e.Component,u=e.UITransform,p=e.Vec3},function(e){h=e.OpenPopupManager},function(e){b=e.Constants},function(e){m=e.LlamaData},function(e){c=e.GameEvent},function(e){y=e.EventListener},function(e){E=e.LanguageManager}],execute:function(){var _,f,L,O,d,j,P,T,x,C,w,B,v,D,z,A,M;r._RF.push({},"8217bUZmQlM+pTwO2uVEg/D","LlamaEnergyPopup",void 0);const{ccclass:U,property:R}=l;e("LlamaEnergyPopup",(_=U("LlamaEnergyPopup"),f=R(a),L=R(i),O=R(i),d=R(s),j=R(s),P=R(o),T=R(s),_((w=t((C=class extends g{constructor(){super(...arguments),n(this,"light",w,this),n(this,"boostBtn",B,this),n(this,"restoreBtn",v,this),n(this,"restoreText",D,this),n(this,"energyText",z,this),n(this,"energyProgress",A,this),n(this,"candyCountText",M,this),this._llamaObj=void 0}show(e){this._llamaObj=e,this.setContent()}setContent(){this.light.play(),this.setEnergyContent()}setEnergyContent(){this.energyProgress.progress=this._llamaObj.energy/this._llamaObj.maxEnergy,this.energyText.string=this._llamaObj.energy+"/"+this._llamaObj.maxEnergy,this.restoreText.string=E.instance.getLang("llama.restore")+"("+(this._llamaObj.restoreLimit-this._llamaObj.restoreNumber)+"/"+this._llamaObj.restoreLimit+")",this.candyCountText.string="x"+this._llamaObj.energy*this._llamaObj.tapEarn}onUpdateEnergy(e,t,n){this._llamaObj.id==e&&(this._llamaObj.restoreNumber=n,this._llamaObj.energy=t,this.setEnergyContent())}onRestoreBtn(){m.instance.restoreEnergy(this._llamaObj.id)}onBoostBtn(){if(0==this._llamaObj.energy)return h.instance.showToast("llama.energyinsufficient");let e=this.boostBtn.getComponent(u).convertToWorldSpaceAR(new p(0,0,0));m.instance.boostEnergy(this._llamaObj.id,e)}onCloseBtn(){h.instance.hide(b.PopupUI.LlamaEnergyPopup)}onEnable(){y.on(c.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this)}onDisable(){y.off(c.UPDATE_LLAMA_ENERGY,this.onUpdateEnergy,this)}}).prototype,"light",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(C.prototype,"boostBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(C.prototype,"restoreBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"restoreText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"energyText",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(C.prototype,"energyProgress",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"candyCountText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=C))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpriteEx.ts"],(function(e){var t,i,n,a,l,o,r,s,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Label,l=e.sp,o=e._decorator,r=e.Component,s=e.tween},function(e){c=e.OpenPopupManager},function(e){p=e.Constants},function(e){u=e.SpriteEx}],execute:function(){var h,b,m,g,y,d,x,f,v,w,I,L,T;n._RF.push({},"4b0f99Nbq5LzKvlgk8m2BFu","LlamaItem",void 0);const{ccclass:_,property:z}=o;e("LlamaItem",(h=_("LlamaItem"),b=z(a),m=z(a),g=z(a),y=z(u),d=z(l.Skeleton),h((v=t((f=class extends r{constructor(){super(...arguments),i(this,"levelText",v,this),i(this,"idText",w,this),i(this,"energyText",I,this),i(this,"swapIcon",L,this),i(this,"icon",T,this),this._llamaObj=null}get llamaObj(){return this._llamaObj}init(e){this._llamaObj=e;let t="skin"+e.type;this.icon.node.active=!1,s(this.node).delay(.1).call((()=>{this.icon.node.active=!0,this.icon.setSkin(t)})).start(),e.swapColor>0?(this.swapIcon.node.active=!0,this.swapIcon.index=e.swapColor-1):this.swapIcon.node.active=!1,this.levelText.string=`Lv.${e.tapLevel}`,this.idText.string=`#${e.id}`,this.energyText.string=`${e.energy}/${e.maxEnergy}`}onDetailBtn(){c.instance.show(p.PopupUI.LlamaDetailPopup,this._llamaObj)}}).prototype,"levelText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(f.prototype,"idText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(f.prototype,"energyText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(f.prototype,"swapIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(f.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=f))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaMergePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./MergeLlamaItem.ts","./SpriteEx.ts","./MergeWoolItem.ts","./ItemCfg.ts","./GameEvent.ts","./EventListener.ts","./GuideData.ts"],(function(t){var e,n,i,o,a,l,s,r,c,p,h,u,m,g,f,L,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,a=t._decorator,l=t.Component},function(t){s=t.OpenPopupManager},function(t){r=t.Constants},function(t){c=t.LlamaData},function(t){p=t.MergeLlamaItem},function(t){h=t.SpriteEx},function(t){u=t.MergeWoolItem},function(t){m=t.ItemIdType},function(t){g=t.GameEvent},function(t){f=t.EventListener},function(t){L=t.GuideData,b=t.GuideStep}],execute:function(){var d,_,C,M,w,A,E,I,P,O,y,G,W,v,T;i._RF.push({},"34cf4T5ZftCaZfKzGAy9TVG","LlamaMergePopup",void 0);const{ccclass:D,property:B}=a;t("LlamaMergePopup",(d=D("LlamaMergePopup"),_=B(o),C=B(o),M=B(o),w=B(o),A=B(o),E=B(o),d((O=e((P=class extends l{constructor(){super(...arguments),n(this,"tabs",O,this),n(this,"llamaContent",y,this),n(this,"woolContent",G,this),n(this,"llamas",W,this),n(this,"wools",v,this),n(this,"mergeBtn",T,this),this._tabType="llama",this._woolItemIds=[m.LLAMA_BLACK_WOOL,m.LLAMA_BROWN_WOOL,m.LLAMA_PINK_WOOL,m.LLAMA_YELLOW_WOOL,m.LLAMA_GREEN_WOOL],this.colors=[],this._canClick=!1}show(){if(this.llamaContent.active=!0,this.woolContent.active=!1,c.instance.getLlamaItems(),this.updateLlamas(),this.onUpdateWools(),L.instance.guideMode&&L.instance.curStep==b.GUIDE_STEP5_MERGE_LLAMA_PAGE){for(let t=1;t<=this.llamas.length;t++){this.llamas[t-1].getComponent(p).select(t)}this.scheduleOnce((()=>{s.instance.showGuidePopup(this.mergeBtn)}),.2)}else this._canClick=!0}updateLlamas(){let t=c.instance.llamaObjs,e=[0,0,0,0,0];for(let n=0;n<t.length;n++){e[t[n].type-1]+=1}for(let t=1;t<=this.llamas.length;t++){this.llamas[t-1].getComponent(p).init(t,e[t-1])}}onUpdateWools(){let t=c.instance.items,e=[0,0,0,0,0];for(let n=0;n<t.length;n++){let i=t[n],o=this._woolItemIds.indexOf(i.itemId);o>=0&&(e[o]=i.count)}for(let t=1;t<=e.length;t++){this.wools[t-1].getComponent(u).init(t,e[t-1])}}onMergeBtn(){if(L.instance.guideMode&&L.instance.curStep==b.GUIDE_STEP5_MERGE_LLAMA_PAGE){this._canClick=!0,L.instance.curStep=1,s.instance.hide(r.PopupUI.GuidePopup);let t=c.instance.rainbowObjs[0];s.instance.show(r.PopupUI.RainbowDetailPopup,t);for(let t=0;t<this.llamas.length;t++){this.llamas[t].getComponent(p).reset()}this.onCloseBtn()}else{let t=[];for(let e=0;e<this.llamas.length;e++){let n=this.llamas[e].getComponent(p).llamaObj;n&&t.push(n.id)}c.instance.merge(t,(()=>{for(let t=0;t<this.llamas.length;t++){this.llamas[t].getComponent(p).reset()}}))}}onMergeWoolBtn(){let t=c.instance.items,e=[0,0,0,0,0];for(let n=0;n<t.length;n++){let i=t[n],o=this._woolItemIds.indexOf(i.itemId);o>=0&&(e[o]=i.count)}for(let t=0;t<e.length;t++)if(0==e[t]){s.instance.showToast("wool.insufficient");break}c.instance.mergeWool()}onTabBtn(t,e){if(this._canClick){for(let t=0;t<this.tabs.children.length;t++)this.tabs.children[t].getComponent(h).index=1;this.tabs.children[Number(e)].getComponent(h).index=0,0==Number(e)?(this._tabType="llama",this.llamaContent.active=!0,this.woolContent.active=!1):(this._tabType="wool",this.llamaContent.active=!1,this.woolContent.active=!0)}}onCloseBtn(){this._canClick&&s.instance.hide(r.PopupUI.LlamaMergePopup)}onEnable(){f.on(g.UPDATE_LLAMA_ITEMS,this.onUpdateWools,this)}onDisable(){f.off(g.UPDATE_LLAMA_ITEMS,this.onUpdateWools,this)}}).prototype,"tabs",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(P.prototype,"llamaContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(P.prototype,"woolContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(P.prototype,"llamas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(P.prototype,"wools",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(P.prototype,"mergeBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=P))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaOfferPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./MergeLlamaItem.ts"],(function(t){var e,a,o,i,l,n,s,r,p,c,u,m,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.sp,l=t.Sprite,n=t.Node,s=t._decorator,r=t.Component,p=t.Color,c=t.tween},function(t){u=t.OpenPopupManager},function(t){m=t.Constants},function(t){f=t.LlamaData},function(t){h=t.MergeLlamaItem}],execute:function(){var d,b,C,g,O,_,y,L,w;o._RF.push({},"dda36I22MRA3oouIVamuTHW","LlamaOfferPopup",void 0);const{ccclass:P,property:v}=s;t("LlamaOfferPopup",(d=P("LlamaOfferPopup"),b=v(i.Skeleton),C=v(l),g=v(n),d((y=e((_=class extends r{constructor(){super(...arguments),a(this,"icon",y,this),a(this,"bg",L,this),a(this,"llama",w,this),this._llamaObj=void 0,this._color=void 0,this._offerId=void 0,this.llamaColors=["725959","C39265","FCC3B5","FCC26C","9DE0C0"]}show(t,e){this._offerId=e,this._llamaObj=t,this.bg.color=(new p).fromHEX(this.llamaColors[t.type-1]);let a="skin"+t.type;this.icon.node.active=!1,c(this.node).delay(.1).call((()=>{this.icon.setSkin(a),this.icon.node.active=!0})).start(),this.llama.getComponent(h).init(t.swapColor,-1)}onUpdateContent(t,e,a){this._llamaObj.id==t&&(this._llamaObj.swapColor=e,this._llamaObj.offerId=a)}onSwapBtn(){let t=this.llama.getComponent(h).llamaObj;t&&t.id&&f.instance.swapOfferLlama(this._offerId,t.id,this._llamaObj.type)}onCloseBtn(){u.instance.hide(m.PopupUI.LlamaOfferPopup)}onEnable(){}onDisable(){}}).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(_.prototype,"bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(_.prototype,"llama",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./LlamaData.ts","./LlamaItem.ts","./RainbowItem.ts"],(function(t){var e,a,n,i,l,o,r,s,p,m,h,c,u,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node,l=t.Prefab,o=t._decorator,r=t.Component,s=t.instantiate},function(t){p=t.OpenPopupManager},function(t){m=t.Constants},function(t){h=t.EventListener},function(t){c=t.GameEvent},function(t){u=t.LlamaData},function(t){b=t.LlamaItem},function(t){f=t.RainbowItem}],execute:function(){var C,g,d,w,v,L,P,y,A,I,D,E,T,_,z;n._RF.push({},"39dea19aepFw5hBjJ0eduVA","LlamaPopup",void 0);const{ccclass:U,property:B}=o;t("LlamaPopup",(C=U("LlamaPopup"),g=B(i),d=B(i),w=B(i),v=B(l),L=B(l),P=B(i),C((I=e((A=class extends r{constructor(){super(...arguments),a(this,"tabs",I,this),a(this,"llamaContent",D,this),a(this,"rainbowContent",E,this),a(this,"llamaItemPrefab",T,this),a(this,"rainbowItemPrefab",_,this),a(this,"llamaToggles",z,this),this.types=[1,1,1,1,1,1]}show(){this.onUpdateLlamas(),this.llamaContent.parent.parent.active=!0,this.rainbowContent.parent.parent.active=!1}onUpdateLlamas(){this.llamaContent.removeAllChildren();let t=u.instance.llamaObjs;for(let e=0;e<t.length;e++){let n=t[e];(a=s(this.llamaItemPrefab)).getComponent(b).init(n),a.parent=this.llamaContent}this.rainbowContent.removeAllChildren();let e=u.instance.rainbowObjs;for(let t=0;t<e.length;t++){let n=e[t];var a;(a=s(this.rainbowItemPrefab)).getComponent(f).init(n),a.parent=this.rainbowContent}}onToggleBtn(t,e){this.types[e]=1==this.types[e]?0:1;for(let t=0;t<this.llamaContent.children.length;t++){let a=this.llamaContent.children[t];a.getComponent(b).llamaObj.type==e&&(a.active=1==this.types[e])}}onCloseBtn(){p.instance.hide(m.PopupUI.LlamaPopup)}onChangeTouch(t,e){this.tabs.children.forEach(((t,e)=>{t.getChildByName("checked").active=!1})),t.target.getChildByName("checked").active=!0,"llama"==e?(this.llamaContent.parent.parent.active=!0,this.rainbowContent.parent.parent.active=!1):(this.llamaContent.parent.parent.active=!1,this.rainbowContent.parent.parent.active=!0)}onEnable(){h.on(c.UPDATE_LLAMA_DATA,this.onUpdateLlamas,this)}onDisable(){h.off(c.UPDATE_LLAMA_DATA,this.onUpdateLlamas,this)}}).prototype,"tabs",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(A.prototype,"llamaContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(A.prototype,"rainbowContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(A.prototype,"llamaItemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(A.prototype,"rainbowItemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(A.prototype,"llamaToggles",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=A))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaSwapPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./LanguageManager.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var e,a,i,n,o,l,s,r,c,p,h,u,b,m,g,C,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.sp,o=t.Label,l=t.Sprite,s=t.Node,r=t._decorator,c=t.Component,p=t.Color,h=t.tween},function(t){u=t.OpenPopupManager},function(t){b=t.Constants},function(t){m=t.LlamaData},function(t){g=t.LanguageManager},function(t){C=t.EventListener},function(t){f=t.GameEvent}],execute:function(){var w,_,d,v,L,y,B,O,j,S,P,D,x,z,E,T,A,M,U;i._RF.push({},"03aed/7LShGWIQDuu9MSs9Y","LlamaSwapPopup",void 0);const{ccclass:k,property:F}=r;t("LlamaSwapPopup",(w=k("LlamaSwapPopup"),_=F(n.Skeleton),d=F(o),v=F(l),L=F(s),y=F(s),B=F(s),O=F(o),j=F(s),w((D=e((P=class extends c{constructor(){super(...arguments),a(this,"icon",D,this),a(this,"idText",x,this),a(this,"bg",z,this),a(this,"swapBtn",E,this),a(this,"cancelBtn",T,this),a(this,"shareBtn",A,this),a(this,"colorText",M,this),a(this,"targetColors",U,this),this._llamaObj=void 0,this._color=void 0,this.llamaColors=["725959","C39265","FCC3B5","FCC26C","9DE0C0"]}show(t){this._llamaObj=t,this.bg.color=(new p).fromHEX(this.llamaColors[t.type-1]);let e="skin"+t.type;this.icon.node.active=!1,h(this.node).delay(.1).call((()=>{this.icon.setSkin(e),this.icon.node.active=!0})).start(),this.idText.string="#"+t.id,this.setContent()}setContent(){if(this._llamaObj.swapColor){this.colorText.string=g.instance.getLang("swap.selectcolor"),this.swapBtn.active=!1,this.cancelBtn.active=!0,this.shareBtn.active=!0;for(let t=0;t<5;t++)this._llamaObj.swapColor==t+1?(this.targetColors[t].parent.active=!0,this.targetColors[t].active=!0):this.targetColors[t].parent.active=!1}else{this.colorText.string=g.instance.getLang("swap.selectllama"),this.swapBtn.active=!0,this.cancelBtn.active=!1,this.shareBtn.active=!1;for(let t=0;t<5;t++)this._llamaObj.type!=t+1?(this.targetColors[t].parent.active=!0,this.targetColors[t].active=!1):this.targetColors[this._llamaObj.type-1].parent.active=!1}}onUpdateContent(t,e,a){this._llamaObj.id==t&&(this._llamaObj.swapColor=e,this._llamaObj.offerId=a,this.setContent())}onColorBtn(t,e){if(this._llamaObj.type!=Number(e)){this._color=Number(e);for(let t=0;t<5;t++)this.targetColors[t].active=!1;this.targetColors[this._color-1].active=!0}}onSwapBtn(){m.instance.swapLlama(this._llamaObj.id,this._llamaObj.type,this._color)}onCancelBtn(){m.instance.swapCancelLlama(this._llamaObj.id)}onShareBtn(){m.instance.swapShareLlama(this._llamaObj.offerId,this._llamaObj.type,this._llamaObj.swapColor)}onCloseBtn(){u.instance.hide(b.PopupUI.LlamaSwapPopup)}onEnable(){C.on(f.UPDATE_LLAMA_SWAP,this.onUpdateContent,this)}onDisable(){C.off(f.UPDATE_LLAMA_SWAP,this.onUpdateContent,this)}}).prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(P.prototype,"idText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(P.prototype,"bg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(P.prototype,"swapBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(P.prototype,"cancelBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(P.prototype,"shareBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(P.prototype,"colorText",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(P.prototype,"targetColors",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/LlamaWoolPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpriteEx.ts","./LlamaData.ts","./Util.ts","./GameEvent.ts","./EventListener.ts","./LanguageManager.ts"],(function(t){var o,i,e,l,a,s,n,r,h,b,u,m,p,c,w,g,_,O;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,l=t.AnimationComponent,a=t.Label,s=t.Node,n=t.ProgressBar,r=t._decorator,h=t.Component},function(t){b=t.OpenPopupManager},function(t){u=t.Constants},function(t){m=t.SpriteEx},function(t){p=t.LlamaType,c=t.LlamaData},function(t){w=t.Util},function(t){g=t.GameEvent},function(t){_=t.EventListener},function(t){O=t.LanguageManager}],execute:function(){var T,d,j,y,f,x,L,P,B,v,z,W,D,N,C,E,U,A,M,I,F,S,G,H,R,Z,k,V,$;e._RF.push({},"78be6lb0ytHaoZdfVFu0Zwa","LlamaWoolPopup",void 0);const{ccclass:q,property:J}=r;t("LlamaWoolPopup",(T=q("LlamaWoolPopup"),d=J(l),j=J(a),y=J(m),f=J(m),x=J(m),L=J(s),P=J(s),B=J(s),v=J(a),z=J(a),W=J(n),D=J(m),N=J(a),T((U=o((E=class extends h{constructor(){super(...arguments),i(this,"light",U,this),i(this,"woolNumberText",A,this),i(this,"icon1",M,this),i(this,"icon2",I,this),i(this,"icon3",F,this),i(this,"boostBtn",S,this),i(this,"claimBtn",G,this),i(this,"doubleBtn",H,this),i(this,"boostText",R,this),i(this,"woolProgressText",Z,this),i(this,"woolProgress",k,this),i(this,"woolIcon",V,this),i(this,"woolCountText",$,this),this._llamaObj=null,this._type=p.Llama}show(t,o){this.icon1.index=o==p.Llama?t.type:0,this.icon2.index=o==p.Llama?t.type:0,this.icon3.index=o==p.Llama?t.type:0,this._llamaObj=t,this._type=o,this.setContent()}setContent(){this._llamaObj.woolTime<=0?(this.light.play(),this.claimBtn.active=!0,this.doubleBtn.active=!0,this.boostBtn.active=!1,this.woolProgress.node.parent.active=!1,this.woolNumberText.node.active=!0):(this.light.stop(),this.claimBtn.active=!1,this.doubleBtn.active=!1,this.boostBtn.active=!0,this.woolProgress.node.parent.active=!0,this.woolNumberText.node.active=!1,this.boostText.string=O.instance.getLang("llama.boost")+"("+(this._llamaObj.boostLimit-this._llamaObj.boostNumber)+"/"+this._llamaObj.boostLimit+")"),this.woolIcon.index="llama"==this._type?this._llamaObj.type:0,this.woolCountText.string=this._llamaObj.woolTime>0?"x"+this._llamaObj.woolNumber:"",this.woolProgress.progress=(this._llamaObj.woolDuration-this._llamaObj.woolTime)/this._llamaObj.woolDuration,this.woolProgressText.string=this._llamaObj.woolTime>0?w.countdown(this._llamaObj.woolTime):"x"+this._llamaObj.woolNumber,this.woolNumberText.string=`x${this._llamaObj.woolNumber}`,this.unschedule(this.updateTime),this._llamaObj.woolTime>0&&this.schedule(this.updateTime,1)}onUpdateWool(t,o,i,e){t==this._type&&this._llamaObj.id==o&&(this._llamaObj.woolTime=i,this._llamaObj.woolNumber=e,this.setContent())}updateTime(){this._llamaObj.woolTime<=0&&this.unschedule(this.updateTime),this._llamaObj.woolTime>0&&this._llamaObj.woolTime--,this.woolCountText.string=this._llamaObj.woolTime>0?"x"+this._llamaObj.woolNumber:"",this.woolProgress.progress=(this._llamaObj.woolDuration-this._llamaObj.woolTime)/this._llamaObj.woolDuration,this.woolProgressText.string=this._llamaObj.woolTime>0?w.countdown(this._llamaObj.woolTime):"x"+this._llamaObj.woolNumber}onWoolBtn(){c.instance.shearWool(this._type,this._llamaObj.id,!1)}onBoostBtn(){c.instance.boostWool(this._type,this._llamaObj.id)}onDoubleBtn(){c.instance.shearWool(this._type,this._llamaObj.id,!0)}onCloseBtn(){b.instance.hide(u.PopupUI.LlamaWoolPopup)}onEnable(){_.on(g.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}onDisable(){_.off(g.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}}).prototype,"light",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(E.prototype,"woolNumberText",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(E.prototype,"icon1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(E.prototype,"icon2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(E.prototype,"icon3",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(E.prototype,"boostBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(E.prototype,"claimBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(E.prototype,"doubleBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(E.prototype,"boostText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(E.prototype,"woolProgressText",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(E.prototype,"woolProgress",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=o(E.prototype,"woolIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=o(E.prototype,"woolCountText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=E))||C));e._RF.pop()}}}));

System.register("chunks:///_virtual/Load.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./AudioManager.ts","./CfgMgr.ts","./OpenPopupManager.ts","./HttpService.ts","./Storage.ts","./Api.ts","./PlayerData.ts","./LanguageManager.ts","./GuideData.ts","./Configuration.ts","./GameDefine.ts","./Util.ts","./CardData.ts","./InviteData.ts","./SpinData.ts","./EarnData.ts","./ComTipsPopup.ts"],(function(e){var t,i,s,n,o,a,r,l,c,p,h,g,d,u,P,f,m,y,S,_,b,w,L,T,B,D,I,C,v,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.ProgressBar,o=e.Label,a=e.Node,r=e._decorator,l=e.Component,c=e.tween,p=e.v3,h=e.director,g=e.resources},function(e){d=e.Constants},function(e){u=e.AudioManager},function(e){P=e.CfgMgr},function(e){f=e.OpenPopupManager},function(e){m=e.HttpService},function(e){y=e.Storage},function(e){S=e.Api},function(e){_=e.PlayerData},function(e){b=e.LanguageManager},function(e){w=e.GuideData},function(e){L=e.Configuration},function(e){T=e.GameDefine},function(e){B=e.Util},function(e){D=e.CardData},function(e){I=e.InviteData},function(e){C=e.SpinData},function(e){v=e.EarnData},function(e){M=e.ComTipsObj}],execute:function(){var k,A,U,N,O,R,x,G,z,F,E,H,W;s._RF.push({},"47e05tFPodPoaFGg/ApUzzN","Load",void 0);const{ccclass:j,property:q}=r;e("Load",(k=j("Load"),A=q(n),U=q(o),N=q(a),O=q(a),R=q(o),k((z=t((G=class extends l{constructor(){super(...arguments),i(this,"progressBar",z,this),i(this,"lbText",F,this),i(this,"PersistRoot",E,this),this._progress=20,i(this,"loading",H,this),i(this,"tips",W,this),this._loginState=!1,this._loadState=!1,this._startTime=0,this._isLoaded=!1}onLoad(){this._startTime=Math.floor((new Date).getTime()/1e3);let e=document.getElementById("preload");e&&(e.style.display="none"),this.initPopupLayer(),this.loginGame(),this.loadLocalGameConfg(),this.initLoading()}initLoading(){let e=this.loading.children.length;for(let t=0;t<this.loading.children.length;t++){let i=this.loading.children[t];c(i).sequence(c().delay(.2*t),c().to(.2,{position:p(i.position.x,20,0)},{easing:"circInOut"}),c().to(.2,{position:p(i.position.x,0,0)},{easing:"circInOut"}),c().delay(.2*(e-t))).repeatForever().start()}}loginGame(){this.schedule(this.setLoginProgressBar,.01);let e=new URLSearchParams(window.location.search).get("tgWebAppStartParam"),t=e?e.split("-"):[],i=t.length>0?t[0]:"",s=t.length>1?t[1]:"",n=t.length>2?t[2]:"",o=0;T.linkType=n,"llama"==n?T.offerId=s:(o=s?Number(B.base64Decode(s)):0,T.linkId=o);let a=y.getItem("access-token");a&&0==a.indexOf("@")?(T.accessToken=B.decrypt(a.slice(1)),_.instance.getUserInfo((e=>{0==e?(o>0&&I.instance.click(o),this._loadState?this.loadScene():(this._loginState=!0,this.scheduleOnce((()=>{this._loadState&&this.loadScene()}),150))):this._login(i,o,n)}))):this._login(i,o,n)}setLoginProgressBar(){this._progress<50?(this._progress+=Math.random()/10,this.setProgressBar()):this.unschedule(this.setLoginProgressBar)}_login(e,t,i,s){void 0===s&&(s=0);let n=window.Telegram&&window.Telegram.WebApp&&window.Telegram.WebApp.initData?window.Telegram.WebApp.initData:"test";if(s>10){let e=new M;return e.hideClose=!0,e.title="Tips",e.desc="The network is disconnected. Please login again",void f.instance.showComTipsPopup(e,(e=>{}))}this.tips.string="The server is connecting. Please wait patiently..."+s,m.instance.post(S.AUTH_LOGIN,{token:n,code:e,linkId:t,type:i}).then((o=>{0==o.code?("test"==n&&y.setItem("access-token","@"+B.encrypt(o.data.accessToken)),T.accessToken=o.data.accessToken,_.instance.login(o.data),t>0&&I.instance.click(t),this.getDataFromNetwork(),this.tips.string="The server is connecting. Please wait patiently..."+s+"."+(this._loadState?".":""),this._loadState?this.loadScene():(this._loginState=!0,this.scheduleOnce((()=>{this._loadState&&this.loadScene()}),.18))):401!=o.code&&this.scheduleOnce((()=>{this._login(e,t,i,++s)}),.1)})).catch((n=>{console.log("login",n),this.scheduleOnce((()=>{this._login(e,t,i,++s)}),.1)}))}initPopupLayer(){h.addPersistRootNode(this.PersistRoot),f.instance.TopLayer=this.PersistRoot.getChildByName("Top"),f.instance.MidLayer=this.PersistRoot.getChildByName("Middle"),f.instance.BottomLayer=this.PersistRoot.getChildByName("Bottom"),f.instance.ToastLayer=this.PersistRoot.getChildByName("Toast")}loadLocalGameConfg(){g.loadDir(d.ConfigPath,((e,t,i)=>{this._progress+=1,this.setProgressBar()}),((e,t)=>{for(let e=0;e<t.length;e++){const i=t[e];P.setCfgData(i.name,i.json)}L.instance.init(),u.instance.init(),this.initLocalData()}))}getDataFromNetwork(){C.instance.getSpinInfo(),v.instance.getEarnInfo()}initLocalData(){b.instance.init(),D.instance.initCfg(),w.instance.initCfg(),this.preloadScene()}setProgressBar(){this._progress>=100?(this.lbText.string="100%",this.progressBar.progress=1):(this.lbText.string=`${Number(this._progress).toFixed(2)}%`,this.progressBar.progress=this._progress/100)}preloadScene(){h.preloadScene("Main",((e,t)=>{this._progress<80&&(this._progress+=1),this.setProgressBar()}),(()=>{let e=[];e=[d.PopupUI.FarmPopup,d.PopupUI.NewerRewardPopup,d.PopupUI.GuidePopup,d.PopupUI.ShopLlamaPopup,d.PopupUI.ShopLlamaRewardPopup,d.PopupUI.LlamaMergePopup,d.PopupUI.RainbowDetailPopup,d.PopupUI.EarnPopup,d.PopupUI.EarnSuccessPopup,d.PopupUI.EarnInvestPopup,d.PopupUI.SpinPopup],g.preload(e,((e,t)=>{let i=e/t*10;this._progress<80+i&&(this._progress=80+i>90?90:80+i,this.setProgressBar())}),(()=>{this._progress=90,this.setProgressBar(),this.tips.string="The server is connecting. Please wait patiently...."+(this._loginState?".":""),this._loginState?this.loadScene():(this._loadState=!0,this.scheduleOnce((()=>{this._loginState&&this.loadScene()}),.2))}))}))}setSceneProgressBar(){this._progress<100?(this._progress+=.7*Math.random(),this.setProgressBar()):this.unschedule(this.setSceneProgressBar)}loadScene(){if(this._isLoaded)return;this._isLoaded=!0,Math.floor((new Date).getTime()/1e3)-this._startTime>3?(this._progress=100,this.setProgressBar(),this.hideAd(),h.loadScene("Main")):(this.schedule(this.setSceneProgressBar,.1),this.scheduleOnce((()=>{this._progress=100,this.setProgressBar(),this.unschedule(this.setSceneProgressBar),this.hideAd(),h.loadScene("Main")}),2.5))}hideAd(){let e=document.getElementById("splash-ad");e&&e.parentNode.removeChild(e);let t=document.querySelectorAll("iframe"),i=null;if(t)for(let e=0;e<t.length;e++)t[e]&&"webview"!=t[e].id&&(i=t[e]);if(i){let e=i.getAttribute("style");e&&e.indexOf("z-index")>=0&&(e+="z-index: -1 !important;",i.setAttribute("style",e))}else{let e=document.querySelector("div");for(let t in e)if(e[t]&&e[t].style&&e[t].style.opacity){if(e[t].getAttribute("class")){e[t].style.opacity=0,e[t].style.display="none";break}}}}}).prototype,"progressBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(G.prototype,"lbText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(G.prototype,"PersistRoot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"loading",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"tips",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=G))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AvatarCfg.ts","./CardCfg.ts","./CardLevelCfg.ts","./GuideCfg.ts","./InviteLevelCfg.ts","./ItemCfg.ts","./LabSkillCfg.ts","./LanguageCfg.ts","./MorseCodeCfg.ts","./SoundCfg.ts","./SpinItemCfg.ts","./SysOpenCfg.ts","./VipCfg.ts","./Constants.ts","./AdManager.ts","./AnimationUI.ts","./Api.ts","./AudioManager.ts","./BackgroundAdapter.ts","./BaseComponent.ts","./CfgMgr.ts","./Configuration.ts","./ContentAdapter.ts","./ContentScale.ts","./ContentWidthAdapter.ts","./ContentWidthScaleAdapter.ts","./Debug2.ts","./EventListener.ts","./GameController.ts","./HttpService.ts","./LanguageLabel.ts","./LanguageManager.ts","./NoClickMore.ts","./OpenPopupManager.ts","./PoolManager.ts","./PopupManager.ts","./ResourcesUtil.ts","./SpriteEx.ts","./Storage.ts","./Util.ts","./WalletManager.ts","./GameData.ts","./ItemData.ts","./PlayerData.ts","./GameEvent.ts","./GameDefine.ts","./CfgCombo.ts","./CfgItem.ts","./CfgLoginReward.ts","./CfgLuckySpin.ts","./CfgSkillInfo.ts","./cfg_icon.ts","./cfg_level.ts","./cfg_passReward.ts","./GoodData.ts","./DtoIconCfg.ts","./DtoItem.ts","./DtoLevelCfg.ts","./DtoLevelData.ts","./DtoUI.ts","./Bundle.ts","./EventType.ts","./ItemType.ts","./Mode.ts","./ShelveType.ts","./SkillType.ts","./UI.ts","./UIType.ts","./ComboBox.ts","./CommonShelve.ts","./EffectFreeze.ts","./EffectRedAlert.ts","./Goods.ts","./ShelveLocker.ts","./SkillBox.ts","./SmallShelve.ts","./Stage.ts","./GlobalGood.ts","./GoodGame.ts","./ComboMgr.ts","./EffectMgr.ts","./EventMgr.ts","./GameMgr.ts","./ResMgr.ts","./SkillMgr.ts","./TimeMgr.ts","./TransMgr.ts","./UIMgr.ts","./Breath.ts","./Floaty.ts","./InputBlock.ts","./Rotate.ts","./Shake.ts","./ShelveBase.ts","./UIBase.ts","./UIDailyReward.ts","./UIGame.ts","./UIGetSkill.ts","./UILoading.ts","./UILuckySpin.ts","./UIMain.ts","./UIPause.ts","./UISetting.ts","./UIStageTip.ts","./UITimeOut.ts","./UIToast.ts","./UIWin.ts","./BtnExtend.ts","./LabelTick.ts","./Switcher.ts","./ToggleExtend.ts","./CoinItem.ts","./PassRewardItem.ts","./TimeItem.ts","./ArrayUtil.ts","./Debug.ts","./GameUtil.ts","./MathUtil.ts","./ObjUtil.ts","./TimeUtil.ts","./MainEvent.ts","./AdModel.ts","./CoinMode.ts","./ConfigModel.ts","./RewardModel.ts","./UserModel.ts","./axios.mjs_cjs=&original=.js","./ActivityPopup.ts","./ActivityData.ts","./AirdropInvestPopup.ts","./AirdropPopup.ts","./AirdropRecordItem.ts","./AirdropRecordPopup.ts","./AirdropSuccessPopup.ts","./AirdropData.ts","./CardItem.ts","./CardOfflinePopup.ts","./CardPopup.ts","./CardRewardPopup.ts","./CardData.ts","./TargetCardItem.ts","./UnlockCardPopup.ts","./UpgradeCardPopup.ts","./AdPopup.ts","./AniBg.ts","./AssetItem.ts","./ComLoadingPopup.ts","./ComRewardAnimPopup.ts","./ComRewardDoublePopup.ts","./ComRewardPopup.ts","./ComTipsPopup.ts","./ComTooltipItem.ts","./DiamondNumberItem.ts","./GoldNumberItem.ts","./RewardItem.ts","./RewardTooltipItem.ts","./Toast.ts","./EarnData.ts","./EarnInvestPopup.ts","./EarnPopup.ts","./EarnRecordItem.ts","./EarnRecordPopup.ts","./EarnSuccessPopup.ts","./FarmData.ts","./FarmLlamaItem.ts","./FarmPopup.ts","./MaterialPopup.ts","./MiniGameData.ts","./GamePopup.ts","./GuideData.ts","./GuidePopup.ts","./InviteData.ts","./FriendItem.ts","./FriendSubItem.ts","./InvitePopup.ts","./PrivilegeItem.ts","./RulePopup.ts","./SuperLinkItem.ts","./SuperLinkSubItem.ts","./LabData.ts","./LabPopup.ts","./LabSkillItem.ts","./LlamaData.ts","./LlamaDeletePopup.ts","./LlamaDetailPopup.ts","./LlamaEnergyPopup.ts","./LlamaItem.ts","./LlamaMergePopup.ts","./LlamaOfferPopup.ts","./LlamaPopup.ts","./LlamaSwapPopup.ts","./LlamaWoolPopup.ts","./MergeLlamaItem.ts","./MergeSelectPopup.ts","./MergeWoolItem.ts","./RainbowDetailPopup.ts","./RainbowItem.ts","./SelectLlamaItem.ts","./MineData.ts","./MineEnergyPopup.ts","./MineLlamaPopup.ts","./MineMinerPopup.ts","./MinePopup.ts","./MineRecordItem.ts","./MineRecordPopup.ts","./MineResultItem.ts","./MineResultPopup.ts","./MineTipsPopup.ts","./MineTokenPopup.ts","./MinerLlamaItem.ts","./MorseData.ts","./MorsePopup.ts","./MorseRulePopup.ts","./MorseWordItem.ts","./NewerLlamaItem.ts","./NewerRewardPopup.ts","./AvatarBgItem.ts","./AvatarIconItem.ts","./AvatarItem.ts","./ProfileData.ts","./ProfileNamePopup.ts","./ProfilePopup.ts","./QuestData.ts","./QuestChestItem.ts","./QuestItem.ts","./QuestSubItem.ts","./RankData.ts","./RankItem.ts","./RankPopup.ts","./RankRecordItem.ts","./RankRecordPopup.ts","./RankRoundItem.ts","./RankTipsPopup.ts","./RankTopItem.ts","./LanguageItem.ts","./LanguagePopup.ts","./SettingPopup.ts","./ShopData.ts","./ShopBoxItem.ts","./ShopBoxOpenPopup.ts","./ShopBoxSubItem.ts","./ShopCardItem.ts","./ShopCardSubItem.ts","./ShopGoldItem.ts","./ShopGoldSubItem.ts","./ShopItemPopup.ts","./ShopLlamaItem.ts","./ShopLlamaPopup.ts","./ShopLlamaRewardPopup.ts","./ShopPopup.ts","./SigninData.ts","./SignInItem.ts","./SignInPopup.ts","./SpinData.ts","./SpinFundItem.ts","./SpinFundPopup.ts","./SpinFundTipsPopup.ts","./SpinMyWithdrawItem.ts","./SpinOwnerItem.ts","./SpinPopup.ts","./SpinRankItem.ts","./SpinRankPopup.ts","./SpinRecordItem.ts","./SpinRecordPopup.ts","./SpinTipsPopup.ts","./SpinWithdrawItem.ts","./BoostQuotaPopup.ts","./TapData.ts","./RestorePopup.ts","./TapIncomePopup.ts","./TapPopup.ts","./UpgradeTapPopup.ts","./TaskData.ts","./TaskTraffyData.ts","./TaskItem.ts","./TaskPopup.ts","./TaskTraffyPopup.ts","./TomaEventData.ts","./TomaEventItem.ts","./TomaEventPopup.ts","./TownPopup.ts","./VipData.ts","./VipItem.ts","./VipPopup.ts","./BillItem.ts","./WalletData.ts","./WalletConnectPopup.ts","./WithdrawAmountItem.ts","./WithdrawBillPopup.ts","./WithdrawPopup.ts","./Load.ts","./Main.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventListener.ts","./OpenPopupManager.ts","./PopupManager.ts","./PlayerData.ts","./GameEvent.ts","./ResourcesUtil.ts","./AudioManager.ts","./WalletManager.ts","./AdManager.ts","./Util.ts","./GameDefine.ts","./GuideData.ts","./MorseData.ts","./CardData.ts","./TaskTraffyData.ts"],(function(e){var t,n,i,o,a,s,r,p,c,h,l,u,d,m,g,f,b,P,A,y,I,w,_,O,T,D,E,G,M,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,a=e.Node,s=e._decorator,r=e.Component,p=e.UITransform,c=e.Sprite,h=e.instantiate,l=e.tween,u=e.v3},function(e){d=e.Constants},function(e){m=e.EventListener},function(e){g=e.OpenPopupManager},function(e){f=e.PopupManager},function(e){b=e.PlayerData},function(e){P=e.GameEvent},function(e){A=e.ResourcesUtil},function(e){y=e.AudioManager},function(e){I=e.WalletManager},function(e){w=e.AdManager,_=e.AdType},function(e){O=e.Util},function(e){T=e.GameDefine},function(e){D=e.GuideData,E=e.GuideStep},function(e){G=e.MorseData},function(e){M=e.CardData},function(e){N=e.TaskTraffyData}],execute:function(){var S,C,v,L,U,R,B,k,z,H,j,W,x,F,Y,$,q,Q,J,K,V,X,Z,ee,te,ne,ie,oe,ae,se,re,pe,ce;i._RF.push({},"bf968APxkBEU60Qv2LE/OB7","Main",void 0);const{ccclass:he,property:le}=s;e("Main",(S=he("Main"),C=le(o),v=le(o),L=le(o),U=le(o),R=le(a),B=le(a),k=le(a),z=le(a),H=le(a),j=le(a),W=le(a),x=le(a),F=le(a),Y=le(a),$=le(a),S((J=t((Q=class extends r{constructor(){super(...arguments),n(this,"gold",J,this),n(this,"candy",K,this),n(this,"rainbow",V,this),n(this,"usdt",X,this),n(this,"bottomLayer",Z,this),n(this,"middleLayer",ee,this),n(this,"topLayer",te,this),n(this,"bgNode",ne,this),n(this,"toggleGroup",ie,this),n(this,"topInfo",oe,this),n(this,"bottomInfo",ae,this),n(this,"popupNode",se,this),n(this,"earnBtn",re,this),n(this,"farmBtn",pe,this),n(this,"earnRedPoint",ce,this),this._prevSid=-1,this._inAppAdNumber=0,this.menus=["game","morse","card"]}onLoad(){g.instance.MainTopLayer=this.topLayer,g.instance.PopupLayer=this.popupNode,g.instance.Canvas=this.node,this.bgNode.active=!0,this.onShowHideTopInfo(!1),this.onUpdatePlayerInfo(),y.instance.playMusic(1,!0),D.instance.guideMode||0!=b.instance.userObj.step||0!=D.instance.curStep||(D.instance.guideMode=!0,g.instance.show(d.PopupUI.NewerRewardPopup,(()=>{D.instance.guideMode=!0,D.instance.curStep=1,m.emit(P.GUIDE_ACTION)}))),this.scheduleOnce((()=>{w.instance.init(b.instance.configObj.adTypes,b.instance.configObj.adId,b.instance.configObj.zone)}),.5),this.scheduleOnce((()=>{G.instance.getMorseInfo(),M.instance.getCardInfo()}),2),A.getPrefab(d.PopupUI.ComLoadingPopup),T.isDebug||(window.onerror=function(e,t,n,i,o){b.instance.reportError(e,t,n,i,o)}),this.showInAppAd(),b.instance.gameObj.showTraffy&&this.scheduleOnce((()=>{N.instance.init()}),2)}showInAppAd(){b.instance.gameObj.showAppAd&&(this.scheduleOnce((()=>{w.instance.initInAppAd()}),b.instance.gameObj.inAppTimes[0]/2),this.scheduleOnce((()=>{this._showInAppAd()}),b.instance.gameObj.inAppTimes[0]))}onHideAd(e){e>0&&this.scheduleOnce((()=>{let e=document.querySelectorAll("iframe"),t=null;if(e)for(let n=0;n<e.length;n++)e[n]&&"webview"!=e[n].id&&(t=e[n]);if(t&&t.contentDocument){let e=t.contentDocument.getElementsByTagName("div");e.length>2&&e[2].click()}}),20-e>0?20-e:1)}_showInAppAd(){w.instance.canShowInApp()?w.instance.showInAppAd(_.INAPP,(()=>{this.scheduleOnce((()=>{this.updateIframe()}),.02)}),(()=>{this._inAppAdNumber++;let e=b.instance.gameObj.inAppTimes,t=e.length>this._inAppAdNumber?e[this._inAppAdNumber]:e[e.length-1];this.scheduleOnce((()=>{this._showInAppAd()}),t)})):this.scheduleOnce((()=>{this._showInAppAd()}),30)}updateIframe(){w.instance.updateIframe()||this.scheduleOnce((()=>{this.updateIframe()}),.02)}start(){this.initMenu(),I.instance.initCfg(b.instance.configObj),this.scheduleOnce((()=>{I.instance.init(b.instance.configObj)}),1)}onShowHideTopInfo(e){this.topInfo.active=e}onShowHideBottomInfo(e){this.bottomInfo.active=e}initMenu(){let e=2;this.menus.indexOf(T.linkType)>=0&&(e=0),D.instance.guideMode||0!=b.instance.userObj.step||0!=D.instance.curStep||(e=2),this.scheduleOnce((()=>{let t=this.toggleGroup.parent.getComponent(p).contentSize,n=this.toggleGroup.children;for(let i=0;i<n.length;i++){const o=n[i];if(o.getComponent(p).width=t.width/5,i==e){let e={};e.target=o,this.onClickBtn(e,i.toString())}}}),.1)}resetMenu(e){let t=this.toggleGroup.children;for(let n=0;n<t.length;n++){const i=t[n];n!=e&&(i.getChildByName("noCheck").active=!0,i.getChildByName("Check").active=!1,i.getChildByName("noCheck").getComponent(c).grayscale=!1)}}onClickBtn(e,t){let n=this.toggleGroup.children[Number(t)],i=Number(t);if(f.instance.hideAll(),this.onShowHideTopInfo(!0),this._prevSid!=i)switch(this._prevSid){case 0:g.instance.hide(d.PopupUI.TownPopup);break;case 1:g.instance.hide(d.PopupUI.InvitePopup);break;case 2:g.instance.hide(d.PopupUI.FarmPopup);break;case 3:g.instance.hide(d.PopupUI.EarnPopup);break;case 4:g.instance.hide(d.PopupUI.RankPopup)}switch(this._prevSid=i,i){case 0:g.instance.showPopup(d.PopupUI.TownPopup,this.bottomLayer);break;case 1:g.instance.showPopup(d.PopupUI.InvitePopup,this.bottomLayer);break;case 2:this.onShowHideTopInfo(!1),g.instance.showPopup(d.PopupUI.FarmPopup,this.bottomLayer);break;case 3:g.instance.showPopup(d.PopupUI.EarnPopup,this.bottomLayer);break;case 4:this.onShowHideTopInfo(!1),g.instance.showPopup(d.PopupUI.RankPopup,this.bottomLayer)}n.getChildByName("noCheck").active=!1,n.getChildByName("Check").active=!0,this.resetMenu(i)}onWalletBtn(){g.instance.show(d.PopupUI.WithdrawPopup)}onUpdatePlayerInfo(e){let t=b.instance.assetObj;e&&"all"!=e&&"gold"!=e||O.numberAnimation(this.gold,t.gold),e&&"all"!=e&&"candy"!=e||O.numberAnimation(this.candy,t.candy),e&&"all"!=e&&"gem"!=e||(this.rainbow.string=t.gem>10?Number(t.gem).toFixed(0):`${t.gem}`),e&&"all"!=e&&"usdt"!=e||(this.usdt.string=`${t.usdt}`),t.gem>=10?this.earnRedPoint.active=!0:this.earnRedPoint.active=!1}onGameCoin(e){let t=this.gold.node.parent.getChildByName("icon").getPosition(),n=Math.min(10,e.num),i=e.pos,o=d.commonPrefabPath+"goldItem",a=this.gold.node.parent.getComponent(p).convertToNodeSpaceAR(i);A.getPrefab(o).then((e=>{for(let i=0;i<n;i++){let o=h(e),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;o.parent=this.gold.node.parent,o.setPosition(a),this.scheduleOnce((()=>{l(o).to(.2,{position:u(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:t},{easing:"sineInOut"}).call((()=>{o.destroy(),1!=n&&1!=i||m.emit(P.UPDATE_PLAYER_DATA,"gold")})).start()}),.05+.05*i)}}))}onGameCandy(e){let t=this.candy.node.parent.getChildByName("icon").getPosition(),n=Math.min(e.num,10),i=e.pos,o=d.commonPrefabPath+"candyItem",a=this.candy.node.parent.getComponent(p).convertToNodeSpaceAR(i);A.getPrefab(o).then((e=>{for(let i=0;i<n;i++){let o=h(e),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;o.parent=this.candy.node.parent,o.setPosition(a),this.scheduleOnce((()=>{l(o).to(.2,{position:u(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:t},{easing:"sineInOut"}).call((()=>{o.destroy(),1!=n&&1!=i||m.emit(P.UPDATE_PLAYER_DATA,"candy")})).start()}),.05+.05*i)}}))}onGameGem(e){let t=this.rainbow.node.parent.getChildByName("icon").getPosition(),n=Math.min(e.num,10),i=e.pos,o=d.commonPrefabPath+"gemItem",a=this.rainbow.node.parent.getComponent(p).convertToNodeSpaceAR(i);A.getPrefab(o).then((e=>{for(let i=0;i<n;i++){let o=h(e),s=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;o.parent=this.rainbow.node.parent,o.setPosition(a),this.scheduleOnce((()=>{l(o).to(.2,{position:u(s,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:t},{easing:"sineInOut"}).call((()=>{o.destroy(),1!=n&&1!=i||m.emit(P.UPDATE_PLAYER_DATA,"ticket")})).start()}),.05+.05*i)}}))}onShowLoading(){g.instance.showLoadingPopup()}onGuideEvent(){D.instance.curStep==E.GUIDE_STEP7_EARN_BTN?g.instance.showGuidePopup(this.earnBtn,(()=>{}),(()=>{D.instance.curStep=1})):D.instance.curStep==E.GUIDE_STEP14_SPIN_BTN&&(D.instance.guideMode=!1,D.instance.curStep=1,g.instance.showGuidePopup(null,(()=>{}),(()=>{})))}onEnable(){m.on(P.SHOW_BOTTOM_INFO,this.onShowHideBottomInfo,this),m.on(P.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),m.on(P.GET_GOLD_REWARD,this.onGameCoin,this),m.on(P.GET_GEM_REWARD,this.onGameGem,this),m.on(P.SHOW_LOADING,this.onShowLoading,this),m.on(P.GUIDE_ACTION,this.onGuideEvent,this),m.on(P.HIDE_INAPP_AD,this.onHideAd,this)}onDisable(){m.off(P.SHOW_BOTTOM_INFO,this.onShowHideBottomInfo,this),m.off(P.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),m.off(P.GET_GOLD_REWARD,this.onGameCoin,this),m.off(P.GET_GEM_REWARD,this.onGameGem,this),m.off(P.SHOW_LOADING,this.onShowLoading,this),m.off(P.GUIDE_ACTION,this.onGuideEvent,this),m.off(P.HIDE_INAPP_AD,this.onHideAd,this)}}).prototype,"gold",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Q.prototype,"candy",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Q.prototype,"rainbow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Q.prototype,"usdt",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Q.prototype,"bottomLayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"middleLayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"topLayer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"bgNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"toggleGroup",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"topInfo",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"bottomInfo",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"popupNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(Q.prototype,"earnBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(Q.prototype,"farmBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(Q.prototype,"earnRedPoint",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Q))||q));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainEvent.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8648axqgfJL17PIoUJZQZGU","MainEvent",void 0);class e{}t("MainEvent",e),e.SHOW_TOAST="showToast",n._RF.pop()}}}));

System.register("chunks:///_virtual/MaterialPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts"],(function(e){var t,o,n,r,i,p,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.ScrollView,i=e._decorator,p=e.Component},function(e){s=e.OpenPopupManager},function(e){a=e.Constants}],execute:function(){var c,l,u,M,P;n._RF.push({},"274e2FcHJVM4ZLCK5Y8MswJ","MaterialPopup",void 0);const{ccclass:f,property:d}=i;e("MaterialPopup",(c=f("MaterialPopup"),l=d(r),c((P=t((M=class extends p{constructor(){super(...arguments),o(this,"scrollView",P,this)}show(){}selectItem(){}onCloseBtn(){s.instance.hide(a.PopupUI.MaterialPopup)}}).prototype,"scrollView",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=M))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t.math}],execute:function(){e._RF.push({},"9349f45uBNFWJjoR2/V0S6M","MathUtil",void 0);t("MathUtil",class{static IsInRange(t,e,n){return!(t<e)&&!(t>n)}static randWeight(t){if(!t)return-1;if(t.length<=0)return-1;const e=[0];let r=0;for(let n=0;n<t.length;n++){const c=t[n];r+=c,e.push(e[n]+c)}const c=n.randomRange(0,r);for(let t=0;t<e.length;t++)if(c>=e[t]&&c<=e[t+1])return t;return-1}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/MergeLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./OpenPopupManager.ts","./Constants.ts"],(function(t){var e,i,n,o,s,r,l,c,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,s=t.Sprite,r=t._decorator,l=t.Component,c=t.Color},function(t){a=t.SpriteEx},function(t){u=t.OpenPopupManager},function(t){p=t.Constants}],execute:function(){var h,g,m,b,_,f,x,y,d;n._RF.push({},"26e91/JoPpGGKLdOfgtNjmG","MergeLlamaItem",void 0);const{ccclass:C,property:M}=r;t("MergeLlamaItem",(h=C("MergeLlamaItem"),g=M(o),m=M(a),b=M(s),h((x=e((f=class extends l{constructor(){super(...arguments),i(this,"countText",x,this),i(this,"icon",y,this),i(this,"bg",d,this),this.colors=["725959","C39265","FCC3B5","FCC26C","9DE0C0"],this._type=0,this._count=0,this._llamaObj=null}get llamaObj(){return this._llamaObj}init(t,e){this._type=t,this._count=e,this.icon.index=0,this.countText.string=e>=0?`${e}`:"",this.bg.color=(new c).fromHEX(this.colors[this._type-1])}reset(){this.icon.index=0,this._count--,this.countText.string=`${this._count}`}onSelectBtn(){u.instance.show(p.PopupUI.MergeSelectPopup,this._type,(t=>{this._llamaObj=t,this.icon.index=t.type,this._count<0&&(this.countText.string="#"+t.id)}))}select(t){this.icon.index=t}}).prototype,"countText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(f.prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(f.prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=f))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/MergeSelectPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./SelectLlamaItem.ts"],(function(e){var t,n,a,i,l,o,r,s,c,p,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,l=e.Prefab,o=e._decorator,r=e.Component,s=e.instantiate},function(e){c=e.OpenPopupManager},function(e){p=e.Constants},function(e){u=e.LlamaData},function(e){h=e.SelectLlamaItem}],execute:function(){var m,b,f,g,P,d,y,v,C;a._RF.push({},"60d33rFeFVK6ZOkLu/5gkH7","MergeSelectPopup",void 0);const{ccclass:M,property:S}=o;e("MergeSelectPopup",(m=M("MergeSelectPopup"),b=S(i),f=S(l),g=S(i),m((y=t((d=class extends r{constructor(){super(...arguments),n(this,"content",y,this),n(this,"llamaItemPrefab",v,this),n(this,"tips",C,this),this._callback=null}show(e,t){this._callback=t,this.setContent(e)}setContent(e){let t=u.instance.llamaObjs;this.content.removeAllChildren(),this.tips.active=!1;let n=!1;for(let i=0;i<t.length;i++){let l=t[i];if(l.type==e){n=!0;var a=s(this.llamaItemPrefab);a.getComponent(h).init(l,this._callback),a.parent=this.content}}n||(this.tips.active=!0)}onCloseBtn(){c.instance.hide(p.PopupUI.MergeSelectPopup)}}).prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(d.prototype,"llamaItemPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(d.prototype,"tips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=d))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/MergeWoolItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts"],(function(t){var e,i,o,r,n,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.Label,n=t.Sprite,s=t._decorator,c=t.Component,l=t.Color},function(t){u=t.SpriteEx}],execute:function(){var p,a,h,g,b,f,m,y,_;o._RF.push({},"cef0e7RnYFKqampfYeDCQpG","MergeWoolItem",void 0);const{ccclass:C,property:x}=s;t("MergeWoolItem",(p=C("MergeWoolItem"),a=x(r),h=x(u),g=x(n),p((m=e((f=class extends c{constructor(){super(...arguments),i(this,"countText",m,this),i(this,"icon",y,this),i(this,"bg",_,this),this.colors=["725959","C39265","FCC3B5","FCC26C","9DE0C0"],this._type=0,this._count=0}init(t,e){this._type=t,this._count=e,this.icon.index=t-1,this.countText.string=`${e}`,this.bg.color=(new l).fromHEX(this.colors[this._type-1])}reset(){this._count--,this.countText.string=`${this._count}`}}).prototype,"countText",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(f.prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(f.prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/MineData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./OpenPopupManager.ts","./AdManager.ts","./PlayerData.ts"],(function(t){var e,s,n,i,a,m,r,_,o,c;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.HttpService},function(t){i=t.Api},function(t){a=t.EventListener},function(t){m=t.GameEvent},function(t){r=t.OpenPopupManager},function(t){_=t.AdManager,o=t.AdType},function(t){c=t.PlayerData}],execute:function(){var d,h;e._RF.push({},"d8cc4aYsY5DarYoJ8kGLSgo","MineData",void 0);const{ccclass:u,property:I}=s;t("MineData",u("MineData")(((h=class t{constructor(){this.mountainNames=["Green","Ice","Blossom","Barrren","Volcano","Stone"],this._issueId=0,this._nexttime=void 0,this._myInvests=[],this._gems=[],this._minerObj=null,this._state=E.START,this._mineRecordObj=null,this._minerLlamas=[],this._lastMountain=-1,this._nextday=0}get nextday(){return this._nextday}set nextday(t){this._nextday-=t}get state(){return this._state}set state(t){this._state=t}get nexttime(){return this._nexttime}set nexttime(t){this._nexttime-=t}get gems(){return this._gems}get issueId(){return this._issueId}get myInvests(){return this._myInvests}get mineRecordObj(){return this._mineRecordObj}get minerLlamas(){return this._minerLlamas}get minerObj(){return this._minerObj}getMineInfo(t){void 0===t&&(t=!0),n.instance.post(i.MINE_INFO,{issueId:this._issueId}).then((e=>{e&&0==e.code&&(this._issueId=e.data.issueId,this._nexttime=e.data.nexttime,this._gems=e.data.gems,this._myInvests=e.data.myInvests,this._minerObj=e.data.miner,this._nextday=e.data.nextday,(e.data.gem>0||e.data.llama>0)&&c.instance.getPlayerInfo(),t&&a.emit(m.UPDATE_MINE_DATA))}))}getMineInfoByIssue(t){n.instance.post(i.MINE_ISSUE,{issueId:this._issueId}).then((t=>{t&&0==t.code&&t.data&&(t.data.mountain>=0?(this._state=E.SETTLED,this._lastMountain=t.data.mountain,a.emit(m.SETTLE_MINE_ISSUE,t.data.mountain,t.data.gems,this._myInvests),this._issueId+=1,this._nexttime=t.data.nexttime,this._gems=[0,0,0,0,0,0],this._myInvests=[0,0,0,0,0,0]):(this._gems=t.data.gems,a.emit(m.UPDATE_MINE_DATA)))}))}invest(t,e){let s=this._issueId;n.instance.post(i.MINE_INVEST,{gem:e,issueId:s,mountain:t}).then((e=>{0==e.code?(this._gems=e.data.gems,this._myInvests[t]+=e.data.investAmount,a.emit(m.UPDATE_MINE_DATA),c.instance.getPlayerInfo(),r.instance.showToast("Invest Success")):r.instance.showToast(e.msg)}))}addEnergy(){_.instance.showAd(o.MINE,0,((t,e)=>{0==t&&n.instance.post(i.MINE_ENERGY,{sign:e}).then((t=>{t&&0==t.code&&(this._minerObj=t.data.miner,a.emit(m.UPDATE_MINE_ENERGY))}))}))}addMiner(){_.instance.showAd(o.MINE,1,((t,e)=>{0==t&&n.instance.post(i.MINE_MINER,{sign:e}).then((t=>{t&&0==t.code&&(this._minerObj=t.data.miner,a.emit(m.UPDATE_MINE_ENERGY))}))}))}getLlamas(){n.instance.post(i.MINE_LLAMA,{}).then((t=>{0==t.code&&(this._minerLlamas=t.data.llamas,a.emit(m.UPDATE_MINE_LLAMA))}))}getMineRecordInfo(){n.instance.post(i.MINE_RECORD,{}).then((t=>{t&&0==t.code&&(this._mineRecordObj=t.data,a.emit(m.UPDATE_MINE_RECORD))}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,d=h))||d);t("MineLlamaResult",class{constructor(){this.llamas=void 0}});let E=t("MineStateType",function(t){return t.START="start",t.SETTLEING="settleing",t.SETTLED="settled",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/MineEnergyPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./MineData.ts","./EventListener.ts","./GameEvent.ts","./Util.ts"],(function(e){var t,n,i,r,o,a,s,u,c,p,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e._decorator,a=e.Component},function(e){s=e.OpenPopupManager},function(e){u=e.Constants},function(e){c=e.MineData},function(e){p=e.EventListener},function(e){l=e.GameEvent},function(e){d=e.Util}],execute:function(){var h,E,y,g,m,f,b,x,M,N,P;i._RF.push({},"cff7116motAlIRPweernRNB","MineEnergyPopup",void 0);const{ccclass:T,property:U}=o;e("MineEnergyPopup",(h=T("MineEnergyPopup"),E=U(r),y=U(r),g=U(r),m=U(r),h((x=t((b=class extends a{constructor(){super(...arguments),n(this,"curEnergyText",x,this),n(this,"nextEnergyFactor",M,this),n(this,"adEnergyNumber",N,this),n(this,"daytime",P,this)}show(){this.onUpdateContent()}onUpdateContent(){let e=c.instance.minerObj;e&&(this.curEnergyText.string="Current Stamina Multiplier x"+Number(e.energyFactor).toFixed(1),this.nextEnergyFactor.string="x"+Number(e.nextEnergyFactor).toFixed(1),this.adEnergyNumber.string=e.adEnergyNumber+"/"+e.adEnergyMaxNumber,this.daytime.string=d.countdown(c.instance.nextday),this.unschedule(this.updateTime),this.schedule(this.updateTime,1))}updateTime(){c.instance.nextday<=0&&(c.instance.getMineInfo(),this.unschedule(this.updateTime)),c.instance.nextday=1,this.daytime.string=d.countdown(c.instance.nextday)}onWatchBtn(){c.instance.addEnergy()}onCloseBtn(){s.instance.hide(u.PopupUI.MineEnergyPopup),p.emit(l.SHOW_MINE_RESULT)}onEnable(){p.on(l.UPDATE_MINE_DATA,this.onUpdateContent,this),p.on(l.UPDATE_MINE_ENERGY,this.onUpdateContent,this)}onDisable(){p.off(l.UPDATE_MINE_DATA,this.onUpdateContent,this),p.off(l.UPDATE_MINE_ENERGY,this.onUpdateContent,this),this.unschedule(this.updateTime)}}).prototype,"curEnergyText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(b.prototype,"nextEnergyFactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(b.prototype,"adEnergyNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"daytime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineLlamaPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./MineData.ts","./EventListener.ts","./GameEvent.ts"],(function(e){var t,n,i,r,a,o,l,s,u,p,c,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.ProgressBar,a=e.Label,o=e._decorator,l=e.Component},function(e){s=e.OpenPopupManager},function(e){u=e.Constants},function(e){p=e.MineData},function(e){c=e.EventListener},function(e){m=e.GameEvent}],execute:function(){var f,h,b,g,d,P,M,x,y,F,L;i._RF.push({},"f51a2lp3whBhpAFsvw/WpJl","MineLlamaPopup",void 0);const{ccclass:v,property:w}=o;e("MineLlamaPopup",(f=v("MineLlamaPopup"),h=w(r),b=w(a),g=w(a),d=w(a),f((x=t((M=class extends l{constructor(){super(...arguments),n(this,"llamaProgress",x,this),n(this,"llamaText",y,this),n(this,"dailyText",F,this),n(this,"minerFactor",L,this)}show(){let e=p.instance.minerObj,t=100*e.miner+"";t=Number(t).toFixed(5-t.indexOf(".")),this.llamaText.string=t+"%",this.llamaProgress.progress=e.miner>1?1:e.miner,this.dailyText.string=Number(e.daily).toFixed(2),this.minerFactor.string="x"+Number(e.minerFactor).toFixed(1)}onAddMiner(){s.instance.show(u.PopupUI.MineMinerPopup)}onCloseBtn(){s.instance.hide(u.PopupUI.MineLlamaPopup),c.emit(m.SHOW_MINE_RESULT)}}).prototype,"llamaProgress",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(M.prototype,"llamaText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"dailyText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(M.prototype,"minerFactor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=M))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineMinerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./MineData.ts","./EventListener.ts","./GameEvent.ts","./Util.ts"],(function(e){var t,n,i,r,o,a,s,u,c,p,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e._decorator,a=e.Component},function(e){s=e.OpenPopupManager},function(e){u=e.Constants},function(e){c=e.MineData},function(e){p=e.EventListener},function(e){l=e.GameEvent},function(e){d=e.Util}],execute:function(){var h,E,M,m,y,b,f,g,x,N,P;i._RF.push({},"87751yS0xVJiJPe2uvNquKE","MineMinerPopup",void 0);const{ccclass:T,property:U}=o;e("MineMinerPopup",(h=T("MineMinerPopup"),E=U(r),M=U(r),m=U(r),y=U(r),h((g=t((f=class extends a{constructor(){super(...arguments),n(this,"curEnergyText",g,this),n(this,"nextEnergyFactor",x,this),n(this,"adEnergyNumber",N,this),n(this,"daytime",P,this)}show(){this.onUpdateContent()}onUpdateContent(){let e=c.instance.minerObj;e&&(this.curEnergyText.string="Current Miner Multiplier x"+Number(e.minerFactor).toFixed(1),this.nextEnergyFactor.string="x"+Number(e.nextMinerFactor).toFixed(1),this.adEnergyNumber.string=e.adMinerNumber+"/"+e.adMinerMaxNumber,this.daytime.string=d.countdown(c.instance.nextday),this.unschedule(this.updateTime),this.schedule(this.updateTime,1))}updateTime(){c.instance.nextday<=0&&(c.instance.getMineInfo(),this.unschedule(this.updateTime)),c.instance.nextday=1,this.daytime.string=d.countdown(c.instance.nextday)}onWatchBtn(){c.instance.addMiner()}onCloseBtn(){s.instance.hide(u.PopupUI.MineMinerPopup),p.emit(l.SHOW_MINE_RESULT)}onEnable(){p.on(l.UPDATE_MINE_DATA,this.onUpdateContent,this),p.on(l.UPDATE_MINE_ENERGY,this.onUpdateContent,this)}onDisable(){p.off(l.UPDATE_MINE_DATA,this.onUpdateContent,this),p.off(l.UPDATE_MINE_ENERGY,this.onUpdateContent,this),this.unschedule(this.updateTime)}}).prototype,"curEnergyText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(f.prototype,"nextEnergyFactor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(f.prototype,"adEnergyNumber",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(f.prototype,"daytime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/MinePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./MineData.ts","./Util.ts","./OpenPopupManager.ts","./Constants.ts","./GameEvent.ts","./EventListener.ts","./PlayerData.ts"],(function(t){var e,n,i,s,o,a,r,u,l,m,h,p,c,g,b,f,d,T,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Label,o=t.ProgressBar,a=t.Node,r=t.AnimationComponent,u=t._decorator,l=t.Component,m=t.Animation},function(t){h=t.SpriteEx},function(t){p=t.MineData,c=t.MineStateType},function(t){g=t.Util},function(t){b=t.OpenPopupManager},function(t){f=t.Constants},function(t){d=t.GameEvent},function(t){T=t.EventListener},function(t){y=t.PlayerData}],execute:function(){var M,E,_,x,P,A,w,I,U,R,N,S,v,C,D,O,z,B,F,G,L,j,k,Y,H,W,X,J,Q,$,q,K,V,Z,tt,et,nt;i._RF.push({},"28139P8Tp1JWY94QIbys+Om","MinePopup",void 0);const{ccclass:it,property:st}=u;t("MinePopup",(M=it("MinePopup"),E=st(s),_=st(s),x=st(s),P=st(s),A=st(s),w=st(s),I=st(o),U=st(s),R=st(h),N=st(s),S=st(a),v=st(a),C=st(s),D=st(s),O=st(s),z=st(r),B=st(a),M((L=e((G=class extends l{constructor(){super(...arguments),n(this,"gem",L,this),n(this,"llamaToken",j,this),n(this,"energy",k,this),n(this,"minerText",Y,this),n(this,"minerFactor",H,this),n(this,"energyFactor",W,this),n(this,"llamaProgress",X,this),n(this,"llamaText",J,this),n(this,"mountains",Q,this),n(this,"mountainGems",$,this),n(this,"mountainCards",q,this),n(this,"gemOptions",K,this),n(this,"gemAmountTexts",V,this),n(this,"gemAmountText",Z,this),n(this,"timeText",tt,this),n(this,"miner",et,this),n(this,"comming",nt,this),this.pos=null,this._gemAmount=10,this._curMountain=-1,this._showResult=!0}show(){p.instance.getMineInfo(),this.gemAmountText.string=""+this._gemAmount,this.schedule(this.updateTime,1),this.onUpdateContent(),this.onUpdatePlayerInfo()}onReset(){for(let t=0;t<this.mountains.length;t++)this.mountains[t].index=0,this.mountainGems[t].string="0",this.mountains[t].node.parent.getChildByName("light").active=!1;for(let t=0;t<this.mountainCards.length;t++)this.mountainCards[t].active=!1;this.timeText.node.parent.active=!0,this.miner.node.setPosition(this.pos.x,this.pos.y),this.miner.node.setScale(1,1),this.onUpdateContent()}updateTime(){p.instance.issueId<0||(2==p.instance.nexttime&&(this.comming.active=!0),0==p.instance.nexttime?(this.timeText.node.parent.active=!1,p.instance.nexttime=1):(p.instance.nexttime=1,this.timeText.string=g.timeToStrings(p.instance.nexttime,!1)),p.instance.state==c.START&&p.instance.nexttime%5==0&&p.instance.getMineInfoByIssue())}onMountainBtn(t,e){for(let t=0;t<this.mountains.length;t++)this.mountains[t].index=0;this.mountains[Number(e)].index=1;for(let t=0;t<this.mountainCards.length;t++)this.mountainCards[t].active=!1;this.mountainCards[Number(e)].active=!0,this._curMountain=Number(e)}onCardBtn(t,e){for(let t=0;t<this.mountains.length;t++)this.mountains[t].index=0;this.mountains[Number(e)].index=1;for(let t=0;t<this.mountainCards.length;t++)this.mountainCards[t].active=!1;this.mountainCards[Number(e)].active=!0,this._curMountain=Number(e)}onShowGemOptionsBtn(){this.gemOptions.active=!0}onSelectGemBtn(t,e){this._gemAmount=Number(e),this.gemOptions.active=!1,this.gemAmountText.string=e,this._gemAmount=Number(e)}onInvestBtn(){-1!=this._curMountain?p.instance.invest(this._curMountain,this._gemAmount):b.instance.showToast("Pick a mountain to invest your Gems")}onTipsBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineTipsPopup)}onLlamaBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineLlamaPopup)}onTokenBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineTokenPopup)}onEnergyBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineEnergyPopup)}onMinerBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineMinerPopup)}onCloseBtn(){b.instance.hide(f.PopupUI.MinePopup)}onRecordBtn(){this._showResult=!1,b.instance.show(f.PopupUI.MineRecordPopup)}onUpdateContent(){if(this.pos||(this.pos=this.miner.node.getPosition()),!p.instance.minerObj)return;this.timeText.node.parent.active=!0;let t=p.instance.gems;for(let e=0;e<t.length;e++)this.mountainGems[e]&&g.numberAnimation(this.mountainGems[e],Math.floor(t[e]));let e=p.instance.myInvests;for(let t=0;t<e.length;t++)this.gemAmountTexts[t]&&g.numberAnimation(this.gemAmountTexts[t],Math.floor(e[t]));this.timeText.string=g.timeToStrings(p.instance.nexttime,!1);let n=100*p.instance.minerObj.miner+"";n=Number(n).toFixed(5-n.indexOf(".")),this.llamaText.string=n+"%",this.llamaProgress.progress=p.instance.minerObj.miner,this.minerText.string=n+"%",this.onUpdateEnergy()}onUpdateEnergy(){this.energy.string=p.instance.minerObj.energy+"",this.energyFactor.string="x"+Number(p.instance.minerObj.energyFactor).toFixed(1),this.minerFactor.string="x"+Number(p.instance.minerObj.minerFactor).toFixed(1)}onSettleMine(t,e,n){for(let t=0;t<e.length;t++)this.mountainGems[t]&&g.numberAnimation(this.mountainGems[t],Math.floor(e[t]));this.comming.active=!1,this.miner.once(m.EventType.FINISHED,(()=>{this.onShowResult(t,e,n)}),this),this.miner.play("move"+t)}onShowResult(t,e,n){p.instance.state=c.START,this.mountains[t].index=2,this.mountains[t].node.parent.getChildByName("light").active=!0;let i=5.6*e[t];g.numberAnimation(this.mountainGems[t],i),this._showResult&&this.scheduleOnce((()=>{b.instance.show(f.PopupUI.MineResultPopup,t,e,n)}),2),this.scheduleOnce((()=>{p.instance.getMineInfo(),this.onReset()}),3)}onUpdatePlayerInfo(t){let e=y.instance.assetObj;t&&"all"!=t&&"llama"!=t||g.numberAnimation(this.llamaToken,e.llama),t&&"all"!=t&&"gem"!=t||(this.gem.string=e.gem>10?Number(e.gem).toFixed(0):`${e.gem}`)}onShowMineResult(){this._showResult=!0}onEnable(){T.on(d.UPDATE_MINE_DATA,this.onUpdateContent,this),T.on(d.UPDATE_MINE_ENERGY,this.onUpdateEnergy,this),T.on(d.SETTLE_MINE_ISSUE,this.onSettleMine,this),T.on(d.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),T.on(d.SHOW_MINE_RESULT,this.onShowMineResult,this),T.on(d.NEXT_MINE_DATA,this.onReset,this)}onDisable(){T.off(d.UPDATE_MINE_DATA,this.onUpdateContent,this),T.off(d.UPDATE_MINE_ENERGY,this.onUpdateEnergy,this),T.off(d.SETTLE_MINE_ISSUE,this.onSettleMine,this),T.off(d.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),T.off(d.NEXT_MINE_DATA,this.onReset,this),T.off(d.SHOW_MINE_RESULT,this.onShowMineResult,this),this.unschedule(this.updateTime)}}).prototype,"gem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"llamaToken",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(G.prototype,"energy",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"minerText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"minerFactor",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"energyFactor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"llamaProgress",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"llamaText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(G.prototype,"mountains",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(G.prototype,"mountainGems",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(G.prototype,"mountainCards",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(G.prototype,"gemOptions",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(G.prototype,"gemAmountTexts",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(G.prototype,"gemAmountText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(G.prototype,"timeText",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(G.prototype,"miner",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(G.prototype,"comming",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=G))||F));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MineData.ts","./Util.ts"],(function(e){var i,t,n,r,s,a,l,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Label,s=e.Node,a=e._decorator,l=e.Component},function(e){o=e.MineData},function(e){u=e.Util}],execute:function(){var m,c,b,h,p,d,g,y,M,f,R,v,z,w,x,I,G,N,D,F,T,E,_;n._RF.push({},"42dd3TlXd1CZrmJU48aGYAn","MineRecordItem",void 0);const{ccclass:C,property:U}=a;e("MineRecordItem",(m=C("MineRecordItem"),c=U(r),b=U(r),h=U(s),p=U(s),d=U(r),g=U(r),y=U(r),M=U(r),f=U(r),R=U(r),m((w=i((z=class extends l{constructor(){super(...arguments),t(this,"issueId",w,this),t(this,"timeText",x,this),t(this,"successResult",I,this),t(this,"failedResult",G,this),t(this,"myMountain",N,this),t(this,"mineMountain",D,this),t(this,"investGem",F,this),t(this,"earnGem",T,this),t(this,"energy",E,this),t(this,"miner",_,this)}init(e){this.issueId.string=e.issueId+"",this.timeText.string=u.getDayTime(e.investTime),this.myMountain.string="I Chose: ["+o.instance.mountainNames[e.myMountain]+"]",this.mineMountain.string="Mine Mountain: ["+o.instance.mountainNames[e.mineMountain]+"] ",this.investGem.string="Invested Gems: "+Number(e.gem).toFixed(1),this.earnGem.string="Earned Gems: "+Number(e.earn).toFixed(1),this.energy.string="Earned Energy: "+e.energy;let i=Number(100*e.miner).toFixed(6);i=Number(i).toFixed(5-i.indexOf(".")),this.miner.string="Earned Miner: "+i+"%",this.successResult.active=e.mineMountain==e.myMountain,this.failedResult.active=e.mineMountain!=e.myMountain}}).prototype,"issueId",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(z.prototype,"timeText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(z.prototype,"successResult",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(z.prototype,"failedResult",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(z.prototype,"myMountain",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(z.prototype,"mineMountain",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(z.prototype,"investGem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(z.prototype,"earnGem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(z.prototype,"energy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(z.prototype,"miner",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/MineRecordPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./MineData.ts","./EventListener.ts","./GameEvent.ts","./MineResultItem.ts","./MineRecordItem.ts"],(function(e){var t,n,i,r,o,s,l,a,u,c,m,p,h,b,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,o=e.Node,s=e.Prefab,l=e._decorator,a=e.Component,u=e.instantiate},function(e){c=e.OpenPopupManager},function(e){m=e.Constants},function(e){p=e.MineData},function(e){h=e.EventListener},function(e){b=e.GameEvent},function(e){d=e.MineResultItem},function(e){f=e.MineRecordItem}],execute:function(){var g,y,R,M,P,C,I,E,v,w,z,D,G,_,N,U,x,F,O,L,A;i._RF.push({},"7a709f3WnFBjqkwt6xcZuMB","MineRecordPopup",void 0);const{ccclass:B,property:j}=l;e("MineRecordPopup",(g=B("MineRecordPopup"),y=j(r),R=j(o),M=j(o),P=j(r),C=j(r),I=j(r),E=j(r),v=j(s),w=j(s),g((G=t((D=class extends a{constructor(){super(...arguments),n(this,"mountainCounts",G,this),n(this,"result",_,this),n(this,"myRecords",N,this),n(this,"totalGem",U,this),n(this,"earnGem",x,this),n(this,"energy",F,this),n(this,"miner",O,this),n(this,"resultItemPerfab",L,this),n(this,"recordItemPerfab",A,this)}show(){p.instance.getMineRecordInfo(),this.onUpdateContent()}onCloseBtn(){c.instance.hide(m.PopupUI.MineRecordPopup),h.emit(b.SHOW_MINE_RESULT)}onUpdateContent(){let e=p.instance.mineRecordObj;if(!e)return;for(let t=0;t<this.mountainCounts.length;t++)this.mountainCounts[t].string=e.mountains[t]+"";this.result.removeAllChildren();let t=e.results;for(let e=0;e<t.length;e++){(i=u(this.resultItemPerfab)).getComponent(d).init(t[e]),i.parent=this.result}this.myRecords.removeAllChildren();let n=e.records;for(let e=0;e<n.length;e++){var i;(i=u(this.recordItemPerfab)).getComponent(f).init(n[e]),i.parent=this.myRecords}this.energy.string=Number(e.myRecord.energy).toFixed(1),this.miner.string=Number(100*e.myRecord.miner).toFixed(4)+"%",this.earnGem.string=Number(e.myRecord.earnGem).toFixed(1),this.totalGem.string=Number(e.myRecord.investGem).toFixed(1)}onEnable(){h.on(b.UPDATE_MINE_RECORD,this.onUpdateContent,this)}onDisable(){h.off(b.UPDATE_MINE_RECORD,this.onUpdateContent,this)}}).prototype,"mountainCounts",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(D.prototype,"result",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"myRecords",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(D.prototype,"totalGem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"earnGem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(D.prototype,"energy",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(D.prototype,"miner",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"resultItemPerfab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"recordItemPerfab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=D))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineResultItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,c,r,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,c=e.Node,r=e._decorator,o=e.Component}],execute:function(){var l,s,u,a,p;i._RF.push({},"f0d27wJwTxLlb8LoTkV7Sv4","MineResultItem",void 0);const{ccclass:h,property:d}=r;e("MineResultItem",(l=h("MineResultItem"),s=d(c),l((p=t((a=class extends o{constructor(){super(...arguments),n(this,"content",p,this)}init(e){for(let t=0;t<this.content.children.length;t++)this.content.children[t].getChildByName("hit").active=e==t,this.content.children[t].getChildByName("miss").active=e!=t}}).prototype,"content",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=a))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineResultPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpriteEx.ts","./MineData.ts"],(function(t){var e,i,n,r,l,o,s,a,u,h,p,c,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,l=t.RichText,o=t.Node,s=t._decorator,a=t.Component,u=t.Color},function(t){h=t.OpenPopupManager},function(t){p=t.Constants},function(t){c=t.SpriteEx},function(t){m=t.MineData}],execute:function(){var g,b,d,f,y,v,x,F,M,w,N,P,z,R,C,D,E,H,O;n._RF.push({},"d31cfPF7EhFL66YdjqH8b80","MineResultPopup",void 0);const{ccclass:G,property:L}=s;t("MineResultPopup",(g=G("MineResultPopup"),b=L(c),d=L(r),f=L(l),y=L(o),v=L(r),x=L(r),F=L(r),M=L(r),g((P=e((N=class extends a{constructor(){super(...arguments),i(this,"bg",P,this),i(this,"title",z,this),i(this,"tips",R,this),i(this,"anim",C,this),i(this,"llama",D,this),i(this,"miner",E,this),i(this,"energy",H,this),i(this,"totalGem",O,this)}show(t,e,i){this.llama.node.parent.active=!1,this.miner.node.parent.active=!1,this.energy.node.parent.active=!1;let n=i[t],r=0;for(let t=0;t<i.length;t++)r+=i[t];let l=0;for(let t=0;t<e.length;t++)l+=e[t];n>0?(this.bg.index=0,this.anim.active=!0,this.title.string="Congratulations",this.title.color=(new u).fromHEX("FF9119"),this.tips.string="You successfully mined gold!",this.title.enableOutline=!0,this.llama.node.parent.active=!0,this.llama.string=Number(5.6*n).toFixed(0),r-n>0&&(this.miner.node.parent.active=!0,this.energy.node.parent.active=!0,this.miner.string=Number(.01*(r-n)/10).toFixed(4)+"%",this.energy.string=Number(.02*(r-n)).toFixed(2))):(this.anim.active=!1,r>0?(this.title.string="Unfortunately",this.title.color=(new u).fromHEX("000000"),this.title.enableOutline=!1,this.tips.string="Missed the Gold Mine this round? Don't worry, try again next time!",this.bg.index=1,this.miner.node.parent.active=!0,this.energy.node.parent.active=!0,this.miner.string=Number(.01*(r-n)/10).toFixed(4)+"%",this.energy.string=Number(.02*(r-n)/1).toFixed(2)):(this.bg.index=2,this.title.string="Mine Result",this.title.color=(new u).fromHEX("000000"),this.title.enableOutline=!1,this.tips.string=`<color=#000000>The Miner Llama struck gold at </color><color=#ff0000>${m.instance.mountainNames[t]}</color>,\n    <color=#000000>but you didn’t invest—others claimed the prize!</color>`,this.llama.node.parent.active=!0,this.miner.node.parent.active=!0,this.energy.node.parent.active=!0,this.llama.string=Number(5.6*e[t]).toFixed(0),this.miner.string=Number(.01*(l-e[t])/10).toFixed(4)+"%",this.energy.string=Number(.02*(l-e[t])/1).toFixed(2))),this.totalGem.string=Number(l).toFixed(0)}onCloseBtn(){h.instance.hide(p.PopupUI.MineResultPopup)}}).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(N.prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(N.prototype,"tips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(N.prototype,"anim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(N.prototype,"llama",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(N.prototype,"miner",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(N.prototype,"energy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(N.prototype,"totalGem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=N))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/MinerLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,l,s,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,o=e.ProgressBar,a=e.Node,l=e._decorator,s=e.Component,u=e.tween,c=e.v2}],execute:function(){var p,g,b,h,m,y,f,x,w,T,d,v,L;i._RF.push({},"57f80QUvwJFn6THB9203NBL","MinerLlamaItem",void 0);const{ccclass:z,property:M}=l;e("MinerLlamaItem",(p=z("MinerLlamaItem"),g=M(n),b=M(n),h=M(n),m=M(o),y=M(a),p((w=r((x=class extends s{constructor(){super(...arguments),t(this,"tokenText",w,this),t(this,"energyText",T,this),t(this,"hourEarnText",d,this),t(this,"energyProgress",v,this),t(this,"earnArrow",L,this)}init(e,r){r=Math.floor(r),this.tokenText.string=`#${e.id}`,this.energyText.string=`${Number(r).toFixed(0)}`,this.energyProgress.progress=0==r?0:1,u(this.earnArrow).sequence(u().to(2,{position:c(71.25,0)},{easing:"linear"}),u().to(0,{position:c(0,0)})).repeatForever().start()}onDetailBtn(){}onEnable(){}onDisable(){}}).prototype,"tokenText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=r(x.prototype,"energyText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=r(x.prototype,"hourEarnText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(x.prototype,"energyProgress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(x.prototype,"earnArrow",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=x))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/MineTipsPopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts"],(function(n){var e,t,s,p,o,i,c;return{setters:[function(n){e=n.cclegacy,t=n.Component,s=n._decorator},function(n){p=n.OpenPopupManager},function(n){o=n.Constants},function(n){i=n.EventListener},function(n){c=n.GameEvent}],execute:function(){var u;e._RF.push({},"d31e1LDIHVHb6BPa9GvqJZs","MineTipsPopup",void 0);const{ccclass:a,property:r}=s;n("MineTipsPopup",a("MineTipsPopup")(u=class extends t{show(){}onCloseBtn(){p.instance.hide(o.PopupUI.MineTipsPopup),i.emit(c.SHOW_MINE_RESULT)}})||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/MineTokenPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./OpenPopupManager.ts","./Constants.ts","./MineData.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./MinerLlamaItem.ts"],(function(t){var e,n,i,a,l,o,r,s,u,m,p,b,c,h,f,g,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,l=t.Label,o=t.Prefab,r=t._decorator,s=t.Component,u=t.instantiate},function(t){m=t.SpriteEx},function(t){p=t.OpenPopupManager},function(t){b=t.Constants},function(t){c=t.MineData},function(t){h=t.EventListener},function(t){f=t.GameEvent},function(t){g=t.PlayerData},function(t){y=t.MinerLlamaItem}],execute:function(){var d,T,L,P,M,k,v,A,E,_,C,D,w,z,I,U,x,N,O;i._RF.push({},"ff93fPhaoJOUY7vWj85uo4p","MineTokenPopup",void 0);const{ccclass:j,property:S}=r;t("MineTokenPopup",(d=j("MineTokenPopup"),T=S(a),L=S(a),P=S(a),M=S(a),k=S(l),v=S(l),A=S(l),E=S(o),d((D=e((C=class extends s{constructor(){super(...arguments),n(this,"tabs",D,this),n(this,"tokenTab",w,this),n(this,"llamaTab",z,this),n(this,"llamaContent",I,this),n(this,"tokenAmount",U,this),n(this,"dailyAmount",x,this),n(this,"myLlama",N,this),n(this,"minerItemPrefab",O,this),this._tabType="token"}show(){c.instance.getLlamas(),this.tokenAmount.string=Number(g.instance.assetObj.llama).toFixed(0),this.dailyAmount.string=c.instance.minerObj.energy+""}onTabBtn(t,e){for(let t=0;t<this.tabs.children.length;t++)this.tabs.children[t].getComponent(m).index=1;this.tabs.children[Number(e)].getComponent(m).index=0,0==Number(e)?(this._tabType="token",this.tokenTab.active=!0,this.llamaTab.active=!1):(this._tabType="llama",this.tokenTab.active=!1,this.llamaTab.active=!0)}onUpdateLlama(){let t=c.instance.minerLlamas;this.myLlama.string=t.length+"",this.llamaContent.removeAllChildren();let e=c.instance.minerObj.energy;for(let i=0;i<t.length;i++){let a=t[i];var n=u(this.minerItemPrefab);n.getComponent(y).init(a,e/t.length),n.parent=this.llamaContent}}onCloseBtn(){p.instance.hide(b.PopupUI.MineTokenPopup),h.emit(f.SHOW_MINE_RESULT)}onEnable(){h.on(f.UPDATE_MINE_LLAMA,this.onUpdateLlama,this)}onDisable(){h.off(f.UPDATE_MINE_LLAMA,this.onUpdateLlama,this)}}).prototype,"tabs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(C.prototype,"tokenTab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(C.prototype,"llamaTab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(C.prototype,"llamaContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(C.prototype,"tokenAmount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(C.prototype,"dailyAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(C.prototype,"myLlama",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(C.prototype,"minerItemPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/MiniGameData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts"],(function(t){var e,n,a,i,s,c,o;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.HttpService},function(t){i=t.Api},function(t){s=t.EventListener},function(t){c=t.GameEvent},function(t){o=t.PlayerData}],execute:function(){var l,r;e._RF.push({},"afc61geN6BDzqpElGDxewuZ","MiniGameData",void 0);const{ccclass:u}=n;t("MiniGameData",u("MiniGameData")(((r=class t{constructor(){this._helpGameObj=null}get helpGameObj(){return this._helpGameObj}getHelpInfo(){a.instance.post(i.MINI_HELP_INFO).then((t=>{t&&0==t.code&&(this._helpGameObj=t.data,s.emit(c.UPDATE_MINI_DATA))}))}settle(t){a.instance.post(i.MINI_HELP_SETTLE,{level:t}).then((t=>{t&&0==t.code&&(o.instance.getPlayerInfo(),this.getHelpInfo())}))}hint(t){a.instance.post(i.MINI_HELP_HINT,{sign:t}).then((t=>{t&&t.code}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,l=r))||l);t("HelpGameObj",class{constructor(){this.level=void 0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Mode.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"cd221VjJlpMT7QUp9JHftp+","Mode",void 0);e("Mode",function(e){return e[e.dessert=0]="dessert",e[e.fruit=1]="fruit",e[e.snack=2]="snack",e}({}));e("ModeName",["dessert","fruit","snack"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/MorseCodeCfg.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"f1040+HLcBAb6fNWsb5QwGI","MorseCodeCfg",void 0);e("MorseCodeCfg",class{constructor(){this.ClassName="MorseCode",this.Id=void 0,this.code=void 0,this.letter=void 0}});e("MroseCodeType",function(e){return e.DOT="·",e.LINE="−",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/MorseData.ts",["cc","./MorseCodeCfg.ts","./CfgMgr.ts","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./PlayerData.ts","./AdManager.ts","./OpenPopupManager.ts","./GameDefine.ts","./Util.ts"],(function(e){var t,s,i,o,r,n,a,c,d,h,m,l,u,p,f;return{setters:[function(e){t=e.cclegacy,s=e._decorator},function(e){i=e.MorseCodeCfg},function(e){o=e.CfgMgr},function(e){r=e.HttpService},function(e){n=e.Api},function(e){a=e.EventListener},function(e){c=e.GameEvent},function(e){d=e.PlayerData},function(e){h=e.AdManager,m=e.AdType},function(e){l=e.OpenPopupManager},function(e){u=e.GameDefine,p=e.GameLinkType},function(e){f=e.Util}],execute:function(){var g,_;t._RF.push({},"6fb7fkvv1lIZYVozmCIpcrP","MorseData",void 0);const{ccclass:b,property:M}=s;e("MorseData",b("MorseData")(((_=class e{constructor(){this._morseCodes=new Map,this._morseLetters=new Map,this._morseObj=void 0,this._isInit=!1}get morseCodes(){return this._morseCodes}get morseObj(){return this._morseObj}get morseLetters(){return this._morseLetters}initCfg(){if(this._isInit)return;this._isInit=!0;let e=o.getCfgDataArray(new i);for(let t=0;t<e.length;t++){let s=e[t];this._morseCodes.set(s.code,s),this._morseLetters.set(s.letter.toLowerCase(),s.code)}}getMorseInfo(){let e=0;u.linkType==p.MORSE&&(e=u.linkId?u.linkId:0,u.linkType=""),r.instance.post(n.MORSE_INFO,{linkId:e}).then((e=>{e&&0==e.code&&(this._morseObj=e.data,this.morseObj.word=this.morseObj.word.toUpperCase(),a.emit(c.UPDATE_MORSE_DATA))}))}getMorseCode(e){return this._morseLetters.has(e)?this._morseLetters.get(e):""}answer(e,t,s){r.instance.post(n.MORSE_ANSWER,{letter:e,index:t}).then((e=>{e&&0==e.code?e.data.right?(this.morseObj.word=e.data.word.toUpperCase(),this.morseObj.leftNumber=e.data.leftNumber,this.morseObj.isSuccess=e.data.isSuccess,a.emit(c.UPDATE_MORSE_DATA),d.instance.getPlayerInfo(!1),s(0,e.data.rewards)):(this.morseObj.leftNumber=e.data.leftNumber,a.emit(c.UPDATE_MORSE_DATA),s(1)):(a.emit(c.UPDATE_MORSE_DATA),s(1))}))}addMorseNum(){h.instance.showAd(m.MORSE_NUMBER,0,((e,t)=>{0==e&&r.instance.post(n.MORSE_ADD,{sign:t}).then((e=>{0==e.code?(this.morseObj.leftNumber=e.data.leftNumber,a.emit(c.UPDATE_MORSE_DATA),l.instance.showToast("Success")):l.instance.showToast(e.msg)}))}))}share(){l.instance.showLoadingPopup();let e=this.morseObj.morseId;r.instance.post(n.LINK_SHARE,{type:"morse",payload:e}).then((e=>{if(a.emit(c.HIDE_LOADING),e&&0==e.code){let t=f.base64Encode(""+e.data.linkId),s=[d.instance.userObj.code,t,"morse"].join("-"),i=d.instance.configObj.gameBot+"?startapp="+s,o="🔍 I Cracked the Code! Check the answer & claim your reward now! 🎁✨";const r="https://t.me/share/url?url="+encodeURIComponent(i)+"&text="+encodeURIComponent(o);if(e.data.messageId)try{window.Telegram.WebApp.shareMessage(e.data.messageId,(e=>{console.log(e)}))}catch(e){window.Telegram.WebApp.openTelegramLink(r)}else window.Telegram.WebApp.openTelegramLink(r)}})).catch((e=>{}))}static get instance(){return this._instance||(this._instance=new e),this._instance}})._instance=null,g=_))||g);e("MorseObj",class{constructor(){this.word="",this.answer=void 0,this.nextTime=void 0,this.gold=void 0,this.isSuccess=void 0,this.morseId=void 0,this.leftLimit=void 0,this.leftNumber=void 0,this.bonusTime=void 0,this.bonusFactor=void 0,this.shareUser=void 0}});e("MorseAnswerObj",class{constructor(){this.word=void 0,this.leftLimit=void 0,this.leftNumber=void 0,this.right=void 0,this.isSuccess=void 0,this.rewards=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/MorsePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MorseData.ts","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./Util.ts","./MorseWordItem.ts","./MorseCodeCfg.ts","./AvatarItem.ts","./LanguageManager.ts","./ResourcesUtil.ts","./SpriteEx.ts"],(function(t){var e,i,n,s,o,r,a,u,h,l,c,p,d,m,b,T,C,g,w,v,f,y,x,S,B,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t.Label,r=t.RichText,a=t.ScrollView,u=t._decorator,h=t.Component,l=t.tween,c=t.UIOpacity,p=t.instantiate,d=t.UITransform,m=t.v3,b=t.Vec3},function(t){T=t.MorseData},function(t){C=t.OpenPopupManager},function(t){g=t.Constants},function(t){w=t.EventListener},function(t){v=t.GameEvent},function(t){f=t.Util},function(t){y=t.MorseWordItem},function(t){x=t.MroseCodeType},function(t){S=t.AvatarItem},function(t){B=t.LanguageManager},null,function(t){E=t.SpriteEx}],execute:function(){var O,U,z,I,M,N,j,A,P,R,D,k,L,V,_,H,F,G,W,$,Z,q,K,J,Q,X,Y,tt,et,it,nt,st,ot,rt,at,ut,ht,lt,ct,pt,dt,mt,bt,Tt,Ct,gt,wt,vt,ft;n._RF.push({},"eba055izVBPyIKSvZOwbTZG","MorsePopup",void 0);const{ccclass:yt,property:xt}=u;t("MorsePopup",(O=yt("MorsePopup"),U=xt(s),z=xt(s),I=xt(s),M=xt(s),N=xt(s),j=xt(s),A=xt(s),P=xt(s),R=xt(o),D=xt(o),k=xt(o),L=xt(s),V=xt(s),_=xt(s),H=xt(s),F=xt(o),G=xt(o),W=xt(s),$=xt(r),Z=xt(s),q=xt(E),K=xt(s),J=xt(a),O((Y=e((X=class extends h{constructor(){super(...arguments),i(this,"morseBtn",Y,this),i(this,"animationNode",tt,this),i(this,"shareBtn",et,this),i(this,"shareTips",it,this),i(this,"dotNode",nt,this),i(this,"lineNode",st,this),i(this,"wordItems",ot,this),i(this,"energyBtn",rt,this),i(this,"answerLeft",at,this),i(this,"countdown",ut,this),i(this,"gold",ht,this),i(this,"inputCodes",lt,this),i(this,"inputCursor",ct,this),i(this,"inputError",pt,this),i(this,"inputRight",dt,this),i(this,"inputCountdownText",mt,this),i(this,"bonusTimeText",bt,this),i(this,"bonusIcon",Tt,this),i(this,"shareUserText",Ct,this),i(this,"shareAvatar",gt,this),i(this,"codeView",wt,this),i(this,"codeItem",vt,this),i(this,"codeScrollView",ft,this),this.inputStart=!1,this.intervalTime=5,this.inputCountdown=7,this.isCheck=!0,this.longSubTime=600,this.startClick=!1,this.startClickTime=0,this.curCode=""}show(){T.instance.getMorseInfo(),T.instance.initCfg(),this.inputCursor.active=!1,this.inputError.active=!1,this.inputRight.active=!1,this.inputCountdownText.node.active=!1,l(this.inputCursor.getComponent(c)).sequence(l().to(.3,{opacity:255}),l().to(.3,{opacity:0})).repeatForever().start(),this.onUpdateContent(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1);let t=T.instance.morseLetters;this.codeScrollView.content.removeAllChildren(),t.forEach(((t,e)=>{let i=p(this.codeItem);i.getChildByName("letter").getComponent(o).string=e.toUpperCase(),i.getChildByName("code").getComponent(o).string=t,i.setPosition(0,0),i.parent=this.codeScrollView.content}))}onUpdateContent(){if(!T.instance.morseObj)return;let t=T.instance.morseObj;this.isCheck=t.isSuccess||0==t.leftNumber,this.gold.string=`${t.gold}`,this.answerLeft.string=t.leftNumber+"/"+t.leftLimit;let e=t.answer;t.isSuccess?(this.shareBtn.active=!0,this.shareTips.active=!0,this.energyBtn.active=!1,this.bonusTimeText.node.parent.active=!1,this.shareUserText.node.parent.active=!1):(this.shareBtn.active=!1,this.shareTips.active=!1,this.energyBtn.active=!0,t.bonusTime>0?(this.bonusTimeText.node.parent.active=!0,this.bonusTimeText.string=f.countdown(t.bonusTime),this.bonusIcon.active=!0):(this.bonusTimeText.node.parent.active=!1,this.bonusIcon.active=!1),e&&t.shareUser?(this.shareUserText.string=B.instance.getLang("morse.shareuser",[t.shareUser.nickname]),this.shareAvatar.getComponent(S).init(t.shareUser.avatar),this.shareUserText.node.parent.active=!0):this.shareUserText.node.parent.active=!1);let i=T.instance.morseObj.word,n=T.instance.morseObj.word.length;for(let t=0;t<this.wordItems.children.length;t++){this.wordItems.children[t].getComponent(y).init(i[t]?i[t]:"",t==n,e[t]?e[t]:"")}}updateTime(){T.instance.morseObj&&(T.instance.morseObj.nextTime--,T.instance.morseObj.nextTime<=0?T.instance.getMorseInfo():(this.countdown.string=f.countdown(T.instance.morseObj.nextTime),T.instance.morseObj.bonusTime>0?(T.instance.morseObj.bonusTime--,this.bonusTimeText.string=f.countdown(T.instance.morseObj.bonusTime)):0==T.instance.morseObj.bonusTime&&(T.instance.morseObj.bonusTime--,this.bonusTimeText.node.parent.active=!1,this.bonusIcon.active=!1)))}onTouchStart(){T.instance.morseObj&&(this.isCheck?T.instance.morseObj.isSuccess?C.instance.showToast("morse.sharetips"):0==T.instance.morseObj.leftNumber&&C.instance.showToast("morse.moreinsufficient"):(this.inputStart||(this.inputStart=!0,this.inputCursor.active=!0,this.inputCodes.removeAllChildren(),this.inputError.active=!1,this.inputRight.active=!1,this.curCode=""),this.startClickTime=(new Date).getTime()))}onTouchEnd(t){if(this.isCheck)return;this.inputCountdownText.node.active=!0,this.inputCountdown=this.intervalTime,this.inputCountdownText.string=`${this.inputCountdown}s`,this.unschedule(this.onHeartBeat),this.schedule(this.onHeartBeat,1);let e=(new Date).getTime(),i=t.getUILocation(),n=this.morseBtn.getComponent(d).convertToNodeSpaceAR(m(i.x,i.y));e-this.startClickTime<this.longSubTime?(this.curCode+=x.DOT,this.animation(0,n)):(this.curCode+=x.LINE,this.animation(1,n)),this.checkCode()}checkCode(){T.instance.morseCodes.has(this.curCode)||(this.unschedule(this.onHeartBeat),this.inputCountdownText.node.active=!1,this.inputCursor.active=!1,this.inputError.active=!0,this.curCode="",this.inputStart=!1)}onHeartBeat(){if(this.inputCountdown--,this.inputCountdownText.string=`${this.inputCountdown}s`,0==this.inputCountdown){if(this.unschedule(this.onHeartBeat),!T.instance.morseCodes.has(this.curCode))return this.inputCountdownText.node.active=!1,this.inputCursor.active=!1,this.inputError.active=!0,this.curCode="",void(this.inputStart=!1);this.isCheck=!0;var t=T.instance.morseCodes.get(this.curCode).letter;let e=T.instance.morseObj.word;T.instance.answer(t,e.length,((t,e)=>{if(this.isCheck=T.instance.morseObj.isSuccess||0==T.instance.morseObj.leftNumber,this.inputStart=!1,0==t){if(this.inputCursor.active=!1,this.inputError.active=!1,this.inputRight.active=!0,this.inputCountdownText.node.active=!1,e&&e.length>0){let t=this.morseBtn.getComponent(d).convertToWorldSpaceAR(new b(0,0,0));C.instance.showRewardDoublePopup(e,t,null)}}else this.inputCursor.active=!1,this.inputError.active=!0,this.inputCountdownText.node.active=!1}))}}onViewCodeBtn(){this.codeView.index=0==this.codeView.index?1:0,this.codeScrollView.node.active=!!this.codeView.index}onAddBtn(){T.instance.addMorseNum()}animation(t,e){var i=p(0==t?this.dotNode:this.lineNode);i.setPosition(0,0,0),i.parent=this.inputCodes;var n=p(0==t?this.dotNode:this.lineNode);n.position=e,this.morseBtn.addChild(n),l(n).to(1,{position:new b(e.x,e.y+160,0)},{easing:"linear",onComplete:()=>{this.morseBtn.removeChild(n)}}).start()}onShowTooltip(t){}onRuleBtn(){C.instance.show(g.PopupUI.MorseRulePopup)}onShareBtn(){T.instance.share()}onCloseBtn(){C.instance.hide(g.PopupUI.MorsePopup)}onEnable(){this.morseBtn.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.morseBtn.on(s.EventType.TOUCH_END,this.onTouchEnd,this),w.on(v.UPDATE_MORSE_DATA,this.onUpdateContent,this)}onDisable(){this.unschedule(this.updateTime),this.morseBtn.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.morseBtn.off(s.EventType.TOUCH_END,this.onTouchEnd,this),w.off(v.UPDATE_MORSE_DATA,this.onUpdateContent,this)}}).prototype,"morseBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(X.prototype,"animationNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(X.prototype,"shareBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(X.prototype,"shareTips",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(X.prototype,"dotNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(X.prototype,"lineNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(X.prototype,"wordItems",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(X.prototype,"energyBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(X.prototype,"answerLeft",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(X.prototype,"countdown",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(X.prototype,"gold",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(X.prototype,"inputCodes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(X.prototype,"inputCursor",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(X.prototype,"inputError",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(X.prototype,"inputRight",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(X.prototype,"inputCountdownText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(X.prototype,"bonusTimeText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=e(X.prototype,"bonusIcon",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(X.prototype,"shareUserText",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(X.prototype,"shareAvatar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(X.prototype,"codeView",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(X.prototype,"codeItem",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(X.prototype,"codeScrollView",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=X))||Q));n._RF.pop()}}}));

System.register("chunks:///_virtual/MorseRulePopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(e){var o,n,s,t,p;return{setters:[function(e){o=e.cclegacy,n=e.Component,s=e._decorator},function(e){t=e.OpenPopupManager},function(e){p=e.Constants}],execute:function(){var u;o._RF.push({},"f5ab1p3/4xNZbaH7/vwsN8P","MorseRulePopup",void 0);const{ccclass:c,property:r}=s;e("MorseRulePopup",c("MorseRulePopup")(u=class extends n{show(){}onCloseBtn(){t.instance.hide(p.PopupUI.MorseRulePopup)}})||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/MorseWordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MorseData.ts","./MorseCodeCfg.ts"],(function(e){var t,o,i,r,n,s,l,a,c,p,d,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,n=e.Sprite,s=e.Node,l=e._decorator,a=e.Component,c=e.Color,p=e.UIOpacity,d=e.instantiate},function(e){u=e.MorseData},function(e){h=e.MroseCodeType}],execute:function(){var b,g,f,m,y,w,E,v,C,M,D,z,I;i._RF.push({},"fe241+g0hBH9LtcUaeD/zvU","MorseWordItem",void 0);const{ccclass:W,property:A}=l;e("MorseWordItem",(b=W("MorseWordItem"),g=A(r),f=A(n),m=A(s),y=A(s),w=A(s),b((C=t((v=class extends a{constructor(){super(...arguments),o(this,"word",C,this),o(this,"bg",M,this),o(this,"code",D,this),o(this,"dot",z,this),o(this,"line",I,this),this.colors=["6AAA64","8E8E8E","EEEEEE"]}init(e,t,o){this.word.string=e||o.toUpperCase();let i=e?this.colors[0]:t?this.colors[1]:this.colors[2];if(this.bg.color=(new c).fromHEX(i),!e&&o){this.code.active=!0,this.code.removeAllChildren(),this.word.node.getComponent(p).opacity=127.5;let e=u.instance.getMorseCode(o);for(let t=0;t<e.length;t++){let o=e[t];var r=d(o==h.DOT?this.dot:this.line);r.setPosition(0,0,0),r.active=!0,r.parent=this.code}}else this.code.active=!1,this.word.node.getComponent(p).opacity=255}updateWord(){}onEnable(){}onDisable(){}}).prototype,"word",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(v.prototype,"bg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"code",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"dot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"line",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=v))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/NewerLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./LlamaData.ts","./GameDefine.ts"],(function(i){var e,t,s,h,o,a,n,r,l,c,d,m;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){s=i.cclegacy,h=i.sp,o=i._decorator,a=i.v3,n=i.Vec3,r=i.view,l=i.tween},function(i){c=i.default},function(i){d=i.LlamaAnim},function(i){m=i.GameDefine}],execute:function(){var v,w,u,g,p;s._RF.push({},"e7490MbgkNPgLm3BJ7IOWb6","NewerLlamaItem",void 0);const{ccclass:_,property:M}=o;i("NewerLlamaItem",(v=_("NewerLlamaItem"),w=M(h.Skeleton),v((p=e((g=class extends c{constructor(){super(...arguments),t(this,"icon",p,this),this.dir=a(-1,-1,0),this.curPos=new n,this.width=100,this.height=100,this.viewWidth=700,this.viewHeight=700,this._isMove=!1,this._moveSpeed=45,this._scale=.4}init(i,e){void 0===e&&(e=60);let t=m.viewHeight>r.getVisibleSize().height?r.getVisibleSize().height:m.viewHeight,s=m.viewWidth>r.getVisibleSize().width?r.getVisibleSize().width:m.viewWidth;this.viewHeight=t/2,this.viewWidth=s,this.icon.node.active=!1,l(this.node).delay(.2).call((()=>{this.icon.node.active=!0,this.icon.setSkin("skin"+i),this.icon.setAnimation(0,d.WALK,!0);let t=new n(300*Math.random(),-this.viewHeight/2-Math.random()*this.viewHeight/2,0);this.node.setPosition(t),this.dir.x=Math.random()>.5?1:-1,1==this.dir.x?this.icon.node.setScale(-this._scale,this._scale):this.icon.node.setScale(this._scale,this._scale),this._moveSpeed=Math.floor(30*Math.random())+e,this._isMove=!0})).start()}childUpdate(i){this.llamaMoveFrame(i)}llamaMoveFrame(i){if(this._isMove){let e=this.node.getPosition(),t=this.dir.clone();this.curPos.x<-this.viewWidth/2+this.width?(t.x=1,t.y=Math.random(),this.dir=t.normalize(),this.icon.node.setScale(-this._scale,this._scale)):this.curPos.x>this.viewWidth/2-this.width?(t.x=-1,t.y=Math.random(),this.dir=t.normalize(),this.icon.node.setScale(this._scale,this._scale)):this.curPos.y<-this.viewHeight?(t.y=1,t.x=t.x>0?Math.random():-Math.random(),this.dir=t.normalize()):this.curPos.y>-this.viewHeight/2&&(t.y=-1,t.x=t.x>0?Math.random():-Math.random(),this.dir=t.normalize());let s=t.multiply(a(this._moveSpeed*i,this._moveSpeed*i,0)),h=e.add(s);this.node.setPosition(h),this.curPos=h}}}).prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=g))||u));s._RF.pop()}}}));

System.register("chunks:///_virtual/NewerRewardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./PlayerData.ts","./GuideData.ts","./NewerLlamaItem.ts"],(function(e){var t,i,n,a,r,l,s,o,c,u,p,h,m,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Node,r=e.Label,l=e.ParticleSystem2D,s=e._decorator,o=e.Component,c=e.Tween,u=e.tween},function(e){p=e.Constants},function(e){h=e.OpenPopupManager},function(e){m=e.PlayerData},function(e){b=e.GuideData},function(e){d=e.NewerLlamaItem}],execute:function(){var w,g,y,f,v,C,k,F,z,P,A,D,R,N,T,O,B,S,j,x,M,_,E;n._RF.push({},"d15de3A7alDtIX5zyjCKriz","NewerRewardPopup",void 0);const{ccclass:G,property:I}=s;e("NewerRewardPopup",(w=G("NewerRewardPopup"),g=I(a),y=I(a),f=I(r),v=I(a),C=I(l),k=I(r),F=I(a),z=I(a),P=I(r),A=I(a),w((N=t((R=class extends o{constructor(){super(...arguments),i(this,"llamas",N,this),i(this,"toma",T,this),i(this,"tips",O,this),i(this,"usdt",B,this),i(this,"rewardAnim",S,this),i(this,"username",j,this),i(this,"clickFinger",x,this),i(this,"claimBtn",M,this),i(this,"btnText",_,this),i(this,"playContent",E,this),this.callback=null,this._step=0}show(e){0==m.instance.userObj.step&&(b.instance.loadStep=1),m.instance.gameObj.showWithdraw?this.usdt.active=!0:this.usdt.active=!1;let t=m.instance.userObj;"toma"==t.channel?(this.toma.active=!0,this.tips.string="🎁 Exclusive Event for TOMARKET Users! Earn $TOMA! 📺💰!"):(this.toma.active=!1,m.instance.gameObj.showWithdraw?this.tips.string="💡 Claim Free Coins, Candy & Gems & $USDT !":this.tips.string="💡 Claim Free Coins, Candy & Gems!"),this.callback=e,this.username.string=t.name,this.showRewardAnim(),c.stopAllByTarget(this.clickFinger),u(this.clickFinger).sequence(u().delay(.5),u().call((()=>{this.clickFinger.children[0].active=!this.clickFinger.children[0].active,this.clickFinger.children[1].active=!this.clickFinger.children[0].active}))).repeatForever().start();for(let e=0;e<this.llamas.children.length;e++){let t=e>4?0:e+1;this.llamas.children[e].getComponent(d).init(t)}}showRewardAnim(){this.rewardAnim.resetSystem()}onNextBtn(){b.instance.loadStep=1,this.playContent[0].active=!1,this.playContent[1].active=!0}onCloseBtn(){b.instance.loadStep=1,c.stopAllByTarget(this.clickFinger),this.callback&&this.callback(),h.instance.hide(p.PopupUI.NewerRewardPopup)}}).prototype,"llamas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(R.prototype,"toma",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(R.prototype,"tips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"usdt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"rewardAnim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"username",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"clickFinger",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"claimBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"btnText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"playContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=R))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/NoClickMore.ts",["cc"],(function(t){var c,e,s,i;return{setters:[function(t){c=t.cclegacy,e=t.Component,s=t.Button,i=t._decorator}],execute:function(){var o;c._RF.push({},"015f6bdFqVIW6PhMJVk+oxv","NoClickMore",void 0);const{ccclass:n,property:r}=i;t("NoClickMore",n("NoClickMore")(o=class extends e{constructor(){super(...arguments),this.safeTime=1,this.clickEvents=null}start(){let t=this.getComponent(s);t&&(this.clickEvents=t.clickEvents,this.node.on("click",(()=>{t.clickEvents=[],this.scheduleOnce((c=>{t.clickEvents=this.clickEvents}),this.safeTime)}),this))}})||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/ObjUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"162ddMsghdK2azTFR7Nhpil","ObjUtil",void 0);t("ObjUtil",class{static has(t,e){return!!t&&t.hasOwnProperty(e)}static get(t,e,r){return t&&t.hasOwnProperty(e)?t[e]:r}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/OpenPopupManager.ts",["cc","./Constants.ts","./Toast.ts","./GameController.ts","./PopupManager.ts","./ResourcesUtil.ts"],(function(e){var t,p,n,o,a,s,i,r;return{setters:[function(e){t=e.cclegacy,p=e.instantiate},function(e){n=e.Constants},function(e){o=e.Toast},function(e){a=e.default},function(e){s=e.PopupManager,i=e.PopupOptions},function(e){r=e.ResourcesUtil}],execute:function(){t._RF.push({},"2e999vijwZOkpi2Rl4QGn2h","OpenPopupManager",void 0);let u=e("LayerType",function(e){return e[e.BOTTOM=0]="BOTTOM",e[e.MID=1]="MID",e[e.TOP=2]="TOP",e}({}));class h{constructor(){this.TopLayer=null,this.MidLayer=null,this.BottomLayer=null,this.ToastLayer=null,this.Canvas=null,this.MainTopLayer=null,this.PopupLayer=null}showSeqPopup(e,t,p,n){let o=new i;o.path=e,o.parent=this.TopLayer,s.instance.pushToPopupSeq(o,p,n)}hideSeqPopup(e,t){s.instance.shiftFromPopupSeq(e,t)}addHidePopup(e){s.instance.addHidePopup(e)}showComTipsPopup(e,t){let p=new i;p.path=n.PopupUI.ComTipsPopup,p.parent=this.MidLayer,s.instance.show(p,[e,t])}showLoadingPopup(){let e=new i;e.path=n.PopupUI.ComLoadingPopup,e.parent=this.MidLayer,s.instance.show(e,[])}showAdPopup(){let e=new i;e.path=n.PopupUI.AdPopup,e.parent=this.MidLayer,s.instance.show(e,[])}showToast(e,t,a){void 0===t&&(t=0);let s=n.toastPath;r.getPrefab(s).then((n=>{let s=p(n);s.parent=this.ToastLayer,s.setPosition(0,t),s.getComponent(o).init(e,a)}))}showInvitePopup(){let e=new i;e.path=n.PopupUI.InvitePopup,e.parent=this.PopupLayer,s.instance.show(e)}showSettingPopup(e){let t=new i;t.path=n.PopupUI.SettingPopup,t.parent="game"==e?this.MidLayer:this.PopupLayer,s.instance.show(t,e)}showRewardPopup(e,t,p){let o=new i;o.path=n.PopupUI.ComRewardPopup,o.parent=this.PopupLayer,s.instance.show(o,[e,t,p])}showRewardDoublePopup(e,t,p,o){let a=new i;a.path=n.PopupUI.ComRewardDoublePopup,a.parent=this.TopLayer,s.instance.show(a,[e,t,p,o])}showRewardAnimPopup(e,t){let p=new i;p.path=n.PopupUI.ComRewardAnimPopup,p.parent=this.PopupLayer,s.instance.show(p,[e,t])}showGuidePopup(e,t,p,o){void 0===o&&(o=u.TOP);let a=new i;a.path=n.PopupUI.GuidePopup,a.parent=this.getLayerByType(o),s.instance.show(a,[e,t,p])}showPopup(e,t,p,n){void 0===p&&(p=u.TOP),void 0===n&&(n=!1);let o=new i;o.path=e,o.parent=t||this.getLayerByType(p),n&&a.pause();for(var r=arguments.length,h=new Array(r>4?r-4:0),P=4;P<r;P++)h[P-4]=arguments[P];s.instance.show(o,h)}show(e){let t=new i;t.path=e,t.parent=this.getLayerByType(u.TOP);for(var p=arguments.length,n=new Array(p>1?p-1:0),o=1;o<p;o++)n[o-1]=arguments[o];s.instance.show(t,n)}hide(e,t){s.instance.hide(e,t)}getLayerByType(e){let t=this.TopLayer;switch(e){case 0:t=this.BottomLayer;break;case 1:t=this.MidLayer;break;case 2:t=this.PopupLayer}return t}static get instance(){return this._instance||(this._instance=new h),this._instance}}e("OpenPopupManager",h),h._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/PassRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts"],(function(e){var t,r,s,n,o,a,i,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.ProgressBar,o=e.Label,a=e._decorator,i=e.Component},function(e){c=e.EventMgr},function(e){l=e.EventType}],execute:function(){var p,u,d,g,h,f,b;s._RF.push({},"97d80K7YqZFRqGbweK90qny","PassRewardItem",void 0);const{ccclass:P,property:y}=a;e("PassRewardItem",(p=P("UIItem/PassRewardItem"),u=y(n),d=y(o),p((f=t((h=class extends i{constructor(){super(...arguments),r(this,"progressBar",f,this),r(this,"lbProgress",b,this)}onLoad(){c.on(l.GetPassReward,this.onUpdateState,this)}onDestroy(){c.off(l.GetPassReward,this.onUpdateState,this)}start(){this.onUpdateState()}onUpdateState(){let e=5*Math.ceil(0);0===e&&(e+=5);const t=0/e;this.progressBar.progress=t,this.lbProgress.string=`0/${e}`}}).prototype,"progressBar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(h.prototype,"lbProgress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["cc","./Api.ts","./EventListener.ts","./HttpService.ts","./OpenPopupManager.ts","./GameDefine.ts","./GameEvent.ts"],(function(t){var s,e,i,a,n,o,r;return{setters:[function(t){s=t.cclegacy},function(t){e=t.Api},function(t){i=t.EventListener},function(t){a=t.HttpService},function(t){n=t.OpenPopupManager},function(t){o=t.GameDefine},function(t){r=t.GameEvent}],execute:function(){s._RF.push({},"1257cP9069Fa7uAHrblNorT","PlayerData",void 0);class h{constructor(){this._userObj=void 0,this._assetObj=void 0,this._configObj=void 0,this._gameObj=void 0,this._errorData=new Map}get userObj(){return this._userObj}set userObj(t){this._userObj=t}get assetObj(){return this._assetObj}set assetObj(t){this._assetObj=t,i.emit(r.UPDATE_PLAYER_DATA)}get configObj(){return this._configObj}get gameObj(){return this._gameObj}set llama(t){this._assetObj.llama+=t,i.emit(r.UPDATE_PLAYER_DATA,"llama")}set candy(t){this._assetObj.candy+=t,i.emit(r.UPDATE_PLAYER_DATA,"candy")}set avatar(t){this._userObj.avatar=t,i.emit(r.UPDATE_PLAYER_AVATAR)}login(t){this._userObj=t.userInfo,this._assetObj=t.assetInfo,this._configObj=t.config,this._gameObj=t.gameInfo,t.userInfo.isDebug?o.isDebug=!0:o.isDebug=!1,i.emit(r.UPDATE_PLAYER_DATA)}getUserInfo(t){a.instance.post(e.USER_INFO).then((s=>{0==s.code?(this._userObj=s.data.userInfo,this._assetObj=s.data.assetInfo,this._configObj=s.data.config,this._gameObj=s.data.gameInfo,s.data.userInfo.isDebug?o.isDebug=!0:o.isDebug=!1,i.emit(r.UPDATE_PLAYER_DATA),t(0)):t(1)}))}getPlayerInfo(t){void 0===t&&(t=!0),a.instance.post(e.USER_PLAYER_INFO).then((s=>{0==s.code&&(this._assetObj=s.data.assetInfo,this._gameObj=s.data.gameInfo,t&&i.emit(r.UPDATE_PLAYER_DATA))}))}getBalance(){a.instance.post(e.ASSET_BALANCE).then((t=>{0==t.code?(this._assetObj=t.data,i.emit(r.UPDATE_PLAYER_DATA)):n.instance.showToast(t.msg)}))}initPlayerData(t){t||this.savePlayerDataToCache()}subCoin(t){this._assetObj.gold-=t}addCoin(t){this._assetObj.gold+=t}setCoin(t){this._assetObj.gold=t}savePlayerDataToCache(){}reportError(t,s,i,n,o){let r=s+"_"+i+"_"+n;this._errorData.has(r)||(this._errorData.set(r,!0),a.instance.post(e.SYSTEM_WARN,{type:"error",message:"{"+JSON.stringify({message:t,source:s,lineno:i,colno:n,stack:o&&o.stack})+"}"}).then((t=>{})).catch((t=>{})))}static get instance(){return this._instance||(this._instance=new h),this._instance}}t("PlayerData",h),h._instance=null;t("UserResult",class{constructor(){this.userInfo=void 0,this.assetInfo=void 0,this.gameInfo=void 0,this.config=void 0,this.isNew=void 0}});t("AssetModel",class{constructor(){this.gem=0,this.gold=0,this.llama=0,this.candy=0,this.usdt=0,this.toma=0}});t("GameModel",class{constructor(){this.inviteExp=void 0,this.inviteLevel=void 0,this.curLevel=void 0,this.vip=void 0,this.ad=void 0,this.day=void 0,this.task=void 0,this.inviteCount=void 0,this.showWithdraw=void 0,this.showAppAd=void 0,this.showRank=void 0,this.showTraffy=void 0,this.inAppTimes=void 0,this.showHelpGame=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["cc"],(function(t){var e,o,i,s;return{setters:[function(t){e=t.cclegacy,o=t.Component,i=t.instantiate,s=t.NodePool}],execute:function(){e._RF.push({},"fcd3aoftHFN/Iw6BfOJPxdN","PoolManager",void 0);class n extends o{constructor(){super(...arguments),this._dictPool={}}static get instance(){return this._instance||(this._instance=new n),this._instance}getNode(t,e){let o=t.name;t.position||(o=t.data.name);let n=null;if(this._dictPool.hasOwnProperty(o)){let e=this._dictPool[o];n=e.size()>0?e.get():i(t)}else{let e=new s;this._dictPool[o]=e,n=i(t)}return n.parent=e,n.setPosition(1e4,1e5),n.active=!0,n}getNodeItem(t){let e=t.name;t.position||(e=t.data.name);let o=null;if(this._dictPool.hasOwnProperty(e)){let s=this._dictPool[e];o=s.size()>0?s.get():i(t)}else{let n=new s;this._dictPool[e]=n,o=i(t)}return o.setPosition(1e4,1e5),o.active=!0,o}getNodeItemById(t,e){let o=null;if(this._dictPool.hasOwnProperty(e)){let s=this._dictPool[e];o=s.size()>0?s.get():i(t)}else{let n=new s;this._dictPool[e]=n,o=i(t)}return o.setPosition(1e4,1e5),o.active=!0,o}putNodeByKey(t,e){let o=new s;this._dictPool.hasOwnProperty(e)?o=this._dictPool[e]:this._dictPool[e]=o,t.active=!1,o.put(t)}getPoolSizeByPrefab(t){let e=0,o=t.name;if(t.position||(o=t.data.name),this._dictPool.hasOwnProperty(o)){e=this._dictPool[o].size()}return e}putPool(t){if(!t)return;let e=t.name,o=null;this._dictPool.hasOwnProperty(e)?o=this._dictPool[e]:(o=new s,this._dictPool[e]=o),t.active=!1,o.put(t)}putNode(t){if(!t)return;let e=t.name,o=new s;this._dictPool.hasOwnProperty(e)?o=this._dictPool[e]:this._dictPool[e]=o,t.active=!1,o.put(t)}clearPool(t){if(this._dictPool.hasOwnProperty(t)){this._dictPool[t].clear()}}clear(){for(let t in this._dictPool)if(this._dictPool.hasOwnProperty(t)){this._dictPool[t].clear()}}prePool(t,e){const o=t.data.name;let n=new s;this._dictPool[o]=n;for(let o=0;o<e;o++){const e=i(t);n.put(e)}}}t("PoolManager",n),n._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupManager.ts",["cc","./ResourcesUtil.ts"],(function(i){var t,e,o,s,p,h;return{setters:[function(i){t=i.cclegacy,e=i._decorator,o=i.isValid,s=i.find,p=i.Vec3},function(i){h=i.ResourcesUtil}],execute:function(){var a,n;t._RF.push({},"eb72adhUm1IXpHlO5jdi3i9","PopupManager",void 0);const{ccclass:r,property:l}=e;i("PopupManager",r("PopupManager")(((n=class i{constructor(){this._dictSharedPanel={},this._dictLoading={},this._arrPopupDialog=[],this._hidePopupArr=[],this._showTipsTime=0}static get instance(){return this._instance||(this._instance=new i),this._instance}isDialogVisible(i){if(!this._dictSharedPanel.hasOwnProperty(i))return!1;let t=this._dictSharedPanel[i];return o(t)&&t.active&&o(t.parent)}show(i,t,e){let p=i.path;if(this._dictLoading[p])return;i.closeCur&&this.hideJoinPopup(p);let a=p.lastIndexOf("/"),n=p.slice(a+1);if(t||(t=[]),this._dictSharedPanel.hasOwnProperty(p)){let h=this._dictSharedPanel[p];if(o(h)){h.parent=i.parent??s("Canvas"),h.active=!0;let o=h.getComponent(n),p=h.getComponent(n.charAt(0).toUpperCase()+n.slice(1)),a=h.getComponent("AnimationUI");if(o&&o.show)o.show.apply(o,t),a?a.open((()=>{e&&e(o)})):e&&e(o);else{if(!p||!p.show)throw`Script file not found ${n}`;p.show.apply(p,t),a?a.open((()=>{e&&e(p)})):e&&e(p)}return}}this._dictLoading[p]=!0,h.createUI(p,i.parent).then((i=>{let o=!1;this._dictLoading[p]||(o=!0),this._dictLoading[p]=!1,this._dictSharedPanel[p]=i;let s=i.getComponent("AnimationUI"),h=i.getComponent(n.charAt(0).toUpperCase()+n.slice(1));if(!h||!h.show)throw`Not Found ${n} or please define show`;h.show.apply(h,t),s?s.open((()=>{e&&e(h)})):e&&e(h),o&&this.hide(p)}))}hide(i,t){if(this._dictSharedPanel.hasOwnProperty(i)){let e=this._dictSharedPanel[i];if(e&&o(e)){let i=e.getComponent("AnimationUI");i?i.close((()=>{e.parent=null,t&&"function"==typeof t&&t()})):(e.parent=null,t&&"function"==typeof t&&t())}else t&&"function"==typeof t&&t()}this._dictLoading[i]=!1}hideAll(){for(const i in this._dictSharedPanel)if(Object.prototype.hasOwnProperty.call(this._dictSharedPanel,i)){this._dictSharedPanel[i].parent=null}}addHidePopup(i){this._hidePopupArr.includes(i)||this._hidePopupArr.push(i)}hideJoinPopup(i){if(this._hidePopupArr.length)for(let t=0,e=this._hidePopupArr.length;t<e;t++){let o=this._hidePopupArr[t];o!=i&&(this.hide(o),this._hidePopupArr.splice(t,1),t--,e--)}}pushToPopupSeq(i,t,e){let o={options:i,callBack:e,param:t,isShow:!1};this._arrPopupDialog.push(o),this._checkPopupSeq()}insertToPopupSeq(i,t,e,o){let s={options:t,callBack:o,param:e,isShow:!1};this._arrPopupDialog.splice(i,0,s)}shiftFromPopupSeq(i,t){this._arrPopupDialog[0]&&this._arrPopupDialog[0].options.path===i?this.hide(i,(()=>{this._arrPopupDialog.shift(),this._checkPopupSeq()})):this.hide(i,t)}_checkPopupSeq(){if(this._arrPopupDialog.length>0){let i=this._arrPopupDialog[0];i.isShow||(this.show(i.options,i.param,i.callBack),this._arrPopupDialog[0].isShow=!0)}}showTips(i,t,e,o,s){void 0===t&&(t="txt"),void 0===e&&(e=new p),void 0===o&&(o=1),void 0===s&&(s=()=>{});let h=String(i),a=()=>{this._showTipsAni(h,t,e,o,s)},n=Date.now();if(n-this._showTipsTime<800&&"gold"!==t&&"heart"!==t){let i=800-(n-this._showTipsTime);setTimeout((()=>{a()}),i),this._showTipsTime=n+i}else a(),this._showTipsTime=n}_showTipsAni(i,t,e,o,s){}})._instance=void 0,a=n))||a);i("PopupOptions",class{constructor(){this.path=void 0,this.parent=void 0,this.closeCur=!1}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/PrivilegeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InviteData.ts","./PlayerData.ts"],(function(e){var t,i,n,l,r,s,a,o,c,u,p,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,l=e.Label,r=e.ProgressBar,s=e.RichText,a=e.Node,o=e._decorator,c=e.Component,u=e.Sprite},function(e){p=e.InviteData,h=e.ShareType},function(e){v=e.PlayerData}],execute:function(){var g,m,b,d,L,y,f,B,x,P,_,I,z,C,w,D,E,R,N;n._RF.push({},"7be57kpVoRNBLccEmzzoWsw","PrivilegeItem",void 0);const{ccclass:T,property:U}=o;e("PrivilegeItem",(g=T("PrivilegeItem"),m=U(l),b=U(l),d=U(r),L=U(l),y=U(s),f=U(l),B=U(a),x=U(a),g((I=t((_=class extends c{constructor(){super(...arguments),i(this,"level",I,this),i(this,"exp",z,this),i(this,"expProgress",C,this),i(this,"title",w,this),i(this,"desc",D,this),i(this,"gold",E,this),i(this,"claimBtn",R,this),i(this,"claimedBtn",N,this),this._curLevel=0}init(){let e=v.instance.gameObj;this.level.string=`Lv.${e.inviteLevel+1}`,this._curLevel=e.inviteLevel;let t=p.instance.getInviteCfg(e.inviteLevel+1);this.exp.string=`${e.inviteExp}/`+t.exp,this.expProgress.progress=e.inviteExp/t.exp,this.onUpdateContent()}onInviteBtn(){p.instance.share(h.INVITE)}onCopyBtn(){p.instance.share(h.INVITE,!0)}onUpdateContent(){let e=p.instance.getInviteCfg(this._curLevel+1);this.gold.string="x"+e.rewards[0].count,this.title.string="Lv."+(this._curLevel+1)+" Privileges",this.desc.string=`\n    1. Gold Production +${e.gold}%\n    2. Gem Production +${e.gem}%\n    `;let t=v.instance.gameObj;t.curLevel<=this._curLevel?(this.claimBtn.active=!0,this.claimedBtn.active=!1,this._curLevel<t.inviteLevel?this.claimBtn.getComponent(u).grayscale=!1:this.claimBtn.getComponent(u).grayscale=!0):(this.claimBtn.active=!1,this.claimedBtn.active=!0)}onClaimBtn(){p.instance.claim(this._curLevel)}onLeftBtn(){this._curLevel>=1&&this._curLevel--,this.onUpdateContent()}onRightBtn(){this._curLevel<p.instance.maxLevel&&this._curLevel++,this.onUpdateContent()}}).prototype,"level",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"exp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(_.prototype,"expProgress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(_.prototype,"title",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(_.prototype,"desc",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"gold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"claimBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(_.prototype,"claimedBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileData.ts",["cc","./AvatarCfg.ts","./Api.ts","./CfgMgr.ts","./EventListener.ts","./HttpService.ts","./OpenPopupManager.ts","./PlayerData.ts","./GameEvent.ts","./Constants.ts","./CardData.ts","./LanguageManager.ts"],(function(t){var n,a,e,s,i,r,c,o,u,g,l,f,v,p;return{setters:[function(t){n=t.cclegacy,a=t.Color},function(t){e=t.AvatarCfg,s=t.AvatarUnlockType},function(t){i=t.Api},function(t){r=t.CfgMgr},function(t){c=t.EventListener},function(t){o=t.HttpService},function(t){u=t.OpenPopupManager},function(t){g=t.PlayerData},function(t){l=t.GameEvent},function(t){f=t.Constants},function(t){v=t.CardData},function(t){p=t.LanguageManager}],execute:function(){n._RF.push({},"65a9bCzX8dLhqWkLvGoiEnl","ProfileData",void 0);class h{constructor(){this.userInfo=null,this.avatarIds=[],this.bgList=[new a(217,121,123,255),new a(81,204,255,255),new a(249,157,64,255),new a(88,188,254,255),new a(242,194,56,255),new a(173,116,208,255),new a(112,173,50,255),new a(224,74,84,255)]}init(){this.userInfo=g.instance.userObj}getAvatarCfgArr(){return r.getCfgDataArray(new e)}getAvatarCfg(t){return r.getDataById(new e,t)}getAvatarBg(t){return this.bgList[t-1]}setAvatar(t,n){let a=this.userInfo.avatar.split("-");"avatar"==t?a[0]=`${n}`:"bg"==t&&(a[1]=`${n}`),o.instance.post(i.USER_SET_AVATAR,{avatar:a.join("-")}).then((t=>{0==t.code?(h.instance.userInfo.avatar=a.join("-"),g.instance.avatar=a.join("-"),c.emit(l.UPDATE_USER_AVATAR,a.join("-")),u.instance.showToast("Success")):u.instance.showToast(t.msg)}))}editName(t){o.instance.post(i.USER_EDIT_NAME,{name:t}).then((n=>{0==n.code?(g.instance.userObj.name=t,this.userInfo.name=t,c.emit(l.UPDATE_USER_NAME),u.instance.showToast("Success"),u.instance.hide(f.PopupUI.ProfileNamePopup)):u.instance.showToast(n.msg)}))}checkAvatarLock(t){if(t.unlockType==s.CARD){let n=t.unlockId,a=v.instance.getCardObjById(n);if(a&&a.level<t.unlockValue)return!0}else if(t.unlockType==s.Vip&&t.unlockValue>g.instance.gameObj.vip)return!0;return!1}getUnlockTips(t){let n=this.getAvatarCfg(t);if(n.unlockType==s.CARD){let t=n.unlockId,a=v.instance.getCardCfgById(t),e=p.instance.getLang(a.desc);return p.instance.getLang("avatar.unlockCard",[e,n.unlockValue])}return n.unlockType==s.Vip?p.instance.getLang("avatar.unlockVip",[n.unlockValue]):""}static get instance(){return this._instance||(this._instance=new h),this._instance}}t("ProfileData",h),h._instance=null;t("avatarData",class{constructor(){this.avatars=void 0,this.backgrounds=void 0,this.borders=void 0}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileNamePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./ProfileData.ts"],(function(e){var n,t,o,i,a,s,r,p,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e.EditBox,a=e._decorator,s=e.Component},function(e){r=e.OpenPopupManager},function(e){p=e.Constants},function(e){u=e.ProfileData}],execute:function(){var c,l,P,f,m;o._RF.push({},"7841a2eRGpGqbPmvVsYqB/L","ProfileNamePopup",void 0);const{ccclass:h,property:d}=a;e("ProfileNamePopup",(c=h("ProfileNamePopup"),l=d(i),c((m=n((f=class extends s{constructor(){super(...arguments),t(this,"input",m,this),this.username=void 0}show(){this.input.placeholder=u.instance.userInfo.name}onInputChange(e){this.username=e}onConfirmBtn(){this.username?u.instance.editName(this.username):r.instance.showToast("Please enter a name")}onCloseTouch(){r.instance.hide(p.PopupUI.ProfileNamePopup)}}).prototype,"input",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=f))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProfilePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./ProfileData.ts","./EventListener.ts","./GameEvent.ts","./AvatarIconItem.ts","./AvatarBgItem.ts","./AvatarItem.ts"],(function(t){var e,a,n,i,r,o,s,l,p,c,u,h,f,m,v,b,A,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node,r=t.Label,o=t.Prefab,s=t._decorator,l=t.Component,p=t.instantiate,c=t.Sprite,u=t.Color},function(t){h=t.OpenPopupManager},function(t){f=t.Constants},function(t){m=t.ProfileData},function(t){v=t.EventListener},function(t){b=t.GameEvent},function(t){A=t.AvatarIconItem},function(t){d=t.AvatarBgItem},function(t){g=t.AvatarItem}],execute:function(){var I,E,C,P,U,T,w,N,_,y,B,S,R,z,D,x,F,L,H,M,V,X,k;n._RF.push({},"e7bb10+DfFHbIStR1PYq0Ik","ProfilePopup",void 0);const{ccclass:G,property:O}=s;t("ProfilePopup",(I=G("ProfilePopup"),E=O(i),C=O(r),P=O(i),U=O(i),T=O(i),w=O(i),N=O(r),_=O(i),y=O(o),B=O(o),I((z=e((R=class extends l{constructor(){super(...arguments),a(this,"avatarItem",z,this),a(this,"username",D,this),a(this,"avatarNode",x,this),a(this,"frameNode",F,this),a(this,"avatarContent",L,this),a(this,"frameContent",H,this),a(this,"tipsText",M,this),a(this,"tabs",V,this),a(this,"avatarIconItem",X,this),a(this,"avatarBgItem",k,this),this.selectAvatarId=0}show(){m.instance.init(),this.setContent(),this.onUpdateName(),this.onUpdateAvatar()}setContent(){this.avatarContent.removeAllChildren();let t=m.instance.getAvatarCfgArr(),e=m.instance.userInfo.avatar.split("-").map((t=>Number(t)));for(let a=0;a<t.length;a++){let n=t[a],i=p(this.avatarIconItem);i.getComponent(A).init(n,e[0]==n.Id),i.parent=this.avatarContent}if(0==this.frameContent.children.length){let t=m.instance.bgList;for(let a=1;a<=t.length;a++){let t=p(this.avatarBgItem);t.getComponent(d).init(a,e[1]==a),t.parent=this.frameContent}}this.tipsText.node.parent.active=!1}onUpdateName(){this.username.string=m.instance.userInfo.name}onUpdateAvatar(){this.avatarItem.getComponent(g).init(m.instance.userInfo.avatar)}onSelectAvatar(t,e){"avatar"==t&&(this.tipsText.node.parent.active=!0,this.tipsText.string=m.instance.getUnlockTips(e))}onTabBtn(t,e){this.avatarNode.active="avatar"==e,this.frameNode.active="frame"==e,this.frameNode.active?this.tipsText.node.parent.active=!1:this.tipsText.node.parent.active=-1==this.selectAvatarId,this.tabs.children[0].getComponent(c).color="avatar"==e?(new u).fromHEX("FBB95B"):(new u).fromHEX("F5E8C5"),this.tabs.children[1].getComponent(c).color="frame"==e?(new u).fromHEX("FBB95B"):(new u).fromHEX("F5E8C5")}onCloseBtn(){h.instance.hide(f.PopupUI.ProfilePopup)}onEditBtn(){h.instance.show(f.PopupUI.ProfileNamePopup)}onEnable(){v.on(b.SELECT_USER_AVATAR,this.onSelectAvatar,this),v.on(b.UPDATE_USER_AVATAR,this.onUpdateAvatar,this),v.on(b.UPDATE_USER_NAME,this.onUpdateName,this)}onDisable(){v.off(b.SELECT_USER_AVATAR,this.onSelectAvatar,this),v.off(b.UPDATE_USER_AVATAR,this.onUpdateAvatar,this),v.off(b.UPDATE_USER_NAME,this.onUpdateName,this)}}).prototype,"avatarItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"username",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(R.prototype,"avatarNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(R.prototype,"frameNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(R.prototype,"avatarContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(R.prototype,"frameContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(R.prototype,"tipsText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(R.prototype,"tabs",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(R.prototype,"avatarIconItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(R.prototype,"avatarBgItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=R))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/QuestChestItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QuestData.ts","./OpenPopupManager.ts","./Constants.ts","./ResourcesUtil.ts","./RewardTooltipItem.ts"],(function(t){var e,s,i,n,o,a,r,l,c,u,p,h,d,b,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Label,o=t.sp,a=t._decorator,r=t.Component,l=t.instantiate,c=t.UITransform,u=t.Vec3},function(t){p=t.QuestData},function(t){h=t.OpenPopupManager},function(t){d=t.Constants},function(t){b=t.ResourcesUtil},function(t){m=t.RewardTooltipItem}],execute:function(){var _,f,v,C,g,w,x;i._RF.push({},"e181f5rNCNMaLC1k65Cp++/","QuestChestItem",void 0);const{ccclass:I,property:R}=a;t("QuestChestItem",(_=I("QuestChestItem"),f=R(n),v=R(o.Skeleton),_((w=e((g=class extends r{constructor(){super(...arguments),s(this,"desc",w,this),s(this,"box",x,this),this._status=void 0,this._rewards=[],this._pointId=0,this._boxStatus=!1}init(t,e,s,i){this._rewards=t,this._status=i,this.desc.string=""+s,this._pointId=e,this._boxStatus&&this.box.setAnimation(0,this._status,!0)}onOpenBox(){if(this._status==P.Unavailable){let t=d.commonPreabPath+"rewardTooltipItem";b.getPrefab(t).then((t=>{let e=l(t);e.parent=this.node.parent.parent;let s=this.node.getPosition();s.y+=this.node.getComponent(c).width/2;let i=this.node.parent.getComponent(c).convertToWorldSpaceAR(s),n=this.node.parent.parent.getComponent(c).convertToNodeSpaceAR(i);e.setPosition(n),e.getComponent(m).init(this._rewards)}))}else if(this._status==P.Received)h.instance.showToast("claimed");else if(this._status==P.Available){let t=this.node.getComponent(c).convertToWorldSpaceAR(new u(0,0,0));p.instance.claimPoint(this._pointId,t)}}onEnable(){this.scheduleOnce((()=>{this._boxStatus=!0,this.box.setAnimation(0,this._status,!0)}),.1)}onDisable(){this._boxStatus=!1}}).prototype,"desc",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(g.prototype,"box",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=g))||C));const P=t("ChestAnim",{Unavailable:"unavailable",Available:"available",Received:"received"});i._RF.pop()}}}));

System.register("chunks:///_virtual/QuestData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./OpenPopupManager.ts","./PlayerData.ts"],(function(t){var s,n,i,e,a,o,d,c,u,h;return{setters:[function(t){s=t.cclegacy,n=t._decorator},function(t){i=t.HttpService},function(t){e=t.Api},function(t){a=t.EventListener},function(t){o=t.GameEvent},function(t){d=t.AdManager,c=t.AdType},function(t){u=t.OpenPopupManager},function(t){h=t.PlayerData}],execute:function(){var r,_;s._RF.push({},"8b9e8/0PhxHLKpVSmfMb8oq","QuestData",void 0);const{ccclass:p,property:I}=n;t("QuestData",p("QuestData")(((_=class t{constructor(){this._questObjs=[],this._pointObjs=[],this._nextday=0,this._dailyPoint=0}get questObjs(){return this._questObjs}get pointObjs(){return this._pointObjs}get nextday(){return this._nextday}set nextday(t){this._nextday-=t}get dailyPoint(){return this._dailyPoint}getQuestInfo(){i.instance.post(e.QUEST_INFO).then((t=>{t&&0==t.code&&(this._questObjs=t.data.items,this._pointObjs=t.data.points,this._nextday=t.data.nextday,this._dailyPoint=t.data.point,a.emit(o.UPDTAE_QUEST_DATA))}))}claim(t,s,n){i.instance.post(e.QUEST_CLAIM,{questId:t}).then((i=>{i&&0==i.code?(this._questObjs=i.data.questInfo.items,this._pointObjs=i.data.questInfo.points,this._nextday=i.data.questInfo.nextday,this._dailyPoint=i.data.questInfo.point,a.emit(o.UPDTAE_QUEST_DATA),u.instance.showRewardDoublePopup(i.data.rewards,s,(()=>{this.claimDouble(t),a.emit(o.UPDATE_DAILY_POINT_ANIMATION,n)}),(()=>{a.emit(o.UPDATE_DAILY_POINT_ANIMATION,n)})),h.instance.getPlayerInfo()):u.instance.showToast(i.msg)}))}claimDouble(t,s){d.instance.showAd(c.QUEST_CLAIM,0,((n,d)=>{0==n&&i.instance.post(e.QUEST_DOUBLE_CLAIM,{questId:t,sign:d}).then((t=>{t&&0==t.code?(this._questObjs=t.data.questInfo.items,this._pointObjs=t.data.questInfo.points,this._nextday=t.data.questInfo.nextday,this._dailyPoint=t.data.questInfo.point,a.emit(o.UPDTAE_QUEST_DATA),s&&u.instance.showRewardAnimPopup(t.data.rewards,s),h.instance.getPlayerInfo()):u.instance.showToast(t.msg)}))}))}claimPoint(t,s){i.instance.post(e.QUEST_CLAIM_POINT,{pointId:t}).then((n=>{n&&0==n.code?(this._pointObjs=n.data.questInfo.points,this._nextday=n.data.questInfo.nextday,this._dailyPoint=n.data.questInfo.point,a.emit(o.UPDTAE_QUEST_DATA),u.instance.showRewardDoublePopup(n.data.rewards,s,(()=>{this.claimDoublePoint(t)}),(()=>{})),h.instance.getPlayerInfo()):u.instance.showToast(n.msg)}))}claimDoublePoint(t,s){d.instance.showAd(c.QUEST_POINT,0,((n,d)=>{0==n&&i.instance.post(e.QUEST_DOUBLE_CLAIM_POINT,{pointId:t,sign:d}).then((t=>{t&&0==t.code?(this._pointObjs=t.data.questInfo.points,this._nextday=t.data.questInfo.nextday,this._dailyPoint=t.data.questInfo.point,a.emit(o.UPDTAE_QUEST_DATA),s&&u.instance.showRewardAnimPopup(t.data.rewards,s),h.instance.getPlayerInfo()):u.instance.showToast(t.msg)}))}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,r=_))||r);t("QuestInfoResult",class{constructor(){this.items=void 0,this.points=void 0,this.nextday=void 0,this.point=void 0}});t("QuestClaimResult",class{constructor(){this.rewards=void 0,this.questInfo=void 0}});t("QuestState",function(t){return t[t.PENDING=-1]="PENDING",t[t.CLAIMABLE=0]="CLAIMABLE",t[t.CLAIMED=1]="CLAIMED",t[t.DOUBLE=2]="DOUBLE",t}({}));t("QuestItemObj",class{constructor(){this.id=void 0,this.desc=void 0,this.point=void 0,this.num=void 0,this.target=void 0,this.state=void 0,this.rewards=void 0}});t("QuestPointObj",class{constructor(){this.id=void 0,this.point=void 0,this.rewards=void 0,this.state=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/QuestItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./QuestData.ts","./QuestSubItem.ts","./QuestChestItem.ts","./ResourcesUtil.ts","./Util.ts"],(function(t){var e,n,i,s,o,a,r,l,u,p,c,h,m,b,f,d,I,g,P,C,T,y,A,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,o=t.Prefab,a=t.Label,r=t.ProgressBar,l=t._decorator,u=t.Component,p=t.instantiate,c=t.UITransform,h=t.tween,m=t.v3},function(t){b=t.OpenPopupManager},function(t){f=t.Constants},function(t){d=t.EventListener},function(t){I=t.GameEvent},function(t){g=t.QuestData,P=t.QuestState},function(t){C=t.QuestSubItem},function(t){T=t.ChestAnim,y=t.QuestChestItem},function(t){A=t.ResourcesUtil},function(t){D=t.Util}],execute:function(){var Q,v,x,U,_,E,w,O,q,z,R,L,M,N,S,B,Y,j,F;i._RF.push({},"acederVRYRPRqHYHsZzf0Fq","QuestItem",void 0);const{ccclass:H,property:G}=l;t("QuestItem",(Q=H("QuestItem"),v=G(s),x=G(o),U=G(s),_=G(o),E=G(s),w=G(a),O=G(r),q=G(a),Q((L=e((R=class extends u{constructor(){super(...arguments),n(this,"questContent",L,this),n(this,"questItemPrefab",M,this),n(this,"pointContent",N,this),n(this,"chestItemPrefab",S,this),n(this,"pointIcon",B,this),n(this,"pointText",Y,this),n(this,"progress",j,this),n(this,"timeText",F,this)}init(){g.instance.getQuestInfo(),this.setContent()}setContent(){this.questContent.removeAllChildren();let t=g.instance.questObjs;for(let e=0;e<t.length;e++){let n=t[e],i=p(this.questItemPrefab);i.getComponent(C).init(n),i.parent=this.questContent}this.pointContent.removeAllChildren();let e=g.instance.pointObjs,n=g.instance.dailyPoint;for(let t=0;t<e.length;t++){let i=e[t],s=p(this.chestItemPrefab),o=i.state==P.CLAIMED||i.state==P.DOUBLE?T.Received:n>=i.point?T.Available:T.Unavailable;s.getComponent(y).init(i.rewards,i.id,i.point,o),s.parent=this.pointContent}this.pointText.string=`${g.instance.dailyPoint}`,this.progress.progress=g.instance.dailyPoint/100,this.timeText.string=D.countdown(g.instance.nextday),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}updateTime(){g.instance.nextday<=0&&(g.instance.getQuestInfo(),this.unschedule(this.updateTime)),g.instance.nextday=1,this.timeText.string=D.countdown(g.instance.nextday)}onPointAnimation(t){let e=this.pointIcon.getPosition(),n=this.pointIcon.parent.getComponent(c).convertToNodeSpaceAR(t),i=f.commonPreabPath+"pointItem";A.getPrefab(i).then((t=>{for(let i=0;i<10;i++){let s=p(t),o=2*(Math.random()-.5)*50+n.x,a=2*(Math.random()-.5)*100+n.y;s.parent=this.pointIcon.parent,s.setPosition(n),this.scheduleOnce((()=>{h(s).to(.2,{position:m(o,a,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{s.destroy()})).start()}),.05+.05*i)}}))}onCloseBtn(){b.instance.hide(f.PopupUI.QuestPopup)}onEnable(){d.on(I.UPDTAE_QUEST_DATA,this.setContent,this),d.on(I.UPDATE_DAILY_POINT_ANIMATION,this.onPointAnimation,this)}onDisable(){d.off(I.UPDTAE_QUEST_DATA,this.setContent,this),d.off(I.UPDATE_DAILY_POINT_ANIMATION,this.onPointAnimation,this)}}).prototype,"questContent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(R.prototype,"questItemPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(R.prototype,"pointContent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(R.prototype,"chestItemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(R.prototype,"pointIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(R.prototype,"pointText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(R.prototype,"progress",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(R.prototype,"timeText",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/QuestSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./QuestData.ts","./CfgMgr.ts","./ItemCfg.ts","./Constants.ts","./ResourcesUtil.ts"],(function(t){var e,i,n,a,r,s,o,l,c,u,m,p,h,g,b,d,f,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.ProgressBar,r=t.Label,s=t.Sprite,o=t.Node,l=t._decorator,c=t.Component,u=t.UITransform,m=t.Vec3},function(t){p=t.LanguageManager},function(t){h=t.QuestState,g=t.QuestData},function(t){b=t.CfgMgr},function(t){d=t.ItemCfg},function(t){f=t.Constants},function(t){B=t.ResourcesUtil}],execute:function(){var C,w,y,v,I,z,S,T,x,D,_,L,M,Q,j,A,O,R,q,F,E,P,U;n._RF.push({},"3c369QAawhKWoyvJMEQTz9k","QuestSubItem",void 0);const{ccclass:W,property:k}=l;t("QuestSubItem",(C=W("QuestSubItem"),w=k(a),y=k(r),v=k(r),I=k(r),z=k(s),S=k(s),T=k(r),x=k(o),D=k(o),_=k(o),C((Q=e((M=class extends c{constructor(){super(...arguments),i(this,"progress",Q,this),i(this,"progressText",j,this),i(this,"desc",A,this),i(this,"pointText",O,this),i(this,"pointIcon",R,this),i(this,"icon",q,this),i(this,"rewardText",F,this),i(this,"claimBtn",E,this),i(this,"doubleClaimBtn",P,this),i(this,"claimedBtn",U,this),this._questObj=null}init(t){this._questObj=t,t.state==h.CLAIMABLE?(this.claimBtn.active=!0,this.doubleClaimBtn.active=!1,this.claimedBtn.active=!1,t.num>=t.target?this.claimBtn.getComponent(s).grayscale=!1:this.claimBtn.getComponent(s).grayscale=!0):t.state==h.CLAIMED?(this.claimBtn.active=!1,this.doubleClaimBtn.active=!0,this.claimedBtn.active=!1):t.state==h.DOUBLE&&(this.claimBtn.active=!1,this.doubleClaimBtn.active=!1,this.claimedBtn.active=!0),this.rewardText.string=`${t.rewards[0].count}`;let e=b.getDataById(new d,t.rewards[0].itemId),i=f.itemsPath+e.icon+"/spriteFrame";B.geSpriteFrame(i).then((t=>{this.icon.spriteFrame=t;let e=this.icon.getComponent(u).contentSize,i=Math.min(48/e.width,48/e.height);this.icon.node.setScale(i,i)})),this.progress.progress=t.num/t.target,this.progressText.string=t.num+"/"+t.target,this.desc.string=p.instance.getLang(t.desc,[t.target])}onClaimBtn(){if(this._questObj.target>this._questObj.num)return;let t=this.claimBtn.getComponent(u).convertToWorldSpaceAR(new m(0,0,0)),e=this.pointIcon.getComponent(u).convertToWorldSpaceAR(new m(0,0,0));g.instance.claim(this._questObj.id,t,e)}onDoubbleClaimBtn(){let t=this.claimBtn.getComponent(u).convertToWorldSpaceAR(new m(0,0,0));g.instance.claimDouble(this._questObj.id,t)}}).prototype,"progress",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"progressText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"desc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"pointText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"pointIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(M.prototype,"rewardText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(M.prototype,"claimBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(M.prototype,"doubleClaimBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(M.prototype,"claimedBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=M))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/RainbowDetailPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./LlamaData.ts","./Util.ts","./EventListener.ts","./GameEvent.ts","./GuideData.ts"],(function(i){var t,o,e,n,r,s,a,b,l,w,h,u,p,m,c,_,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.initializerDefineProperty},function(i){e=i.cclegacy,n=i.Label,r=i.Node,s=i.ProgressBar,a=i._decorator,b=i.Component},function(i){l=i.OpenPopupManager},function(i){w=i.Constants},function(i){h=i.LlamaData,u=i.LlamaType},function(i){p=i.Util},function(i){m=i.EventListener},function(i){c=i.GameEvent},function(i){_=i.GuideData,g=i.GuideStep}],execute:function(){var O,d,j,T,x,f,P,D,E,A,L,y,C,I,v,G,N,z,R,U,M,S,W;e._RF.push({},"98ec7XF9ydA6pkhX7jl9Ill","RainbowDetailPopup",void 0);const{ccclass:B,property:F}=a;i("RainbowDetailPopup",(O=B("RainbowDetailPopup"),d=F(n),j=F(n),T=F(r),x=F(n),f=F(s),P=F(n),D=F(s),E=F(n),A=F(r),L=F(r),O((I=t((C=class extends b{constructor(){super(...arguments),o(this,"gemEarnedText",I,this),o(this,"perEarnText",v,this),o(this,"doubleIcon",G,this),o(this,"timeText",N,this),o(this,"timeProgress",z,this),o(this,"woolProgressText",R,this),o(this,"woolProgress",U,this),o(this,"woolCountText",M,this),o(this,"leftArrow",S,this),o(this,"rightArrow",W,this),this._rainbowObj=null,this._gem=0}show(i){this._rainbowObj=i,this.setContent()}setContent(){let i=h.instance.rainbowObjs,t=i.findIndex((i=>i.id==this._rainbowObj.id));this.leftArrow.active=0!=t&&-1!=t,t==i.length-1?this.rightArrow.active=!1:this.rightArrow.active=!0,this.gemEarnedText.string=`${this._rainbowObj.earnGem}`,this.timeText.string=p.timeToStrings(this._rainbowObj.countdown),this.perEarnText.string=`${this._rainbowObj.perGem}/min`,this.doubleIcon.active=this._rainbowObj.isDouble,this.timeProgress.progress=this._rainbowObj.countdown/this._rainbowObj.duration,this.woolCountText.string=this._rainbowObj.woolTime>0?"x"+this._rainbowObj.woolNumber:"",this.woolProgress.progress=(this._rainbowObj.woolDuration-this._rainbowObj.woolTime)/this._rainbowObj.woolDuration,this.woolProgressText.string=this._rainbowObj.woolTime>0?p.countdown(this._rainbowObj.woolTime):"x"+this._rainbowObj.woolNumber,this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}onLeftBtn(){let i=h.instance.rainbowObjs,t=i.findIndex((i=>i.id==this._rainbowObj.id));t>0&&(this._rainbowObj=i[t-1],this.setContent())}onRightBtn(){let i=h.instance.rainbowObjs,t=i.findIndex((i=>i.id==this._rainbowObj.id));t<i.length-1&&(this._rainbowObj=i[t+1],this.setContent())}updateTime(){this._rainbowObj.countdown<=0&&(h.instance.getLlamaInfo(),this.unschedule(this.updateTime)),this._rainbowObj.woolTime>0&&this._rainbowObj.woolTime--,this.woolCountText.string=this._rainbowObj.woolTime>0?"x"+this._rainbowObj.woolNumber:"",this.woolProgress.progress=(this._rainbowObj.woolDuration-this._rainbowObj.woolTime)/this._rainbowObj.woolDuration,this.woolProgressText.string=this._rainbowObj.woolTime>0?p.countdown(this._rainbowObj.woolTime):"x"+this._rainbowObj.woolNumber,this.timeProgress.progress=this._rainbowObj.countdown/this._rainbowObj.duration,this._rainbowObj.countdown--,this._gem+=this._rainbowObj.perGem/60,this.timeText.string=p.timeToStrings(this._rainbowObj.countdown),this.gemEarnedText.string=Number(this._rainbowObj.earnGem+this._gem).toFixed(3)}onWoolBtn(){l.instance.show(w.PopupUI.LlamaWoolPopup,this._rainbowObj,u.Rainbow)}onCloseBtn(){_.instance.guideMode&&_.instance.curStep==g.GUIDE_STEP6_MERGE_LLAMA_ACTION&&(_.instance.curStep=1,m.emit(c.GUIDE_ACTION)),this.unschedule(this.updateTime),l.instance.hide(w.PopupUI.RainbowDetailPopup)}onUpdateWool(i,t,o,e,n){i==u.Rainbow&&this._rainbowObj.id==t&&(this.unschedule(this.updateTime),this._rainbowObj.woolTime=o,this._rainbowObj.woolNumber=e,this._rainbowObj.boostNumber=n,this.woolCountText.string=this._rainbowObj.woolTime>0?"x"+this._rainbowObj.woolNumber:"",this.woolProgress.progress=(this._rainbowObj.woolDuration-this._rainbowObj.woolTime)/this._rainbowObj.woolDuration,this.woolProgressText.string=this._rainbowObj.woolTime>0?p.countdown(this._rainbowObj.woolTime):"x"+this._rainbowObj.woolNumber)}onEnable(){m.on(c.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}onDisable(){m.off(c.UPDATE_LLAMA_WOOL,this.onUpdateWool,this)}}).prototype,"gemEarnedText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(C.prototype,"perEarnText",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(C.prototype,"doubleIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(C.prototype,"timeText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"timeProgress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(C.prototype,"woolProgressText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(C.prototype,"woolProgress",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"woolCountText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(C.prototype,"leftArrow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(C.prototype,"rightArrow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/RainbowItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./Util.ts"],(function(t){var e,i,n,r,o,s,a,u,l,p,h,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,o=t.ProgressBar,s=t.Node,a=t._decorator,u=t.Component,l=t.tween,p=t.v2},function(t){h=t.OpenPopupManager},function(t){c=t.Constants},function(t){b=t.Util}],execute:function(){var m,w,g,d,T,f,x,_,y,P,O,j,I;n._RF.push({},"f01fb2N3IhNBIA4dFlB/FJW","RainbowItem",void 0);const{ccclass:R,property:v}=a;t("RainbowItem",(m=R("RainbowItem"),w=v(r),g=v(r),d=v(r),T=v(o),f=v(s),m((y=e((_=class extends u{constructor(){super(...arguments),this._rainbowObj=null,i(this,"gemText",y,this),i(this,"timeText",P,this),i(this,"hourEarnText",O,this),i(this,"timeProgress",j,this),i(this,"earnArrow",I,this)}init(t){this._rainbowObj=t,this.gemText.string=`${t.earnGem}`,this.timeText.string=b.timeToStrings(this._rainbowObj.countdown),this.hourEarnText.string=`${t.perGem}/s`,this.timeProgress.progress=(t.duration-t.countdown)/t.duration,l(this.earnArrow).sequence(l().to(2,{position:p(71.25,0)},{easing:"linear"}),l().to(0,{position:p(0,0)})).repeatForever().start(),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)}updateTime(){this._rainbowObj.countdown<=0&&this.unschedule(this.updateTime),this._rainbowObj.countdown--,this.timeText.string=b.timeToStrings(this._rainbowObj.countdown)}onDetailBtn(){h.instance.show(c.PopupUI.RainbowDetailPopup,this._rainbowObj)}onEnable(){}onDisable(){this.unschedule(this.updateTime)}}).prototype,"gemText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(_.prototype,"timeText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(_.prototype,"hourEarnText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(_.prototype,"timeProgress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(_.prototype,"earnArrow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=_))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/RankData.ts",["cc","./Api.ts","./EventListener.ts","./HttpService.ts","./OpenPopupManager.ts","./PlayerData.ts","./GameEvent.ts"],(function(t){var i,s,e,n,a,d,o;return{setters:[function(t){i=t.cclegacy},function(t){s=t.Api},function(t){e=t.EventListener},function(t){n=t.HttpService},function(t){a=t.OpenPopupManager},function(t){d=t.PlayerData},function(t){o=t.GameEvent}],execute:function(){i._RF.push({},"bd50c6PIIpESr8ou28rz/nQ","RankData",void 0);class r{constructor(){this._inviteObj=null,this._rainbowObj=null,this._goldObj=null,this._adObj=null,this._inviteMaxIssueId=0,this._rainbowMaxIssueId=0,this._goldMaxIssueId=0,this._adMaxIssueId=0,this._rankRecords=[]}get goldObj(){return this._goldObj}get adObj(){return this._adObj}get inviteObj(){return this._inviteObj}get rainbowObj(){return this._rainbowObj}get goldMaxIssueId(){return this._goldMaxIssueId}get adMaxIssueId(){return this._adMaxIssueId}get inviteMaxIssueId(){return this._inviteMaxIssueId}get rainbowMaxIssueId(){return this._rainbowMaxIssueId}get rankRecords(){return this._rankRecords}getRankInfo(){n.instance.post(s.RANK_INFO,{}).then((t=>{t&&0==t.code&&(this._inviteObj=t.data.invite,this._rainbowObj=t.data.rainbow,this._goldObj=t.data.gold,this._adObj=t.data.ad,this._inviteMaxIssueId=t.data.invite.issueId,this._rainbowMaxIssueId=t.data.rainbow?t.data.rainbow.issueId:0,this._goldMaxIssueId=t.data.gold?t.data.gold.issueId:0,this._adMaxIssueId=t.data.ad?t.data.ad.issueId:0,e.emit(o.UPDATE_RANK_DATA))}))}getRankInviteInfo(t){n.instance.post(s.RANK_INVITE,{issueId:t}).then((t=>{t&&0==t.code&&(this._inviteObj=t.data.invite,e.emit(o.UPDATE_RANK_DATA))}))}getRankRainbowInfo(t){n.instance.post(s.RANK_RAINBOW,{issueId:t}).then((t=>{t&&0==t.code&&(this._rainbowObj=t.data.rainbow,e.emit(o.UPDATE_RANK_DATA))}))}getRankGoldInfo(t){n.instance.post(s.RANK_GOLD,{issueId:t}).then((t=>{t&&0==t.code&&(this._goldObj=t.data.gold,e.emit(o.UPDATE_RANK_DATA))}))}getRankAdInfo(t){n.instance.post(s.RANK_AD,{issueId:t}).then((t=>{t&&0==t.code&&(this._adObj=t.data.ad,e.emit(o.UPDATE_RANK_DATA))}))}getRankRecords(){n.instance.post(s.RANK_RECORD).then((t=>{t&&0==t.code&&(this._rankRecords=t.data.items,e.emit(o.UPDATE_RANK_RECORD_DATA))}))}claim(t){n.instance.post(s.RANK_CLAIM,{id:t}).then((t=>{t&&0==t.code&&(e.emit(o.UPDATE_RANK_RECORD_DATA),d.instance.getPlayerInfo(),a.instance.showRewardPopup(t.data.rewards)),this.getRankRecords()}))}getTypeUnit(t){return"invite"==t?"invitee":"rainbow"==t?"points":"gold"==t?"golds":"ad"==t?"ads":void 0}getTypeRankNumber(t){return"invite"==t||"gold"==t||"ad"==t?"20+":"30+"}static get instance(){return this._instance||(this._instance=new r),this._instance}}t("RankData",r),r._instance=null;t("RankInfoResult",class{constructor(){this.invite=void 0,this.rainbow=void 0,this.gold=void 0,this.ad=void 0}});t("RankInviteObj",class{constructor(){this.issueId=void 0,this.items=void 0,this.nexttime=void 0,this.owner=void 0}});t("RankRainbowObj",class{constructor(){this.issueId=void 0,this.items=void 0,this.nexttime=void 0,this.owner=void 0}});t("RankGoldObj",class{constructor(){this.issueId=void 0,this.items=void 0,this.nexttime=void 0,this.owner=void 0}});t("RankAdObj",class{constructor(){this.issueId=void 0,this.items=void 0,this.nexttime=void 0,this.owner=void 0}});t("RankRecordResult",class{constructor(){this.items=void 0}});t("RankRecordObj",class{constructor(){this.id=void 0,this.usdt=void 0,this.issueId=void 0,this.rank=void 0,this.type=void 0,this.state=void 0}});t("RankClaimResult",class{constructor(){this.rewards=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RankData.ts","./AvatarItem.ts"],(function(t){var e,n,i,a,r,s,l,o,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Label,r=t.Node,s=t._decorator,l=t.Component},function(t){o=t.RankData},function(t){u=t.AvatarItem}],execute:function(){var c,p,m,b,h,k,d,g,f,v,y,R,z;i._RF.push({},"d7a3dsLdWhHYLTltvFKi+Kl","RankItem",void 0);const{ccclass:I,property:w}=s;t("RankItem",(c=I("RankItem"),p=w(a),m=w(a),b=w(r),h=w(a),k=w(a),c((f=e((g=class extends l{constructor(){super(...arguments),n(this,"rank",f,this),n(this,"nickname",v,this),n(this,"avatar",y,this),n(this,"content",R,this),n(this,"usdt",z,this)}init(t,e){this.rank.string=t.rank>0?t.rank+"":o.instance.getTypeRankNumber(e),this.avatar.getComponent(u).init(t.avatar),this.nickname.string=t.nickname,this.content.string=t.value+" "+o.instance.getTypeUnit(e),this.usdt.string=Number(t.usdt/1e3).toFixed(t.usdt>100?1:2)}}).prototype,"rank",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"nickname",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(g.prototype,"avatar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(g.prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(g.prototype,"usdt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./RankData.ts","./EventListener.ts","./GameEvent.ts","./SpriteEx.ts","./RankItem.ts","./RankTopItem.ts","./RankRoundItem.ts","./Util.ts"],(function(t){var e,n,i,a,s,o,r,l,u,h,p,d,b,c,m,T,I,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Prefab,s=t.Node,o=t.Label,r=t._decorator,l=t.Component,u=t.instantiate},function(t){h=t.OpenPopupManager},function(t){p=t.Constants},function(t){d=t.RankData},function(t){b=t.EventListener},function(t){c=t.GameEvent},function(t){m=t.SpriteEx},function(t){T=t.RankItem},function(t){I=t.RankTopItem},function(t){f=t.RankRoundItem},function(t){g=t.Util}],execute:function(){var k,R,y,_,w,x,C,v,U,D,N,P,B,z,E,L,A,S,O,M,j,K,G,F,H,W,q,J,Q,V,X;i._RF.push({},"13f7b03TpdKkrbreM38aRCh","RankPopup",void 0);const{ccclass:Y,property:Z}=r;t("RankPopup",(k=Y("RankPopup"),R=Z(a),y=Z(a),_=Z(s),w=Z(s),x=Z(s),C=Z(s),v=Z(s),U=Z(s),D=Z(o),N=Z(o),P=Z(o),B=Z(s),z=Z(s),E=Z(s),k((S=e((A=class extends l{constructor(){super(...arguments),n(this,"rankItem",S,this),n(this,"roundItem",O,this),n(this,"tabs",M,this),n(this,"rankTopItems",j,this),n(this,"rankItems",K,this),n(this,"ownerRankItem",G,this),n(this,"roundOptions",F,this),n(this,"roundContent",H,this),n(this,"roundLabel",W,this),n(this,"timeText",q,this),n(this,"rankNameText",J,this),n(this,"adTabBtn",Q,this),n(this,"goldTabBtn",V,this),n(this,"rainbowTabBtn",X,this),this._tabType="ad",this._issueId=0,this._nextTime=0}show(){d.instance.getRankInfo()}onCloseBtn(){h.instance.hide(p.PopupUI.RankPopup)}onTabBtn(t,e){for(let t=0;t<this.tabs.children.length;t++)this.tabs.children[t].getComponent(m).index=1;this.tabs.children[Number(e)].getComponent(m).index=0,0==Number(e)?(this.rankNameText.string="Daily Leaderboard",this._tabType="ad",this.onUpdateContent()):1==Number(e)?(this.rankNameText.string="Daily Leaderboard",this._tabType="gold",this.onUpdateContent()):2==Number(e)?(this.rankNameText.string="3-Day Leaderboard",this._tabType="invite",this.onUpdateContent()):(this.rankNameText.string="Weekly Leaderboard",this._tabType="rainbow",this.onUpdateContent())}onTipsBtn(){h.instance.show(p.PopupUI.RankTipsPopup)}onShowRoundBtn(){this.roundContent.active=!this.roundContent.active}onSelectRound(t){this.roundContent.active=!1,this._issueId=t,this.roundLabel.string="ROUND "+t,"invite"==this._tabType?d.instance.getRankInviteInfo(this._issueId):"invite"==this._tabType?d.instance.getRankRainbowInfo(this._issueId):(this._tabType="ad")?d.instance.getRankAdInfo(this._issueId):d.instance.getRankGoldInfo(this._issueId)}updateTime(){this._nextTime--,this._nextTime<=0||(this.timeText.string=g.countdownByDay(this._nextTime))}onUpdateContent(){if(d.instance.rainbowObj?this.rainbowTabBtn.active=!0:this.rainbowTabBtn.active=!1,"invite"==this._tabType){let t=d.instance.inviteObj;t&&this.updateContent(t.issueId,this._tabType,t.nexttime,t.items,t.owner)}else if("ad"==this._tabType){let t=d.instance.adObj;t&&this.updateContent(t.issueId,this._tabType,t.nexttime,t.items,t.owner)}else{let t=d.instance.rainbowObj;t&&this.updateContent(t.issueId,this._tabType,t.nexttime,t.items,t.owner)}}updateContent(t,e,n,i,a){this.roundLabel.string="ROUND "+t,this.unschedule(this.updateTime),this._nextTime=n,this.timeText.string=g.countdownByDay(this._nextTime),0==n?this.timeText.node.parent.active=!1:(this.timeText.node.parent.active=!0,this.schedule(this.updateTime,1)),this.rankItems.removeAllChildren();for(let t=3;t<i.length;t++){let n=i[t],a=u(this.rankItem);a.getComponent(T).init(n,e),a.parent=this.rankItems}this.ownerRankItem.getComponent(T).init(a,e);for(let t=0;t<this.rankTopItems.children.length;t++)i[t]?(this.rankTopItems.children[t].getComponent(I).init(i[t],e),this.rankTopItems.children[t].active=!0):this.rankTopItems.children[t].active=!1;this.roundOptions.removeAllChildren();let s=0;s="invite"==e?d.instance.inviteMaxIssueId:"gold"==e?d.instance.goldMaxIssueId:"ad"==e?d.instance.adMaxIssueId:d.instance.rainbowMaxIssueId;for(let t=s;t>0;t--){let e=u(this.roundItem);e.getComponent(f).init(t),e.parent=this.roundOptions}}onRecordBtn(){h.instance.show(p.PopupUI.RankRecordPopup)}onEnable(){b.on(c.UPDATE_RANK_DATA,this.onUpdateContent,this),b.on(c.SELECT_RANK_ISSUE,this.onSelectRound,this)}onDisable(){this.unschedule(this.updateTime),b.off(c.UPDATE_RANK_DATA,this.onUpdateContent,this),b.off(c.SELECT_RANK_ISSUE,this.onSelectRound,this)}}).prototype,"rankItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(A.prototype,"roundItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(A.prototype,"tabs",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(A.prototype,"rankTopItems",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(A.prototype,"rankItems",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(A.prototype,"ownerRankItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(A.prototype,"roundOptions",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(A.prototype,"roundContent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(A.prototype,"roundLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(A.prototype,"timeText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(A.prototype,"rankNameText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(A.prototype,"adTabBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(A.prototype,"goldTabBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(A.prototype,"rainbowTabBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=A))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RankData.ts","./SpriteEx.ts"],(function(e){var t,i,n,a,r,s,o,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Label,r=e.Node,s=e._decorator,o=e.Component},function(e){c=e.RankData},function(e){l=e.SpriteEx}],execute:function(){var u,m,d,h,p,y,R,b,k,x,I,f,g,v,T;n._RF.push({},"a83adv3QetJw5zo/2LsHS4C","RankRecordItem",void 0);const{ccclass:z,property:w}=s;e("RankRecordItem",(u=z("RankRecordItem"),m=w(l),d=w(a),h=w(l),p=w(a),y=w(a),R=w(r),u((x=t((k=class extends o{constructor(){super(...arguments),i(this,"issueIcon",x,this),i(this,"issueText",I,this),i(this,"myRankIcon",f,this),i(this,"myRankText",g,this),i(this,"myEarnText",v,this),i(this,"claimBtn",T,this),this._recordId=0}init(e){this._recordId=e.id,this.issueText.string="No."+e.issueId,this.issueIcon.index=e.type,e.rank<4?(this.myRankIcon.node.active=!0,this.myRankText.node.active=!1,this.myRankIcon.index=e.rank-1):(this.myRankIcon.node.active=!1,this.myRankText.node.active=!0,this.myRankText.string=e.rank+""),this.myEarnText.string=Number(e.usdt/1e3).toFixed(e.usdt<100?3:2),0!=e.state?this.claimBtn.active=!1:this.claimBtn.active=!0}onClaimBtn(){c.instance.claim(this._recordId)}}).prototype,"issueIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(k.prototype,"issueText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(k.prototype,"myRankIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(k.prototype,"myRankText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(k.prototype,"myEarnText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"claimBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/RankRecordPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./RankRecordItem.ts","./RankData.ts"],(function(t){var e,n,o,r,i,a,s,c,p,l,u,R,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.Node,i=t.Prefab,a=t._decorator,s=t.Component,c=t.instantiate},function(t){p=t.OpenPopupManager},function(t){l=t.Constants},function(t){u=t.EventListener},function(t){R=t.GameEvent},function(t){d=t.RankRecordItem},function(t){f=t.RankData}],execute:function(){var h,m,P,k,C,D,b;o._RF.push({},"c977bWPMrVC4pziER4mkZnI","RankRecordPopup",void 0);const{ccclass:g,property:E}=a;t("RankRecordPopup",(h=g("RankRecordPopup"),m=E(r),P=E(i),h((D=e((C=class extends s{constructor(){super(...arguments),n(this,"content",D,this),n(this,"recordItem",b,this)}show(){f.instance.getRankRecords()}onCloseBtn(){p.instance.hide(l.PopupUI.RankRecordPopup)}onUpdateContent(){this.content.removeAllChildren();let t=f.instance.rankRecords;for(let e=0;e<t.length;e++){let n=c(this.recordItem);n.getComponent(d).init(t[e]),n.parent=this.content}}onEnable(){u.on(R.UPDATE_RANK_RECORD_DATA,this.onUpdateContent,this)}onDisable(){u.off(R.UPDATE_RANK_RECORD_DATA,this.onUpdateContent,this)}}).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(C.prototype,"recordItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankRoundItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./GameEvent.ts"],(function(e){var t,n,i,s,o,r,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Label,o=e._decorator,r=e.Component},function(e){u=e.EventListener},function(e){c=e.GameEvent}],execute:function(){var a,l,p,d,R;i._RF.push({},"35790GiYNdNfZkelayYnJgI","RankRoundItem",void 0);const{ccclass:m,property:f}=o;e("RankRoundItem",(a=m("RankRoundItem"),l=f(s),a((R=t((d=class extends r{constructor(){super(...arguments),n(this,"issue",R,this),this._issueId=0}init(e){this._issueId=e,this.issue.string="Round "+e}onSelectBtn(){u.emit(c.SELECT_RANK_ISSUE,this._issueId)}}).prototype,"issue",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankTipsPopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(n){var p,o,e,s,t;return{setters:[function(n){p=n.cclegacy,o=n.Component,e=n._decorator},function(n){s=n.OpenPopupManager},function(n){t=n.Constants}],execute:function(){var c;p._RF.push({},"3f359vMBcNFKKpBrIgEiwbx","RankTipsPopup",void 0);const{ccclass:a,property:i}=e;n("RankTipsPopup",a("RankTipsPopup")(c=class extends o{show(){}onCloseBtn(){s.instance.hide(t.PopupUI.RankTipsPopup)}onClicked(n,p){window.Telegram.WebApp.openLink(p)}})||c);p._RF.pop()}}}));

System.register("chunks:///_virtual/RankTopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RankData.ts","./AvatarItem.ts","./SpriteEx.ts"],(function(t){var e,n,i,a,r,o,l,s,c,u,p,h,m,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Label,r=t.Node,o=t._decorator,l=t.Component,s=t.Overflow,c=t.UITransform,u=t.Size,p=t.HorizontalTextAlignment},function(t){h=t.RankData},function(t){m=t.AvatarItem},function(t){k=t.SpriteEx}],execute:function(){var b,g,f,d,v,z,w,y,N,C,R,T,x,I,E;i._RF.push({},"ec73dQCVMZJoZeBiCIMLKo/","RankTopItem",void 0);const{ccclass:S,property:A}=o;t("RankTopItem",(b=S("RankTopItem"),g=A(k),f=A(k),d=A(a),v=A(r),z=A(a),w=A(a),b((C=e((N=class extends l{constructor(){super(...arguments),n(this,"rankNum",C,this),n(this,"rankBase",R,this),n(this,"nickname",T,this),n(this,"avatar",x,this),n(this,"content",I,this),n(this,"usdt",E,this)}init(t,e){this.rankNum.index=t.rank-1,this.rankBase.index=t.rank-1,this.avatar.getComponent(m).init(t.avatar),this.nickname.string=t.nickname,this.nickname.overflow=s.NONE,this.scheduleOnce((()=>{let t=this.nickname.getComponent(c).contentSize;if(console.log("contentSize",t),t.width>160){let e=new u(160,t.height);this.nickname.getComponent(c).setContentSize(e),this.nickname.overflow=s.CLAMP,this.nickname.horizontalAlign=p.LEFT}else this.nickname.overflow=s.NONE,this.nickname.horizontalAlign=p.CENTER}),.01),this.content.string=t.value+" "+h.instance.getTypeUnit(e),this.usdt.string=Number(t.usdt/1e3).toFixed(t.usdt>100?1:2)}}).prototype,"rankNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(N.prototype,"rankBase",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(N.prototype,"nickname",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(N.prototype,"avatar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(N.prototype,"content",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(N.prototype,"usdt",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=N))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["cc","./ArrayUtil.ts","./Debug.ts"],(function(e){var t,r,s,d;return{setters:[function(e){t=e.cclegacy,r=e.assetManager},function(e){s=e.ArrayUtil},function(e){d=e.Debug}],execute:function(){t._RF.push({},"b0e6bCjgSFDl4p2eh9xhCTP","ResMgr",void 0);const a="ResMgr";class l{static get Assets(){return r.assets}static get LoadedRes(){return this._loadedRefRes}static loadBundle(e,t){return void 0===t&&(t=null),new Promise(((s,l)=>{r.getBundle(e)?s(r.getBundle(e)):r.loadBundle(e,((r,o)=>{r?(d.Error(a,`Bundle ${e} load  err:${r}`),l(r)):(t&&t(o),s(o))}))}))}static preloadDir(e,t){return void 0===t&&(t="./"),new Promise((async(s,l)=>{let o=r.getBundle(e);o||(o=await this.loadBundle(e)),o.preloadDir(t,((r,o)=>{r?(d.Error(a,`Bundle ${e} ${t} load error,err:${r}`),l(r)):s()}))}))}static loadDir(e,t,l){return void 0===t&&(t="./"),void 0===l&&(l=!1),new Promise((async(o,i)=>{let n=r.getBundle(e);n||(n=await this.loadBundle(e)),n.loadDir(t,((r,n)=>{if(r)d.Error(a,`Bundle ${e} ${t} load error,err:${r}`),i(r);else{if(l){this._loadedRefRes.hasOwnProperty(e)||(this._loadedRefRes[e]=[]);for(let t=0;t<n.length;t++){const r=n[t];s.has(this._loadedRefRes[e],r)||(this._loadedRefRes[e].push(r),r.addRef())}}o()}}))}))}static loadRes(e,t,l,o){return void 0===l&&(l=""),void 0===o&&(o=!1),new Promise((async(i,n)=>{let u=l+t,R=r.getBundle(e);R||(R=await this.loadBundle(e)),R.load(u,((t,r)=>{t?(d.Error(a,`Bundle ${e} ${u} load error,err:${t}`),n(t)):(o&&(this._loadedRefRes.hasOwnProperty(e)||(this._loadedRefRes[e]=[]),s.has(this._loadedRefRes[e],r)||(this._loadedRefRes[e].push(r),r.addRef())),i(r))}))}))}static getRes(e,t,s){void 0===s&&(s="");let l=r.getBundle(e);if(!l)return d.Error(a,`Bundle ${e} isn't load, can't get ${t}`),null;let o=s+t;const i=l.get(o);return i||d.Warn(a,"load failed",o),i}static isLoaded(e,t,s){void 0===s&&(s="");let l=r.getBundle(e);if(!l)return d.Error(a,`Bundle ${e} isn't load`),!1;let o=s+t;return!!l.get(o)}static release(e){if(!this._loadedRefRes.hasOwnProperty(e))return;let t=this._loadedRefRes[e],r=t.length;for(let e=0;e<r;e++){const r=t[e];r.isValid&&r.decRef()}delete this._loadedRefRes[e]}static getSpriteFrame(e,t,r){return void 0===r&&(r=""),this.getRes(e,t+"/spriteFrame",r)}}e("ResMgr",l),l._loadedRefRes={},t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesUtil.ts",["cc"],(function(e){var t,r,i,a,o,s,n,l,d,c,f,u,m,p,g,R;return{setters:[function(e){t=e.cclegacy,r=e.Component,i=e.resources,a=e.Prefab,o=e.Material,s=e.error,n=e.assetManager,l=e.instantiate,d=e.find,c=e.SpriteFrame,f=e.SpriteAtlas,u=e.sp,m=e.TiledMapAsset,p=e.isValid,g=e.Sprite,R=e.Texture2D}],execute:function(){t._RF.push({},"85b9dh82G1BfaMK6OYv6K+u","ResourcesUtil",void 0);e("ResourcesUtil",class extends r{constructor(){super(...arguments),this.cache={}}static loadRes(e,t,r){void 0===r&&(r=()=>{}),i.load(e,((e,t)=>{e?r(e,t):r&&r(null,t)}))}static loadEffectRes(e){return new Promise(((t,r)=>{this.loadRes(`prefab/effect/${e}`,a,((i,a)=>{if(i)return console.info("effect load failed",e),void(r&&r());t&&t(a)}))}))}static loadModelRes(e){return new Promise(((t,r)=>{this.loadRes(`${e}`,a,((i,a)=>{if(i)return console.info("model load failed",e),void(r&&r());t&&t(a)}))}))}static loadMatRes(e){return new Promise(((t,r)=>{this.loadRes(`${e}`,o,((i,a)=>{if(i)return console.info("mat load failed",e),void(r&&r());t&&t(a)}))}))}static loadModelResArr(e,t,r,o){let s=t.map((t=>`${e}/${t}`));i.load(s,a,r,o)}static getMapObj(e,t,r,o){let s=[];for(let r=0;r<t.length;r++)s.push(`map/${e}/${t[r]}`);i.load(s,a,r,o)}static async getJsonData(e,t){this.loadRes("ConfigData/"+e,null,(function(e,r){e?s(e.message||e):r.json?t(e,r.json):t("failed!!!")}))}static getTextData(e,t){this.loadRes("datas/"+e,null,(function(e,r){if(e)return void s(e.message||e);let i=r.text;t(e,i)}))}static loadFile(e,t){return new Promise(((r,a)=>{if(!e)return void r([]);let o=i.get(e);o?r([e,o]):i.load(e,t,((t,i)=>{null==t?r([e,i]):console.info("Load error:"+t)}))}))}static loadDir(e){return new Promise(((t,r)=>{e?i.loadDir(e,((e,r)=>{null==e?t(r):console.info("Load dir error"+e)})):t([])}))}static loadRemote(e,t){return new Promise(((t,r)=>{if(!e)return t([]),void console.info("The path error:"+e);n.loadRemote(e,(function(e,r){null==e?t(r):console.info("Load Remote Error:"+e)}))}))}static loadResNew(e,t){return new Promise(((r,a)=>{i.load(e,t,((e,t)=>{if(e)return s(e.message||e),void(a&&a(e));r&&r(t)}))}))}static getUIPrefabRes(e){return this.loadResNew(e,a)}static async createUI(e,t){let r=await this.getUIPrefabRes(e),i=l(r);return i.setPosition(0,0,0),t||(t=d("Canvas")),t.addChild(i),i}static setSpriteFrame(e,t,r,a){void 0===r&&(r=!0),void 0===a&&(a=null),t?(r&&(t.spriteFrame=null),i.load(e,c,(function(r,i){if(r)return console.info("set sprite frame failed! err:",e,r),void(a&&a());t&&t&&(t.spriteFrame=i),a&&a()}))):a&&a()}static geSpriteFrame(e){return new Promise(((t,r)=>{i.load(e,c,(function(r,i){if(r)return console.info("set sprite frame failed! err:",e),void t(null);t(i)}))}))}static setSpriteAtlasSpriteFrame(e,t,r){r&&i.load(e,f,((i,a)=>{if(i)return void console.info("set spriteAtlas frame failed! err:",e,i);const o=a.getSpriteFrame(t);r.spriteFrame=o}))}static getSpriteAtlasSpriteFrame(e,t){return new Promise((r=>{i.load(e,f,((i,a)=>{if(i)return console.info("get SpriteAtlasSprite failed! err:",e),void r(null);const o=a.getSpriteFrame(t);r(o)}))}))}static getSpriteAtlas(e){return new Promise((t=>{i.load(e,f,((r,i)=>{if(r)return console.info("get SpriteAtlasSprite failed! err:",e),void t(null);const a=i.getSpriteFrames();t(a)}))}))}static getSpriteFrame(e){return new Promise((t=>{i.load(e,c,(function(e,r){t(r)}))}))}static getSkeletonData(e){return new Promise((t=>{i.load(e,u.SkeletonData,(function(r,i){r?console.info("get SkeletonData failed! err:",e):t(i)}))}))}static getPrefab(e){return new Promise(((t,r)=>{i.load(e,a,(function(i,a){i&&(console.info("get Prefab failed! err:",e),r(null)),t(a)}))}))}static releaseRes(e){let t=e.spriteFrame;e.spriteFrame=null,t.decRef()}static getTiledMap(e){return new Promise((t=>{i.load(e,m,(function(r,i){r?console.info("get Prefab failed! err:",e):t(i)}))}))}releaseSprite(e){if(!p(e))return;const t=e.getComponent(g);t&&t.spriteFrame&&(t.spriteFrame.decRef(),t.spriteFrame=null)}loadRemoteImg(e){n.loadRemote(e,((e,t)=>{if(!e&&t){let e=this.cache[t._uuid];if(!e){const r=new R;r.image=t,e=new c,e.texture=r,t.addRef(),this.cache[t._uuid]=e}e.addRef()}}))}releaseRemoteSprite(e){if(!p(e))return;const t=e.getComponent(g);if(t&&t.spriteFrame){const e=t.spriteFrame;if(t.spriteFrame.decRef(!1),t.spriteFrame=null,e.refCount<=0){let t=e.texture;e.packable&&(t=e.original?._texture),t&&(delete this.cache[t.image._uuid],t.image?.decRef(),t.destroy()),e.destroy()}}}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/RestorePopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(e){var o,t,n,s,p;return{setters:[function(e){o=e.cclegacy,t=e.Component,n=e._decorator},function(e){s=e.OpenPopupManager},function(e){p=e.Constants}],execute:function(){var c;o._RF.push({},"061b7sZLXxGvp98PKeibbGc","RestorePopup",void 0);const{ccclass:r,property:u}=n;e("RestorePopup",r("RestorePopup")(c=class extends t{show(){}onCloseBtn(){s.instance.hide(p.PopupUI.RestorePopup)}})||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/RewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./ResourcesUtil.ts","./SpriteEx.ts","./CfgMgr.ts","./ItemCfg.ts","./CardData.ts","./ItemData.ts"],(function(t){var e,i,n,r,a,o,s,c,l,u,f,m,p,h,g,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Sprite,a=t.Label,o=t.Node,s=t._decorator,c=t.Component,l=t.UITransform},function(t){u=t.Constants},function(t){f=t.ResourcesUtil},function(t){m=t.SpriteEx},function(t){p=t.CfgMgr},function(t){h=t.ItemCfg,g=t.ItemType},function(t){d=t.CardData},function(t){b=t.ItemData}],execute:function(){var y,C,I,w,D,R,_,x,F,S,v;n._RF.push({},"349f58lb1hBbb52EUxOkch9","RewardItem",void 0);const{ccclass:z,property:q}=s;t("RewardItem",(y=z("RewardItem"),C=q(m),I=q(r),w=q(a),D=q(o),y((x=e((_=class extends c{constructor(){super(...arguments),i(this,"quality",x,this),i(this,"icon",F,this),i(this,"count",S,this),i(this,"flag",v,this),this._itemCfg=null}init(t,e){this.count.string=`x${b.instance.toNumber(t.itemId,t.count)}`;let i=this._itemCfg=p.getDataById(new h,t.itemId);if(!i)return;this.quality.index=i.quality;let n=u.itemsPath+i.icon+"/spriteFrame";if(this.flag.active=!1,this._itemCfg.type==g.CardFragment){this.flag.active=!0;let t=d.instance.getCardCfgById(this._itemCfg.dataId);t&&(n=u.cardsPath+t.icon+"/spriteFrame")}f.geSpriteFrame(n).then((t=>{this.icon.spriteFrame=t;let e=this.icon.getComponent(l).contentSize,i=Math.min(80/e.width,80/e.height);this.icon.node.setScale(i,i)}))}}).prototype,"quality",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(_.prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(_.prototype,"count",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"flag",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=_))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/RewardModel.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"560c2JG8shKebqO+U16scxE","RewardModel",void 0);e("RewardItemObj",class{constructor(){this.itemId=void 0,this.count=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/RewardTooltipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RewardItem.ts"],(function(e){var t,n,i,r,o,a,l,s,c,u,p,h,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Prefab,o=e.Node,a=e.Sprite,l=e._decorator,s=e.Component,c=e.instantiate,u=e.UITransform,p=e.Vec3,h=e.tween},function(e){w=e.RewardItem}],execute:function(){var d,f,b,m,g,y,R,z,C,I,P;i._RF.push({},"ca968CgVJpKkL7CHyyjX27Q","RewardTooltipItem",void 0);const{ccclass:S,property:v}=l;e("RewardTooltipItem",(d=S("RewardTooltipItem"),f=v(r),b=v(o),m=v(a),g=v(o),d((z=t((R=class extends s{constructor(){super(...arguments),n(this,"rewardPrefab",z,this),n(this,"bg",C,this),n(this,"arrow",I,this),n(this,"content",P,this)}init(e){for(let t=0;t<e.length;t++){let n=c(this.rewardPrefab),i=n.getComponent(u).contentSize,r=Math.min(80/i.width,80/i.height);n.parent=this.content,n.setScale(r,r),n.setPosition(0,this.node.getComponent(u).contentSize.height/2,0),n.getComponent(w).init(e[t])}this.setAnim()}onCloseBtn(e){e.preventSwallow=!0,this.node.parent=null}setAnim(){this.node.scale=new p(0,0,0),h(this.node).to(.2,{scale:new p(1.1,1.1,1.1)}).to(.2,{scale:new p(1,1,1)}).start()}}).prototype,"rewardPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(R.prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"arrow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(R.prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=R))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Rotate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e._decorator,n=e.Component}],execute:function(){var s,a,c;o._RF.push({},"855d72owjxJyJvT3Amgw4rF","Rotate",void 0);const{ccclass:p,property:u}=i;e("Rotate",p("Misc/Rotate")((c=t((a=class extends n{constructor(){super(...arguments),r(this,"rotate_speed",c,this)}update(e){this.node.angle+=this.rotate_speed*e}}).prototype,"rotate_speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),s=a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/RulePopup.ts",["cc"],(function(e){var c,o,t;return{setters:[function(e){c=e.cclegacy,o=e.Component,t=e._decorator}],execute:function(){var u;c._RF.push({},"d9e9eL6jcVFAby5fj9QvYqf","RulePopup",void 0);const{ccclass:p,property:s}=t;e("RulePopup",p("RulePopup")(u=class extends o{show(){}})||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/SelectLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpriteEx.ts"],(function(e){var t,i,l,n,a,r,s,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,n=e.Label,a=e._decorator,r=e.Component},function(e){s=e.OpenPopupManager},function(e){o=e.Constants},function(e){c=e.SpriteEx}],execute:function(){var p,u,b,h,g,m,x,y,f,d,T;l._RF.push({},"6b797uAkf5AqbgjhxOtb25T","SelectLlamaItem",void 0);const{ccclass:_,property:v}=a;e("SelectLlamaItem",(p=_("SelectLlamaItem"),u=v(c),b=v(n),h=v(n),g=v(n),p((y=t((x=class extends r{constructor(){super(...arguments),i(this,"icon",y,this),i(this,"levelText",f,this),i(this,"idText",d,this),i(this,"energyText",T,this),this._llamaObj=null,this._callback=null}init(e,t){this._callback=t,this._llamaObj=e,this.icon.index=e.type-1,this.levelText.string=`Lv.${e.tapLevel}`,this.idText.string=`#${e.id}`,this.energyText.string=`${e.energy}/${e.maxEnergy}`}onSelectBtn(){s.instance.hide(o.PopupUI.MergeSelectPopup),this._callback(this._llamaObj)}}).prototype,"icon",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(x.prototype,"levelText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(x.prototype,"idText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(x.prototype,"energyText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./GameController.ts","./AudioManager.ts"],(function(e){var t,n,o,i,s,r,u,p,a,d,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e.Slider,s=e._decorator,r=e.Component,u=e.UITransform},function(e){p=e.OpenPopupManager},function(e){a=e.Constants},function(e){d=e.default},function(e){l=e.AudioManager}],execute:function(){var c,g,h,m,S,C,b;o._RF.push({},"1bba2nxlvZExKfutJRNi7Gy","SettingPopup",void 0);const{ccclass:f,property:P}=s;e("SettingPopup",(c=f("SettingPopup"),g=P(i),h=P(i),c((C=t((S=class extends r{constructor(){super(...arguments),n(this,"musicSlider",C,this),n(this,"soundSlider",b,this)}show(e){let t=l.instance.musicVolume,n=l.instance.soundVolume;this.musicSlider.progress=t,this.soundSlider.progress=n,this.musicSlider.node.getChildByName("bar").getComponent(u).width=t*this.musicSlider.node.getComponent(u).width,this.soundSlider.node.getChildByName("bar").getComponent(u).width=n*this.soundSlider.node.getComponent(u).width}onMusicEvent(e){let t=e.progress,n=e.node.getComponent(u).width;e.node.getChildByName("bar").getComponent(u).width=t*n,l.instance.setMusic(t)}onSoundEvent(e){let t=e.progress,n=e.node.getComponent(u).width;e.node.getChildByName("bar").getComponent(u).width=t*n,l.instance.setSound(t)}hidePopup(){d.resume(),p.instance.hide(a.PopupUI.SettingPopup)}onLangTouch(){p.instance.show(a.PopupUI.LanguagePopup)}onEnable(){}onDisable(){}}).prototype,"musicSlider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(S.prototype,"soundSlider",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=S))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,s,a,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e._decorator,a=e.Component,r=e.tween}],execute:function(){var l,o,h,c,u;i._RF.push({},"e0691X+SBtN0KDTyN2UKfST","Shake",void 0);const{ccclass:p,property:g}=s;e("Shake",p("Misc/Shake")((h=t((o=class extends a{constructor(){super(...arguments),n(this,"shakeAngle",h,this),n(this,"shakeInterval",c,this),n(this,"delay",u,this),this.tw=null}onEnable(){this.tw=r(this.node),this.tw.sequence(r(this.node).delay(this.delay),r(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),r(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),r(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),r(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),r(this.node).to(this.shakeInterval,{angle:0})).repeatForever().start()}onDisable(){this.node.angle=0,this.tw.stop(),this.tw=null}}).prototype,"shakeAngle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),c=t(o.prototype,"shakeInterval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),u=t(o.prototype,"delay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),l=o))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShelveBase.ts",["cc","./EventType.ts","./EventMgr.ts"],(function(e){var t,o,s,n,r;return{setters:[function(e){t=e.cclegacy,o=e.Component,s=e._decorator},function(e){n=e.EventType},function(e){r=e.EventMgr}],execute:function(){var c;t._RF.push({},"91431NpSmBJ07D5iie2aSZY","ShelveBase",void 0);const{ccclass:i,property:l}=s;e("ShelveBase",i("ScriptBase/ShelveBase")(c=class extends o{constructor(){super(...arguments),this.id=0}get Id(){return this.id}onLoad(){this.id=this.node.getSiblingIndex(),r.on(n.PlaceGoods,this.onPlaceGoods,this)}start(){}onDestroy(){this.unscheduleAllCallbacks(),r.off(n.PlaceGoods,this.onPlaceGoods,this)}init(e){}getSlot(e){return 0}onPlaceGoods(){}isSlotOccupied(e){return!1}isAllSlotOccupied(){return!1}get isEmpty(){return!1}createGoods(e,t,o){}placeGoods(e,t){}createLayerGoods(e,t){}removeGoods(e){}clear(){}get GoodsIdArr(){return[]}get GoodsInfo(){return null}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ShelveLocker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./EventMgr.ts","./EventType.ts","./ArrayUtil.ts","./SpriteEx.ts"],(function(t){var e,n,i,o,r,s,l,c,a,h,u,p,g,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,r=t.Label,s=t._decorator,l=t.Component,c=t.tween,a=t.v3,h=t.UIOpacity},function(t){u=t.GameMgr},function(t){p=t.EventMgr},function(t){g=t.EventType},function(t){b=t.ArrayUtil},function(t){d=t.SpriteEx}],execute:function(){var f,v,C,k,y,m,M,L,G,S,U;i._RF.push({},"407efhdSOBLO6CqneMtR77b","ShelveLocker",void 0);const{ccclass:x,property:B}=s;t("ShelveLocker",(f=x("Game/ShelveLocker"),v=B(o),C=B(r),k=B(d),y=B(o),f((L=e((M=class extends l{constructor(){super(...arguments),n(this,"lbBg",L,this),n(this,"lbCnt",G,this),n(this,"glass",S,this),n(this,"chain",U,this),this.unlockCnt=0}get UnlockCnt(){return this.unlockCnt}set UnlockCnt(t){this.unlockCnt=Math.max(0,t),this.lbCnt.string=`${t}`;this.unlockCnt;if(this.glass.index=1===this.unlockCnt?1:0,this.unlockCnt>0)return;this.lbBg.active=!1,this.lbCnt.node.active=!1,this.glass.node.active=!1,c(this.chain).by(.5,{position:a(0,-50,0)}).start();const e=this.chain.addComponent(h);c(e).to(.5,{opacity:0}).start(),this.scheduleOnce((()=>{this.node.destroy()}),.5)}onLoad(){this.lbCnt=this.getComponentInChildren(r),u.shelveLockerArr.push(this),p.on(g.MergeGoods,this.onMergeGoods,this)}onDestroy(){b.remove(u.shelveLockerArr,this),p.off(g.MergeGoods,this.onMergeGoods,this)}onMergeGoods(){this===u.shelveLockerArr[0]&&this.UnlockCnt--}onBtnUnlockClick(){}}).prototype,"lbBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(M.prototype,"lbCnt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(M.prototype,"glass",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(M.prototype,"chain",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=M))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShelveType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"29a84ZJ5HRIu6+PvPu8r9m+","ShelveType",void 0);e("ShelveType",function(e){return e[e.Empty=0]="Empty",e[e.Common=1]="Common",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ShopBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopData.ts","./ShopBoxSubItem.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var e,n,o,i,s,r,c,a,h,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,s=t.Prefab,r=t._decorator,c=t.Component,a=t.instantiate},function(t){h=t.ShopData},function(t){l=t.ShopBoxSubItem},function(t){p=t.EventListener},function(t){u=t.GameEvent}],execute:function(){var f,b,S,m,x,B,g;o._RF.push({},"b4f47qd6MtJHJVsRS0tYbg9","ShopBoxItem",void 0);const{ccclass:P,property:d}=r;t("ShopBoxItem",(f=P("ShopBoxItem"),b=d(i),S=d(s),f((B=e((x=class extends c{constructor(){super(...arguments),n(this,"content",B,this),n(this,"shopBoxSubPrefab",g,this)}init(){this.setShopBoxContent()}setShopBoxContent(){let t=h.instance.boxShop;if(t&&0!=t.length)if(this.content.children.length)this.content.children.forEach(((e,n)=>{const o=t[n];e.getComponent(l).init(o,n)}));else for(let e=0;e<t.length;e++){const n=t[e];let o=a(this.shopBoxSubPrefab);o.parent=this.content,o.getComponent(l).init(n,e)}}onEnable(){p.on(u.UPDATE_SHOP_BOX,this.init,this)}onDisable(){p.off(u.UPDATE_SHOP_BOX,this.init,this)}}).prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(x.prototype,"shopBoxSubPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=x))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopBoxOpenPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./SpriteEx.ts","./ShopData.ts","./EventListener.ts","./GameEvent.ts","./LanguageManager.ts"],(function(t){var e,n,i,o,r,s,a,p,l,u,c,h,b,m,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.ParticleSystem2D,r=t.Node,s=t.AnimationComponent,a=t.Label,p=t._decorator,l=t.Component},function(t){u=t.Constants},function(t){c=t.OpenPopupManager},function(t){h=t.SpriteEx},function(t){b=t.ShopData},function(t){m=t.EventListener},function(t){g=t.GameEvent},function(t){f=t.LanguageManager}],execute:function(){var x,y,d,P,S,w,_,v,A,B,E,I,O;i._RF.push({},"6b591n6h9lIWJCX0rsdsj21","ShopBoxOpenPopup",void 0);const{ccclass:D,property:C}=p;t("ShopBoxOpenPopup",(x=D("ShopBoxOpenPopup"),y=C(o),d=C(r),P=C(s),S=C(a),w=C(h),x((A=e((v=class extends l{constructor(){super(...arguments),n(this,"starAnim",A,this),n(this,"bg",B,this),n(this,"boxAnim",E,this),n(this,"title",I,this),n(this,"icon",O,this),this._rewards=[],this._boxItem=null}show(t,e){this._boxItem=t,this._rewards=e,this.title.string=f.instance.getLang("shop.chest");let n=b.instance.getItemCfgById(t.item.itemId);this.icon.index=n.quality,this.boxAnim.play(),this.boxAnim.on(s.EventType.FINISHED,(()=>{this.starAnim.resetSystem()}))}onCloseBtn(){c.instance.hide(u.PopupUI.ShopBoxOpenPopup),c.instance.showRewardPopup(this._rewards,null,(t=>{})),m.emit(g.UPDATE_SHOP_BOX)}}).prototype,"starAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(v.prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"boxAnim",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(v.prototype,"title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(v.prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopBoxSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./ShopData.ts","./LanguageManager.ts"],(function(t){var e,i,n,o,r,u,a,l,s,c,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,r=t.Node,u=t._decorator,a=t.Component,l=t.UITransform},function(t){s=t.SpriteEx},function(t){c=t.ShopData,b=t.ShopBuyType},function(t){h=t.LanguageManager}],execute:function(){var p,f,y,g,d,m,B,x,S,w,z,I,C,v,_,D,L,j,q,M,O;n._RF.push({},"f6c280DBMhPmbkBTf8f38Q5","ShopBoxSubItem",void 0);const{ccclass:P,property:k}=u;t("ShopBoxSubItem",(p=P("ShopBoxSubItem"),f=k(o),y=k(s),g=k(s),d=k(s),m=k(s),B=k(o),x=k(r),S=k(r),w=k(r),p((C=e((I=class extends a{constructor(){super(...arguments),i(this,"title",C,this),i(this,"bg",v,this),i(this,"bottomBg",_,this),i(this,"icon",D,this),i(this,"buyIcon",L,this),i(this,"fee",j,this),i(this,"countdown",q,this),i(this,"adBtn",M,this),i(this,"buyBtn",O,this),this._boxObj=null}init(t,e){this._boxObj=t,this.title.string=h.instance.getLang("shop.chest"+t.type);let i=c.instance.getItemCfgById(t.item.itemId);this.bg.index=i.quality,this.bottomBg.index=i.quality,this.icon.index=i.quality,t.key>0?(this.buyIcon.index=0==i.quality?1:2,this.fee.node.active=!1):(this.buyIcon.index=0,this.fee.node.active=!0,this.fee.string=`${t.price}`),t.adLimit>0?(this.adBtn.active=!0,this.buyBtn.getComponent(l).setContentSize(140,90)):(this.adBtn.active=!1,this.buyBtn.getComponent(l).setContentSize(200,90)),this.countdown.active=t.freeCountdown&&t.freeCountdown>0}onBuyBoxBtn(){c.instance.buyCardBox(this._boxObj,b.PAY)}onWatchAdBtn(){c.instance.buyCardBox(this._boxObj,b.AD)}}).prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(I.prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(I.prototype,"bottomBg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(I.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(I.prototype,"buyIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(I.prototype,"fee",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(I.prototype,"countdown",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(I.prototype,"adBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(I.prototype,"buyBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=I))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Util.ts","./ShopData.ts","./ShopCardSubItem.ts","./EventListener.ts","./GameEvent.ts","./LanguageManager.ts"],(function(t){var e,n,i,o,r,a,s,c,h,u,l,p,d,f,m,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Label,r=t.RichText,a=t.Node,s=t.Prefab,c=t._decorator,h=t.Component,u=t.instantiate},function(t){l=t.Util},function(t){p=t.ShopData},function(t){d=t.ShopCardSubItem},function(t){f=t.EventListener},function(t){m=t.GameEvent},function(t){S=t.LanguageManager}],execute:function(){var b,g,y,D,C,w,P,T,v,E,_;i._RF.push({},"cd6ad0uW7ZA/Ys1SmNwhbqR","ShopCardItem",void 0);const{ccclass:I,property:L}=c;t("ShopCardItem",(b=I("ShopCardItem"),g=L(o),y=L(r),D=L(a),C=L(s),b((T=e((P=class extends h{constructor(){super(...arguments),n(this,"time",T,this),n(this,"dayTimes",v,this),n(this,"content",E,this),n(this,"shopDaySubPrefab",_,this)}init(){this.setShopDayContent()}setShopDayContent(){if(!p.instance.cardShop)return;let t=p.instance.cardShop.items,e=0;for(e=0;e<t.length;e++){const n=t[e];if(this.content.children[e])this.content.children[e].getComponent(d).init(n);else{let t=u(this.shopDaySubPrefab);t.parent=this.content,t.getComponent(d).init(n)}}for(let t=this.content.children.length-1;t>=e;t--)this.content.children[t].removeFromParent();this.unschedule(this.updateTime),this.time.string=l.countdown(p.instance.cardShop.countdown),p.instance.cardShop.countdown>0&&this.schedule(this.updateTime,1),this.dayTimes.string="<b><color=#000>"+S.instance.getLang("shop.lefttoday")+`</color><color=#E88436>${p.instance.cardShop.refreshNum}</color><color=#ffffff></color></b>`}onRefreshBtn(){p.instance.refreshCardShop()}updateTime(){p.instance.cardShop&&(p.instance.cardShop.countdown<=0&&(p.instance.getShopInfo(),this.unschedule(this.updateTime)),p.instance.cardShop.countdown--,this.time.string=l.countdown(p.instance.cardShop.countdown))}onEnable(){f.on(m.UPDATE_SHOP_CARD,this.setShopDayContent,this)}onDisable(){f.off(m.UPDATE_SHOP_CARD,this.setShopDayContent,this),this.unschedule(this.updateTime)}}).prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(P.prototype,"dayTimes",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(P.prototype,"content",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"shopDaySubPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopCardSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./ResourcesUtil.ts","./SpriteEx.ts","./ShopData.ts","./LanguageManager.ts","./ItemCfg.ts","./CardData.ts"],(function(t){var i,e,n,o,s,r,a,u,l,h,c,p,m,f,g,b,d,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,s=t.Node,r=t.Sprite,a=t._decorator,u=t.Component,l=t.UITransform},function(t){h=t.Constants},function(t){c=t.OpenPopupManager},function(t){p=t.ResourcesUtil},function(t){m=t.SpriteEx},function(t){f=t.ShopData,g=t.ShopBuyType},function(t){b=t.LanguageManager},function(t){d=t.ItemType},function(t){y=t.CardData}],execute:function(){var I,C,_,L,S,w,v,x,z,k,D,F,P,q,M,B,R,T,E,U,$;n._RF.push({},"abf1dtuADZC+rYxGSpko0mw","ShopCardSubItem",void 0);const{ccclass:A,property:O}=a;t("ShopCardSubItem",(I=A("ShopCardSubItem"),C=O(o),_=O(o),L=O(o),S=O(s),w=O(r),v=O(m),x=O(m),z=O(s),k=O(s),I((P=i((F=class extends u{constructor(){super(...arguments),e(this,"title",P,this),e(this,"count",q,this),e(this,"fee",M,this),e(this,"flag",B,this),e(this,"icon",R,this),e(this,"qulity",T,this),e(this,"buyIcon",E,this),e(this,"soldout",U,this),e(this,"mask",$,this),this._shopItem=null,this._itemCfg=null,this._types=[],this._events=[]}init(t){this._shopItem=t,this._itemCfg=f.instance.getItemCfgById(t.item.itemId),this.mask.active=t.freeLimit>0||t.adLimit>0,this.title.string=b.instance.getLang(this._itemCfg.name),this.qulity.index=this._itemCfg.quality;let i=h.itemsPath+this._itemCfg.icon+"/spriteFrame";this._itemCfg.type==d.CardFragment&&(this.flag.active=!0,i=h.cardsPath+y.instance.getCardCfgById(this._itemCfg.dataId).icon+"/spriteFrame"),p.geSpriteFrame(i).then((t=>{this.icon.spriteFrame=t;let i=this.icon.getComponent(l).contentSize,e=Math.min(80/i.width,80/i.height);this.icon.node.setScale(e,e)})),this.count.string=`x${t.item.count}`,void 0===this._itemCfg.quality&&(this.qulity.getComponent(r).spriteFrame=null),this.buyIcon.node.active=!0,t.freeLimit>0?(this.buyIcon.index=0,this.buyIcon.node.active=!1,this.fee.string=b.instance.getLang("shop.free")):t.adLimit>0?(this.buyIcon.index=0,this.fee.string=""):t.buyLimit>0&&"gold"==t.token?(this.buyIcon.index=1,this.fee.string=`${t.price}`):(this.buyIcon.index=2,this.fee.string=`${t.price}`);let e=!0;(t.adLimit>0||t.freeLimit>0||t.buyLimit>0)&&(e=!1),this.soldout.active=e,this.buyIcon.node.parent.active=!e}getTokenIndex(t){return t.freeLimit>0||t.adLimit>0?0:t.buyLimit>0&&"gold"==t.token?1:2}onClickBtn(){let t=!0;(this._shopItem.adLimit>0||this._shopItem.freeLimit>0||this._shopItem.buyLimit>0)&&(t=!1),t?c.instance.showToast("shop.soldout"):this._shopItem.freeLimit>0?f.instance.buyCardItem(this._shopItem.id,g.FREE):this._shopItem.adLimit>0?f.instance.buyCardItem(this._shopItem.id,g.AD):c.instance.show(h.PopupUI.ShopItemPopup,this._shopItem)}}).prototype,"title",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(F.prototype,"count",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(F.prototype,"fee",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(F.prototype,"flag",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(F.prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(F.prototype,"qulity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(F.prototype,"buyIcon",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(F.prototype,"soldout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(F.prototype,"mask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=F))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./OpenPopupManager.ts","./LlamaData.ts","./Constants.ts","./CfgMgr.ts","./ItemCfg.ts","./PlayerData.ts"],(function(t){var o,i,s,a,e,n,h,d,r,c,p,u,S,l;return{setters:[function(t){o=t.cclegacy,i=t._decorator},function(t){s=t.HttpService},function(t){a=t.Api},function(t){e=t.EventListener},function(t){n=t.GameEvent},function(t){h=t.AdManager,d=t.AdType},function(t){r=t.OpenPopupManager},function(t){c=t.LlamaData},function(t){p=t.Constants},function(t){u=t.CfgMgr},function(t){S=t.ItemCfg},function(t){l=t.PlayerData}],execute:function(){var _,m;o._RF.push({},"76b90Q/XjRMp6KLdI/C3+EI","ShopData",void 0);const{ccclass:v}=i;t("ShopData",v("ShopData")(((m=class t{constructor(){this._llamaShop=null,this._cardShop=null,this._boxShop=[],this._goldShop=[],this._nextday=0}get llamaShop(){return this._llamaShop}get cardShop(){return this._cardShop}get boxShop(){return this._boxShop}get goldShop(){return this._goldShop}get nextday(){return this._nextday}set nextday(t){this._nextday-=t}getShopInfo(t){s.instance.post(a.SHOP_INFO).then((o=>{o&&0==o.code&&(this._llamaShop=o.data.llamaShop,this._boxShop=o.data.boxShop,this._cardShop=o.data.cardShop,this._goldShop=o.data.goldBoxShop,this._nextday=o.data.nextday,t&&t(),e.emit(n.UPDATE_SHOP_BOX),e.emit(n.UPDATE_SHOP_CARD),e.emit(n.UPDATE_SHOP_LLAMA),e.emit(n.UPDATE_SHOP_GOLD))}))}buyLlama(){this._buyLlama(y.PAY)}_buyLlama(t,o){let i=this._llamaShop.item.id;s.instance.post(a.SHOP_LLAMA_BUY,{itemId:i,type:t,sign:o}).then((t=>{e.emit(n.HIDE_LOADING),t&&0==t.code?(this._llamaShop=t.data.llamaShop,e.emit(n.UPDATE_SHOP_LLAMA),r.instance.show(p.PopupUI.ShopLlamaRewardPopup,[t.data.type]),c.instance.getLlamaInfo(),l.instance.getPlayerInfo()):r.instance.showToast(t.msg)}))}buyGold(t,o,i){o==y.AD?h.instance.showAd(d.SHOP_GOLD,0,((s,a)=>{0==s&&this._buyGold(t,o,a,i)})):this._buyGold(t,o,"sign",i)}_buyGold(t,o,i,h){s.instance.post(a.SHOP_GOLD_BUY,{itemId:t.id,type:o,sign:i}).then((t=>{t&&0==t.code?(this._goldShop=t.data.goldBoxShop,e.emit(n.UPDATE_SHOP_GOLD),r.instance.showRewardDoublePopup(t.data.rewards,h)):r.instance.showToast(t.msg)}))}buyCardBox(t,o){o==y.AD?h.instance.showAd(d.SHOP_BOX,0,((i,s)=>{0==i&&this._buyCardBox(t,o,s)})):this._buyCardBox(t,o)}_buyCardBox(t,o,i){s.instance.post(a.SHOP_CARDBOX_BUY,{itemId:t.id,type:o,sign:i}).then((o=>{o&&0==o.code?(this._boxShop=o.data.boxShop,e.emit(n.UPDATE_SHOP_BOX),e.emit(n.REQUEST_CARD_DATA),r.instance.show(p.PopupUI.ShopBoxOpenPopup,t,o.data.rewards)):r.instance.showToast(o.msg)}))}buyLlamaWithAd(){h.instance.showAd(d.SHOP_LLAMA,0,((t,o)=>{0==t&&this._buyLlama(y.AD,o)}))}refreshCardShop(){h.instance.showAd(d.SHOP_CARD_REFRESH,0,((t,o)=>{0==t&&s.instance.post(a.SHOP_CARD_REFRESH,{sign:o}).then((t=>{0==t.code&&this.updateCardShop(t.data)}))}))}getItemCfgById(t){return u.getDataById(new S,t)}updateCardShop(t){this._cardShop=t,e.emit(n.UPDATE_SHOP_CARD)}buyCardItem(t,o,i){o==y.AD?h.instance.showAd(d.SHOP_CARD,0,((i,s)=>{0==i&&this._buyCardItem(t,o,s)})):this._buyCardItem(t,o)}_buyCardItem(t,o,i){s.instance.post(a.SHOP_CARD_BUY,{itemId:t,type:o,sign:i}).then((t=>{0==t.code?(r.instance.showRewardPopup(t.data.rewards,null),e.emit(n.REQUEST_CARD_DATA),this.updateCardShop(t.data.cardShop)):r.instance.showToast(t.msg)}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,_=m))||_);let y=t("ShopBuyType",function(t){return t.PAY="pay",t.FREE="free",t.AD="ad",t}({}));t("ShopInfoObj",class{constructor(){this.llamaShop=void 0,this.boxShop=void 0,this.cardShop=void 0,this.goldBoxShop=void 0,this.nextday=void 0}});t("LlamaShopObj",class{constructor(){this.item=void 0,this.adLimit=void 0,this.curLlamaNum=void 0,this.feedLimit=void 0,this.llamaWeights=void 0}});t("CardShopObj",class{constructor(){this.items=void 0,this.refreshNum=void 0,this.countdown=void 0}});t("ShopItemObj",class{constructor(){this.id=void 0,this.item=void 0,this.price=void 0,this.token=void 0,this.name=void 0,this.freeLimit=void 0,this.adLimit=void 0,this.buyLimit=void 0,this.bonus=void 0}});t("BoxShopObj",class{constructor(){this.boxes=void 0}});t("BoxItemObj",class{constructor(){this.id=void 0,this.freeCountdown=void 0,this.item=void 0,this.price=void 0,this.token=void 0,this.type=void 0,this.adLimit=void 0,this.freeLimit=void 0,this.buyLimit=void 0,this.key=void 0}});t("ShopBuyLlamaResult",class{constructor(){this.type=void 0,this.llamaShop=void 0}});t("ShopBuyBoxResult",class{constructor(){this.rewards=void 0,this.boxShop=void 0}});t("ShopBuyCardResult",class{constructor(){this.rewards=void 0,this.cardShop=void 0}});t("ShopBuyGoldResult",class{constructor(){this.rewards=void 0,this.goldBoxShop=void 0}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopGoldItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopData.ts","./EventListener.ts","./GameEvent.ts","./ShopGoldSubItem.ts"],(function(t){var e,n,o,i,r,s,l,a,c,p,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,r=t.Prefab,s=t._decorator,l=t.Component,a=t.instantiate},function(t){c=t.ShopData},function(t){p=t.EventListener},function(t){u=t.GameEvent},function(t){h=t.ShopGoldSubItem}],execute:function(){var b,f,S,d,m,G,D;o._RF.push({},"056b3z3bpxDdbN9a0+oTWNI","ShopGoldItem",void 0);const{ccclass:P,property:v}=s;t("ShopGoldItem",(b=P("ShopGoldItem"),f=v(i),S=v(r),b((G=e((m=class extends l{constructor(){super(...arguments),n(this,"content",G,this),n(this,"shopGoldSubPrefab",D,this)}init(){this.setShopBoxContent()}setShopBoxContent(){let t=c.instance.goldShop;if(this.content.removeAllChildren(),t&&t.length>0){let e=a(this.shopGoldSubPrefab);e.parent=this.content,e.getComponent(h).init(t[0])}}onEnable(){p.on(u.UPDATE_SHOP_GOLD,this.init,this)}onDisable(){p.off(u.UPDATE_SHOP_GOLD,this.init,this)}}).prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(m.prototype,"shopGoldSubPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopGoldSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopData.ts","./LanguageManager.ts"],(function(t){var e,o,n,i,r,s,a,c,l,p,u,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.RichText,r=t.Label,s=t.Node,a=t._decorator,c=t.Component,l=t.UITransform,p=t.Vec3},function(t){u=t.ShopData,h=t.ShopBuyType},function(t){b=t.LanguageManager}],execute:function(){var f,d,y,g,m,S,B,_,L;n._RF.push({},"f11d1/jwIxJZaPSeZbQPw/W","ShopGoldSubItem",void 0);const{ccclass:j,property:T}=a;t("ShopGoldSubItem",(f=j("ShopGoldSubItem"),d=T(i),y=T(r),g=T(s),f((B=e((S=class extends c{constructor(){super(...arguments),o(this,"dayTimes",B,this),o(this,"price",_,this),o(this,"buyBtn",L,this),this._shopObj=null}init(t){this._shopObj=t,this.price.string=t.freeLimit?b.instance.getLang("shop.free"):`x${t.price}`,this.setShopBoxContent()}setShopBoxContent(){this.dayTimes.string="<b><color=#000>"+b.instance.getLang("shop.lefttoday")+`</color><color=#E88436>${this._shopObj.adLimit}</color><color=#ffffff></color></b>`}onBuyGoldBtn(){let t=this.buyBtn.getComponent(l).convertToWorldSpaceAR(new p(0,0,0));u.instance.buyGold(this._shopObj,this._shopObj.freeLimit>0?h.FREE:h.PAY,t)}onWatchAdBtn(){let t=this.buyBtn.getComponent(l).convertToWorldSpaceAR(new p(0,0,0));u.instance.buyGold(this._shopObj,h.AD,t)}}).prototype,"dayTimes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(S.prototype,"buyBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItemPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventListener.ts","./OpenPopupManager.ts","./ResourcesUtil.ts","./SpriteEx.ts","./GameEvent.ts","./ShopData.ts","./LanguageManager.ts","./ItemCfg.ts","./CardData.ts"],(function(t){var e,i,n,o,s,r,a,l,u,c,p,h,f,g,m,b,d,y,C,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,s=t.Node,r=t.Sprite,a=t._decorator,l=t.Component,u=t.UITransform},function(t){c=t.Constants},function(t){p=t.EventListener},function(t){h=t.OpenPopupManager},function(t){f=t.ResourcesUtil},function(t){g=t.SpriteEx},function(t){m=t.GameEvent},function(t){b=t.ShopData,d=t.ShopBuyType},function(t){y=t.LanguageManager},function(t){C=t.ItemType},function(t){_=t.CardData}],execute:function(){var I,P,S,L,w,E,v,z,B,D,O,M,k,x,F,T,U,q,R;n._RF.push({},"5427dofwItDNLAYN/Y2XThk","ShopItemPopup",void 0);const{ccclass:H,property:N}=a;t("ShopItemPopup",(I=H("ShopItemPopup"),P=N(o),S=N(o),L=N(o),w=N(o),E=N(s),v=N(r),z=N(g),B=N(g),I((M=e((O=class extends l{constructor(){super(...arguments),i(this,"title",M,this),i(this,"count",k,this),i(this,"fee",x,this),i(this,"desc",F,this),i(this,"flag",T,this),i(this,"icon",U,this),i(this,"qulity",q,this),i(this,"buyIcon",R,this),this._shopItem=null,this._itemCfg=null,this._callback=null,this._tokens=["ad","gold","diamond","ton"]}show(t,e){this._itemCfg=b.instance.getItemCfgById(t.item.itemId),this._callback=e,this._shopItem=t,this.title.string=y.instance.getLang(this._itemCfg.name),this.count.string=`${t.item.count}`,this.qulity.index=this._itemCfg.quality?this._itemCfg.quality:0,this.buyIcon.index=this._tokens.indexOf(t.token),this.fee.string=t.price?`${t.price}`:y.instance.getLang("shop.free"),this.flag.active=this._itemCfg.type==C.CardFragment,this.desc.string=y.instance.getLang(this._itemCfg.desc);let i="";this._itemCfg.type==C.CardFragment&&(this.flag.active=!0,i=c.cardsPath+_.instance.getCardCfgById(this._itemCfg.dataId).icon+"/spriteFrame"),f.geSpriteFrame(i).then((t=>{this.icon.spriteFrame=t;let e=this.icon.getComponent(u).contentSize,i=Math.min(80/e.width,80/e.height);this.icon.node.setScale(i,i)}))}onCloseBtn(){h.instance.hide(c.PopupUI.ShopItemPopup)}onBuyBtn(){b.instance.buyCardItem(this._shopItem.id,d.PAY)}onEnable(){p.on(m.CLOSE_SHOP_ITEM_POPUP,this.onCloseBtn,this)}onDisable(){p.off(m.CLOSE_SHOP_ITEM_POPUP,this.onCloseBtn,this)}}).prototype,"title",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(O.prototype,"count",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"fee",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(O.prototype,"desc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(O.prototype,"flag",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(O.prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(O.prototype,"qulity",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(O.prototype,"buyIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=O))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLlamaItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(t){var i,e,s,h,o,a,n,r,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,h=t.sp,o=t._decorator,a=t.v3,n=t.Vec3,r=t.tween},function(t){c=t.default}],execute:function(){var l,d,m,u,p;s._RF.push({},"bee36TQCOtHJJjTXP1mFYTo","ShopLlamaItem",void 0);const{ccclass:v,property:M}=o;t("ShopLlamaItem",(l=v("ShopLlamaItem"),d=M(h.Skeleton),l((p=i((u=class extends c{constructor(){super(...arguments),e(this,"icon",p,this),this.dir=a(-1,-1,0),this.curPos=new n,this.isMove=!1,this._scale=.3,this.width=52,this.height=89,this.viewWidth=700,this.viewHeight=700}init(t,i,e){this.viewWidth=i,this.viewHeight=e;let s="skin"+t;this.icon.node.active=!1,r(this.node).delay(.2).call((()=>{this.icon.node.active=!0,this.icon.setSkin(s);let t=new n(300*Math.random(),300*Math.random(),0);this.node.setPosition(t),this.dir.x=Math.random()>.5?1:-1,1==this.dir.x?this.icon.node.setScale(-this._scale,this._scale):this.icon.node.setScale(this._scale,this._scale),this.isMove=!0})).start()}childUpdate(t){this.llamaMoveFrame(t)}llamaMoveFrame(t){if(this.isMove){let i=60*Math.random()+30,e=this.node.getPosition(),s=this.dir.clone();this.curPos.x<-this.viewWidth/2+this.width?(s.x=1,s.y=Math.random(),this.dir=s.normalize(),this.icon.node.setScale(-this._scale,this._scale)):this.curPos.x>this.viewWidth/2-this.width?(s.x=-1,s.y=Math.random(),this.dir=s.normalize(),this.icon.node.setScale(this._scale,this._scale)):this.curPos.y<-this.viewHeight/2+this.height?(s.y=1,s.x=s.x>0?Math.random():-Math.random(),this.dir=s.normalize()):this.curPos.y>this.viewHeight/2-this.height&&(s.y=-1,s.x=s.x>0?Math.random():-Math.random(),this.dir=s.normalize());let h=s.multiply(a(i*t,i*t,0)),o=e.add(h);this.node.setPosition(o),this.curPos=o}}}).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=u))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLlamaPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopData.ts","./ShopLlamaItem.ts","./LanguageManager.ts","./GameEvent.ts","./EventListener.ts","./OpenPopupManager.ts","./Constants.ts","./Util.ts","./ComTipsPopup.ts","./GuideData.ts"],(function(t){var e,n,i,a,o,s,l,c,u,p,r,h,m,d,b,f,g,L,P,_,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,o=t.Prefab,s=t.Label,l=t.RichText,c=t._decorator,u=t.Component,p=t.instantiate},function(t){r=t.ShopData},function(t){h=t.ShopLlamaItem},function(t){m=t.LanguageManager},function(t){d=t.GameEvent},function(t){b=t.EventListener},function(t){f=t.OpenPopupManager},function(t){g=t.Constants},function(t){L=t.Util},function(t){P=t.ComTipsObj},function(t){_=t.GuideData,S=t.GuideStep}],execute:function(){var y,T,I,A,C,w,E,U,G,x,D,B,M,N,v,z,O,k,R,H,W;i._RF.push({},"d7955C2RdVIwbJtGGGzqNDi","ShopLlamaPopup",void 0);const{ccclass:Y,property:$}=c;t("ShopLlamaPopup",(y=Y("ShopLlamaPopup"),T=$(a),I=$(o),A=$(a),C=$(a),w=$(s),E=$(l),U=$(l),G=$(s),x=$(s),y((M=e((B=class extends u{constructor(){super(...arguments),n(this,"content",M,this),n(this,"llamaItemPrefab",N,this),n(this,"adBtn",v,this),n(this,"buyBtn",z,this),n(this,"priceText",O,this),n(this,"adText",k,this),n(this,"buyNum",R,this),n(this,"timeText",H,this),n(this,"llamaNumText",W,this),this._canClick=!1}show(){r.instance.getShopInfo(),this.content.removeAllChildren();for(let e=1;e<=5;e++){var t=p(this.llamaItemPrefab);t.getComponent(h).init(e,600,600),t.parent=this.content}this.onUpdateContent(),_.instance.guideMode&&_.instance.curStep==S.GUIDE_STEP2_BUY_LLAMA_PAGE?this.scheduleOnce((()=>{f.instance.showGuidePopup(this.buyBtn)}),.2):this._canClick=!0}onUpdateContent(){let t=r.instance.llamaShop;t&&t.item?(b.emit(d.HIDE_LOADING),this.priceText.string=`${t.item.price}`,this.adText.string="<b><color=#000>"+m.instance.getLang("shop.lefttoday")+`</color><color=#E88436>${t.item.adLimit}</color><color=#ffffff></color></b>`,this.buyNum.string="<b><color=#000>"+m.instance.getLang("shop.todaybuynum")+`</color><color=#E88436>${t.item.buyLimit}</color><color=#ffffff></color></b>`,this.timeText.string=L.countdown(r.instance.nextday),this.llamaNumText.string=m.instance.getLang("shop.llamalimit",[t.curLlamaNum,t.feedLimit]),this.unschedule(this.updateTime),this.schedule(this.updateTime,1)):_.instance.guideMode||b.emit(d.SHOW_LOADING)}updateTime(){r.instance.nextday<=0&&(r.instance.getShopInfo(),this.unschedule(this.updateTime)),r.instance.nextday=1,this.timeText.string=L.countdown(r.instance.nextday)}onBuyBtn(){_.instance.curStep==S.GUIDE_STEP2_BUY_LLAMA_PAGE?(_.instance.curStep=1,f.instance.hide(g.PopupUI.GuidePopup),this._canClick=!0,f.instance.show(g.PopupUI.ShopLlamaRewardPopup,[1,2,3,4,5])):(f.instance.showLoadingPopup(),r.instance.llamaShop?r.instance.buyLlama():r.instance.getShopInfo((()=>{r.instance.buyLlama()})))}onWatchBtn(){this._canClick&&r.instance.buyLlamaWithAd()}onTipsBtn(){if(!this._canClick)return;let t=new P;t.desc=m.instance.getLang("shop.llamaweight",r.instance.llamaShop.llamaWeights),f.instance.showComTipsPopup(t,(()=>{}))}onCloseBtn(){if(_.instance.curStep==S.GUIDE_STEP2_BUY_LLAMA_PAGE)return _.instance.curStep=1,f.instance.hide(g.PopupUI.GuidePopup),this._canClick=!0,void f.instance.show(g.PopupUI.ShopLlamaRewardPopup,[1,2,3,4,5]);this._canClick&&(f.instance.hide(g.PopupUI.ShopLlamaPopup),_.instance.curStep==S.GUIDE_STEP3_BUY_LLAMA_ACTION&&(_.instance.curStep=1,b.emit(d.GUIDE_ACTION)))}onEnable(){b.on(d.UPDATE_SHOP_LLAMA,this.onUpdateContent,this)}onDisable(){b.off(d.UPDATE_SHOP_LLAMA,this.onUpdateContent,this)}}).prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(B.prototype,"llamaItemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(B.prototype,"adBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(B.prototype,"buyBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(B.prototype,"priceText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(B.prototype,"adText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(B.prototype,"buyNum",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"timeText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(B.prototype,"llamaNumText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=B))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLlamaRewardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts"],(function(e){var t,a,i,n,l,o,s,p,r,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,l=e.sp,o=e._decorator,s=e.Component,p=e.tween},function(e){r=e.OpenPopupManager},function(e){c=e.Constants}],execute:function(){var u,h,m,d,L,g,b,f,w;i._RF.push({},"84ebc/H7XJAaatiF4weX9aE","ShopLlamaRewardPopup",void 0);const{ccclass:v,property:P}=o;e("ShopLlamaRewardPopup",(u=v("ShopLlamaRewardPopup"),h=P(n),m=P(n),d=P(l.Skeleton),u((b=t((g=class extends s{constructor(){super(...arguments),a(this,"singleLlama",b,this),a(this,"multipleLlama",f,this),a(this,"icon",w,this)}show(e){if(1==e.length){this.singleLlama.active=!0,this.multipleLlama.active=!1;let t="skin"+e[0];this.icon.node.active=!1,p(this.node).delay(.1).call((()=>{this.icon.setSkin(t),this.icon.node.active=!0})).start()}else this.singleLlama.active=!1,this.multipleLlama.active=!0}onCloseBtn(){r.instance.hide(c.PopupUI.ShopLlamaRewardPopup)}}).prototype,"singleLlama",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(g.prototype,"multipleLlama",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(g.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=g))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./ShopData.ts","./ResourcesUtil.ts"],(function(t){var e,o,n,i,s,p,l,r,c,a,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node,s=t.ScrollView,p=t._decorator,l=t.Component,r=t.instantiate},function(t){c=t.OpenPopupManager},function(t){a=t.Constants},function(t){h=t.ShopData},function(t){u=t.ResourcesUtil}],execute:function(){var f,g,P,_,d,C,b;n._RF.push({},"4fb9fuLKiFBa47UZZM02Zh1","ShopPopup",void 0);const{ccclass:S,property:m}=p;t("ShopPopup",(f=S("ShopPopup"),g=m(i),P=m(s),f((C=e((d=class extends l{constructor(){super(...arguments),o(this,"content",C,this),o(this,"scrollView",b,this),this._flag=!1,this._popup=["shopBoxItem","shopGoldItem","shopCardItem"]}show(){h.instance.getShopInfo(),this.setContentList()}async setContentList(){if(this._flag||this.content.children.length){if(this.content.children.length==this._popup.length)for(let t=0;t<this._popup.length;t++){const e=this._popup[t];let o=e[0].toUpperCase()+e.slice(1);this.content.children[t].getComponent(o).init()}}else{this._flag=!0;for(let t=0;t<this._popup.length;t++){const e=this._popup[t];let o=a.shopPreabPath+e;await u.getPrefab(o).then((t=>{let o=r(t);o.parent=this.content;let n=e[0].toUpperCase()+e.slice(1);o.getComponent(n).init()}))}}this.scrollView.scrollToTop()}onCloseBtn(){c.instance.hide(a.PopupUI.ShopPopup)}}).prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(d.prototype,"scrollView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/SigninData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./OpenPopupManager.ts","./PlayerData.ts"],(function(t){var i,n,s,a,e,o,c,d,r,g;return{setters:[function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.HttpService},function(t){a=t.Api},function(t){e=t.EventListener},function(t){o=t.GameEvent},function(t){c=t.AdManager,d=t.AdType},function(t){r=t.OpenPopupManager},function(t){g=t.PlayerData}],execute:function(){var h,u;i._RF.push({},"dae8aevUOZDUowMPwuQQaAo","SigninData",void 0);const{ccclass:y,property:_}=n;t("SigninData",y("SigninData")(((u=class t{constructor(){this._dayObjs=[],this._nextday=0,this._isSign=!1,this._signDay=0}get dayObjs(){return this._dayObjs}get isSign(){return this._isSign}get signDay(){return this._signDay}get nextday(){return this._nextday}set nextday(t){this._nextday-=t}getSigninInfo(){s.instance.post(a.SIGNIN_INFO).then((t=>{t&&0==t.code&&(this._dayObjs=t.data.days,this._nextday=t.data.nextday,this._isSign=t.data.isSign,this._signDay=t.data.signDay,e.emit(o.UPDTAE_SIGNIN_DATA))}))}claim(t,i){t?c.instance.showAd(d.SIGNIN_CLAIM,0,((t,n)=>{0==t&&this._claim(n,i)})):this._claim("",i)}_claim(t,i){s.instance.post(a.SIGNIN_CLAIM,{sign:t}).then((t=>{t&&0==t.code?(r.instance.showRewardAnimPopup(t.data.rewards,i),this._dayObjs=t.data.signInfo.days,this._nextday=t.data.signInfo.nextday,this._isSign=t.data.signInfo.isSign,this._signDay=t.data.signInfo.signDay,e.emit(o.UPDTAE_SIGNIN_DATA),g.instance.getPlayerInfo()):r.instance.showToast(t.msg)}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,h=u))||h);t("SigninInfoResult",class{constructor(){this.days=void 0,this.isSign=void 0,this.nextday=void 0,this.signDay=void 0}});t("SigninClaimResult",class{constructor(){this.rewards=void 0,this.signInfo=void 0}});t("SigninState",function(t){return t[t.PENDING=-1]="PENDING",t[t.CLAIMABLE=0]="CLAIMABLE",t[t.CLAIMED=1]="CLAIMED",t[t.DOUBLE=2]="DOUBLE",t}({}));t("SigninDayItemObj",class{constructor(){this.day=void 0,this.state=void 0,this.rewards=void 0}});t("SpinClaimResult",class{constructor(){this.spinId=void 0,this.itemId=void 0,this.count=void 0,this.success=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/SignInItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SigninData.ts","./ItemData.ts","./ResourcesUtil.ts"],(function(t){var e,i,n,a,r,l,s,o,c,u,h,m,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Label,r=t.Node,l=t._decorator,s=t.Component,o=t.instantiate,c=t.Sprite,u=t.UITransform},function(t){h=t.SigninState,m=t.SigninData},function(t){g=t.ItemData},function(t){p=t.ResourcesUtil}],execute:function(){var d,b,y,I,f,S,w,C,D,v,z,B,M,N,A,L,R;n._RF.push({},"005fa4MQlRBKYmm+J4PU4Gj","SignInItem",void 0);const{ccclass:k,property:F}=l;t("SignInItem",(d=k("SignInItem"),b=F(a),y=F(r),I=F(r),f=F(r),S=F(a),w=F(r),C=F(r),d((z=e((v=class extends s{constructor(){super(...arguments),i(this,"day",z,this),i(this,"light",B,this),i(this,"checked",M,this),i(this,"active",N,this),i(this,"count",A,this),i(this,"rewardItem",L,this),i(this,"items",R,this)}init(t){this.day.string="DAY"+t.day,this.checked.active=t.state==h.CLAIMED;let e=m.instance.isSign?m.instance.signDay:m.instance.signDay+1,i=e==t.day;this.light.active=!(t.state==h.CLAIMED||!i||7==e),this.active.active=!(t.state==h.CLAIMED||!i),this.items.removeAllChildren();for(let e=0;e<t.rewards.length;e++){let i=t.rewards[e],n=o(this.rewardItem);n.getChildByName("count").getComponent(a).string=g.instance.toNumber(i.itemId,i.count);let r=g.instance.getIconPath(i.itemId);p.geSpriteFrame(r).then((t=>{n.getChildByName("icon").getComponent(c).spriteFrame=t;let e=n.getChildByName("icon").getComponent(u).contentSize,i=Math.min(100/e.width,100/e.height);n.getChildByName("icon").setScale(i,i)})),n.active=!0,n.parent=this.items}}onClaimBtn(){}}).prototype,"day",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(v.prototype,"light",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(v.prototype,"checked",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(v.prototype,"active",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(v.prototype,"count",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"rewardItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(v.prototype,"items",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=v))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/SignInPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./SigninData.ts","./GameEvent.ts","./EventListener.ts","./SignInItem.ts","./Util.ts"],(function(t){var n,e,i,s,o,a,c,r,l,u,p,h,g,m,d,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,o=t.Label,a=t._decorator,c=t.Component,r=t.UITransform,l=t.Vec3},function(t){u=t.Constants},function(t){p=t.OpenPopupManager},function(t){h=t.SigninData},function(t){g=t.GameEvent},function(t){m=t.EventListener},function(t){d=t.SignInItem},function(t){b=t.Util}],execute:function(){var f,S,T,I,v,y,x,C,D;i._RF.push({},"e206bmh13ZDvJbK1fi4IW+3","SignInPopup",void 0);const{ccclass:P,property:A}=a;t("SignInPopup",(f=P("SignInPopup"),S=A(s),T=A(o),I=A(s),f((x=n((y=class extends c{constructor(){super(...arguments),e(this,"content",x,this),e(this,"timeText",C,this),e(this,"buttons",D,this)}show(){h.instance.getSigninInfo(),this.setContent()}setContent(){let t=h.instance.dayObjs;if(0==t.length)this.content.active=!1;else{for(let n=0;n<this.content.children.length;n++){this.content.children[n].getComponent(d).init(t[n])}this.content.active=!0}h.instance.isSign?(this.buttons.active=!1,this.timeText.string=b.timeToStrings(h.instance.nextday),this.timeText.node.parent.active=!0,this.unschedule(this.updateTime),this.schedule(this.updateTime,1)):(this.buttons.active=!0,this.timeText.node.parent.active=!1)}updateTime(){h.instance.nextday<=0&&(h.instance.getSigninInfo(),this.unschedule(this.updateTime)),h.instance.nextday=1,this.timeText.string=b.timeToStrings(h.instance.nextday)}onClaimBtn(){let t=this.buttons.children[0].getComponent(r).convertToWorldSpaceAR(new l(0,0,0));h.instance.claim(!1,t)}onDoubleBtn(){let t=this.buttons.children[1].getComponent(r).convertToWorldSpaceAR(new l(0,0,0));h.instance.claim(!0,t)}onCloseBtn(){p.instance.hide(u.PopupUI.SignInPopup)}onEnable(){m.on(g.UPDTAE_SIGNIN_DATA,this.setContent,this)}onDisable(){m.off(g.UPDTAE_SIGNIN_DATA,this.setContent,this)}}).prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(y.prototype,"timeText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(y.prototype,"buttons",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillMgr.ts","./SkillType.ts","./UIMgr.ts","./UI.ts","./EventType.ts","./ResMgr.ts","./Bundle.ts","./CfgSkillInfo.ts","./GameMgr.ts","./Shake.ts","./Breath.ts","./EventMgr.ts"],(function(e){var t,i,n,l,o,s,r,a,c,u,k,p,h,d,S,f,C,g,b,B,m,y,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,l=e.Label,o=e._decorator,s=e.Component,r=e.macro,a=e.Node,c=e.Sprite,u=e.tween,k=e.v3},function(e){p=e.SkillMgr},function(e){h=e.SkillType},function(e){d=e.UIMgr},function(e){S=e.UI},function(e){f=e.EventType},function(e){C=e.ResMgr},function(e){g=e.Bundle},function(e){b=e.CfgSkillInfo},function(e){B=e.GameMgr},function(e){m=e.Shake},function(e){y=e.Breath},function(e){T=e.EventMgr}],execute:function(){var v,E,G,M,R,P,U,F,z;n._RF.push({},"93480bxfVNGMKQ3vN79UNe2","SkillBox",void 0);const{ccclass:D,property:I}=o;e("SkillBox",(v=D("Game/SkillBox"),E=I([l]),G=I(y),M=I(m),v((U=t((P=class extends s{constructor(){super(...arguments),i(this,"skillCntTips",U,this),i(this,"tipBreath",F,this),i(this,"iconShake",z,this)}onLoad(){T.on(f.UpdateSkillCnt,this.onUpdateSkillCnt,this),T.on(f.AddSkill,this.onAddSkill,this)}start(){for(let e=0;e<this.skillCntTips.length;e++){const t=this.skillCntTips[e],i=p.skillCnt(e);t.string=`${i}`,t.node.parent.active=i>0}this.schedule(this.onCheckStuck,1,r.REPEAT_FOREVER)}onDestroy(){T.off(f.UpdateSkillCnt,this.onUpdateSkillCnt,this),T.off(f.AddSkill,this.onAddSkill,this)}onCheckStuck(){const e=B.isStucked;this.tipBreath.node.active=e,this.tipBreath.enabled=e,this.iconShake.enabled=e}onUpdateSkillCnt(e,t){const i=this.skillCntTips[e];i.string=`${t}`,i.node.parent.active=t>0}onAddSkill(e){const t=new a;t.addComponent(c).spriteFrame=C.getSpriteFrame(g.Icon,g.IconPath+b[e].icon),this.node.parent.addChild(t);const i=this.node.children[e],n=u(t);n.set({scale:k(0,0,0)}),n.to(.2,{scale:k(1,1,1)},{easing:"backOut"}),n.delay(.1),n.parallel(u(t).to(.5,{worldPosition:i.worldPosition}),u(t).to(.5,{scale:k(.5,.5,.5)})),n.call((()=>{t.destroy(),u(i).to(.2,{scale:k(1.2,1.2,1)}).to(.2,{scale:k(1,1,1)}).start()})),n.start()}onBtnFreezeTimeClick(){p.hasSkill(h.FreezeTime)?p.useSkill(h.FreezeTime):d.open(S.GetSkill,h.FreezeTime)}onBtnEraseOneGroupClick(){p.hasSkill(h.EraseGroup)?p.useSkill(h.EraseGroup):d.open(S.GetSkill,h.EraseGroup)}onBtnRefreshPositionClick(){p.hasSkill(h.RefreshPosition)?p.useSkill(h.RefreshPosition):d.open(S.GetSkill,h.RefreshPosition)}onBtnDoubleCoinClick(){p.hasSkill(h.DoubleCoin)?p.useSkill(h.DoubleCoin):d.open(S.GetSkill,h.DoubleCoin)}}).prototype,"skillCntTips",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(P.prototype,"tipBreath",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"iconShake",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=P))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillMgr.ts",["cc","./CfgItem.ts","./GoodData.ts","./EventType.ts","./SkillType.ts","./EventMgr.ts"],(function(e){var t,i,s,l,n,r,a;return{setters:[function(e){t=e.cclegacy},function(e){i=e.CfgItem},function(e){s=e.GoodData},function(e){l=e.EventType},function(e){n=e.SkillType,r=e.SkillName},function(e){a=e.EventMgr}],execute:function(){t._RF.push({},"ebd6boERdNL75qVTl20uuad","SkillMgr",void 0);e("SkillMgr",class{static useSkill(e){let t=r[e],i=s.instance.getItem(t.toLowerCase())-1;switch(s.instance.useItem(t.toLowerCase()),a.emit(l.UpdateSkillCnt,e,i),e){case n.FreezeTime:a.emit(l.UseSkillFreezeTime);break;case n.EraseGroup:a.emit(l.UseSkillEraseGroup);break;case n.RefreshPosition:a.emit(l.UseSkillRefreshPosition);break;case n.DoubleCoin:a.emit(l.UseSkillDoubleCoin)}}static addSkill(e,t){let i=r[e],o=s.instance.getItem(i.toLowerCase());switch(a.emit(l.UpdateSkillCnt,e,o),a.emit(l.AddSkill,e),e){case n.FreezeTime:a.emit(l.AddSkillFreezeTime);break;case n.EraseGroup:a.emit(l.AddSkillEraseOneGroup);break;case n.RefreshPosition:a.emit(l.AddSkillRefreshPosition);break;case n.DoubleCoin:a.emit(l.AddSkillDoubleCoin)}}static hasSkill(e){let t=r[e];return s.instance.getItem(t.toLowerCase())>0}static skillCnt(e){let t=r[e];return s.instance.getItem(t.toLowerCase())}static getSkillId(e){for(let t=0;t<i.length;t++){const s=i[t];if(s?.skillType===e)return s.id}return-1}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillType.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"5202ayziTNFR6xv9T1pHCZ9","SkillType",void 0);e("SkillType",function(e){return e[e.FreezeTime=0]="FreezeTime",e[e.EraseGroup=1]="EraseGroup",e[e.RefreshPosition=2]="RefreshPosition",e[e.DoubleCoin=3]="DoubleCoin",e}({}));e("SkillName",["Freeze","Clear","Refresh","Double"]);i._RF.pop()}}}));

System.register("chunks:///_virtual/SmallShelve.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bundle.ts","./ResMgr.ts","./GameMgr.ts","./ShelveBase.ts","./GlobalGood.ts","./Goods.ts"],(function(e){var t,o,s,r,n,i,l,a,d,c,h,p,y,u,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,r=e.ProgressBar,n=e.Node,i=e._decorator,l=e.macro,a=e.instantiate,d=e.v3},function(e){c=e.Bundle},function(e){h=e.ResMgr},function(e){p=e.GameMgr},function(e){y=e.ShelveBase},function(e){u=e.GlobalGood},function(e){G=e.Goods}],execute:function(){var f,g,m,M,S,b,C;s._RF.push({},"15e5co2VL1IG7Xd1OV0a/FF","SmallShelve",void 0);const{ccclass:v,property:I}=i;e("SmallShelve",(f=v("Game/SmallShelve"),g=I(r),m=I([n]),f((b=t((S=class extends y{constructor(){super(...arguments),o(this,"progressBar",b,this),o(this,"layers",C,this),this.layerGoodsMap=new Map}get isEmpty(){for(let e=0;e<this.layers.length;e++){if(this.layers[e].children.length>0)return!1}return!0}onLoad(){super.onLoad(),p.shelveArr.push(this)}start(){super.start(),this.init(),this.schedule(this.onTrySupplyGoods,.25,l.REPEAT_FOREVER)}init(e){void 0===e&&(e=0),this.createLayerGoods(0,e),this.createLayerGoods(1,e),this.createLayerGoods(2,e)}onTrySupplyGoods(){for(let e=0;e<3;e++){if(this.layers[e].getComponentInChildren(G))continue;if(2===e)continue;const t=e+1,o=this.layers[t].getComponentInChildren(G);if(!o)continue;const s=o.node.getPosition();o.Layer=e,o.node.setParent(this.layers[e]),s.y-=u.Goods_Offset,o.node.setPosition(s),this.layerGoodsMap.delete(t),this.layerGoodsMap.set(e,o.Id),o.bounce()}this.progressBar.progress=this.layerGoodsMap.size/3}createGoods(e,t,o){const s=h.getRes(c.Game,"Goods",c.GamePath),r=a(s),n=r.getComponent(G),i=this.layers[o],l=d();return l.y=o*u.Goods_Offset,i.addChild(r),r.setPosition(l),n.Id=e,n.Layer=o,n.Slot=t,this.layerGoodsMap.set(o,e),n}createLayerGoods(e,t){void 0===t&&(t=0);const o=p.goodsData[this.id];for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const r=o[s];if(r.length<=0)continue;const n=r.shift();if(-1===n)continue;this.createGoods(n,Number(s),e).bounce(t)}}placeGoods(e,t){this.layerGoodsMap.clear();const o=[];for(let e=0;e<2;e++){const t=this.layers[e].getComponentInChildren(G);if(!t)break;o.push(t)}for(let e=0;e<o.length;e++){const t=o[e],s=t.node.getPosition(),r=e+1;t.Layer=r,t.node.setParent(this.layers[r]),s.y+=u.Goods_Offset,t.node.setPosition(s),this.layerGoodsMap.set(r,t.Id)}this.createGoods(e,0,0).bounce()}onPlaceGoods(){const e=this.layers[0].getComponentInChildren(G);e&&!e.Visible&&(e.node.destroy(),this.layerGoodsMap.delete(0))}isSlotOccupied(e){const t=this.layers[0].getComponentInChildren(G);return!(!t||!1!==t.Visible)||this.layerGoodsMap.size>=3}isAllSlotOccupied(){return 3===this.layerGoodsMap.size}getSlot(e){return 0}get GoodsIdArr(){const e=[];for(let t=0;t<this.layers.length;t++){const o=this.layers[t].getComponentsInChildren(G);for(let t=0;t<o.length;t++){const s=o[t];e.push(s.Id)}}return e}get GoodsInfo(){const e={};for(let t=0;t<this.layers.length;t++){const o=this.layers[t];e.hasOwnProperty(t)||(e[t]={});const s=o.getComponentsInChildren(G);for(let o=0;o<s.length;o++){const r=s[o],{Slot:n,Id:i}=r;e[t][n]=r}}return e}clear(){this.layerGoodsMap.clear();for(let e=0;e<this.layers.length;e++){this.layers[e].destroyAllChildren()}}removeGoods(e){this.layerGoodsMap.delete(e.Layer),e.remove()}}).prototype,"progressBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(S.prototype,"layers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=S))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/SoundCfg.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"fd4b9oOrMpIcYDWZm/DDkic","SoundCfg",void 0);i("SoundCfg",class{constructor(){this.ClassName="Sound",this.Id=void 0,this.name=void 0,this.desc=void 0,this.group=void 0,this.type=void 0,this.volume=void 0,this.delay=void 0,this.mp3=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SpinData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./OpenPopupManager.ts","./CfgMgr.ts","./PlayerData.ts","./SpinItemCfg.ts","./WalletManager.ts"],(function(t){var i,s,n,e,o,a,r,d,h,c,p,u,v;return{setters:[function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.HttpService},function(t){e=t.Api},function(t){o=t.EventListener},function(t){a=t.GameEvent},function(t){r=t.AdManager,d=t.AdType},function(t){h=t.OpenPopupManager},function(t){c=t.CfgMgr},function(t){p=t.PlayerData},function(t){u=t.SpinItemCfg},function(t){v=t.WalletManager}],execute:function(){var _,w;i._RF.push({},"b3f2eVzK2BOqJlasmZlf4H4","SpinData",void 0);const{ccclass:l,property:m}=s;t("SpinData",l("SpinData")(((w=class t{constructor(){this._spinItems=[],this._spinObj=null,this._isFirst=!1,this._spinRanks=[],this._ownerRank=null,this._spinRecords=[],this._spinFundObj=null,this._withdrawObjs=[],this._incomeObjs=[],this.isWithdrawing=!1,this.needUpdate=!0}get spinObj(){return this._spinObj}get spinItems(){return this._spinItems}get isFirst(){return this._isFirst}get spinRanks(){return this._spinRanks}get ownerRank(){return this._ownerRank}get spinRecords(){return this._spinRecords}get spinFundObj(){return this._spinFundObj}get withdrawObjs(){return this._withdrawObjs}get incomeObjs(){return this._incomeObjs}getSpinItemCfgArr(){return c.getCfgDataArray(new u)}getSpinInfo(t){void 0===t&&(t=!0),this.needUpdate=t,n.instance.post(e.SPIN_INFO).then((t=>{t&&0==t.code&&(this._spinItems=t.data.items,this._spinObj=t.data.spin,this._spinObj.initUsdt==this._spinObj.curUsdt?this._isFirst=!0:this._isFirst=!1,o.emit(a.UPDTAE_SPIN_DATA))}))}getSpinRank(){n.instance.post(e.SPIN_RANK).then((t=>{t&&0==t.code&&(this._spinRanks=t.data.items,this._ownerRank=t.data.owner,o.emit(a.UPDTAE_SPIN_RANK))}))}getSpinRecords(){n.instance.post(e.SPIN_RECORD).then((t=>{t&&0==t.code&&(this._spinRecords=t.data.items,o.emit(a.UPDTAE_SPIN_RECORD))}))}getSpinFunds(){n.instance.post(e.SPIN_FUND).then((t=>{t&&0==t.code&&(this._spinFundObj=t.data.fund,this._withdrawObjs=t.data.withdraws,this._incomeObjs=t.data.incomes,o.emit(a.UPDTAE_SPIN_FUND))}))}draw(t,i){if("clover"==t){if(0==this._spinObj.clover)return h.instance.showToast("spin.getmoreclover"),void i(1);this._draw("",i)}else r.instance.showAd(d.SPIN_DRAW,0,((t,s)=>{0==t&&this._draw(s,i)}))}_draw(t,i){n.instance.post(e.SPIN_DRAW,{sign:t}).then((t=>{t&&0==t.code?(i(0,t.data),this.getSpinInfo(!1),p.instance.getPlayerInfo()):(i(1),h.instance.showToast(t.msg))}))}withdraw(t){v.instance.isConnected()?this._withdraw(t,v.instance.getAddress()):v.instance.connectWallet((i=>{0==i?this._withdraw(t,v.instance.getAddress()):h.instance.showToast("Connect Wallet Failed")}))}_withdraw(t,i){this.isWithdrawing||(this.isWithdrawing=!0,n.instance.post(e.SPIN_WITHDRAW_PRE,{id:t,address:i}).then((t=>{0==t.code?(this.getSpinFunds(),h.instance.showToast("The withdrawal is expected to arrive within 24 hours.")):(this.isWithdrawing=!1,h.instance.showToast(t.msg))})).catch((t=>{this.isWithdrawing=!1,h.instance.showToast("network.error")})))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,_=w))||_);t("SpinInfoResult",class{constructor(){this.spin=void 0,this.items=void 0}});t("SpinObj",class{constructor(){this.spinAdLimit=void 0,this.spinClover=void 0,this.spinMaxCloverLimit=void 0,this.adLimit=void 0,this.clover=void 0,this.curUsdt=void 0,this.initUsdt=void 0,this.targetUsdt=void 0,this.leftUsdt=void 0,this.countdown=void 0,this.spinNumber=void 0,this.spinLimit=void 0}});t("SpinItemObj",class{constructor(){this.spinId=void 0,this.itemId=void 0}});t("SpinDrawResult",class{constructor(){this.spinId=void 0,this.itemId=void 0,this.count=void 0,this.success=void 0}});t("SpinRankResult",class{constructor(){this.items=void 0,this.owner=void 0}});t("SpinRankObj",class{constructor(){this.nickname=void 0,this.avatar=void 0,this.rank=void 0,this.spinTimes=void 0,this.usdt=void 0}});t("SpinRecordResult",class{constructor(){this.items=void 0}});t("SpinRecordObj",class{constructor(){this.timestamp=void 0,this.itemId=void 0,this.count=void 0}});t("SpinFundResult",class{constructor(){this.fund=void 0,this.withdraws=void 0,this.incomes=void 0}});t("SpinFundObj",class{constructor(){this.fund=void 0,this.withdraw=void 0,this.balance=void 0}});t("SpinWithdrawObj",class{constructor(){this.id=void 0,this.timestamp=void 0,this.amount=void 0,this.avatar=void 0,this.nickname=void 0,this.state=void 0,this.txUrl=void 0,this.isOwner=void 0,this.withdrawState=void 0,this.withdrawTime=void 0}});t("SpinOwnerObj",class{constructor(){this.timestamp=void 0,this.amount=void 0,this.id=void 0,this.state=void 0,this.txUrl=void 0}});t("SpinIncomeObj",class{constructor(){this.amount=void 0,this.daytime=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/SpinFundItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Util.ts"],(function(t){var e,i,n,r,o,a,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Label,o=t.Sprite,a=t._decorator,l=t.Component},function(t){s=t.Util}],execute:function(){var u,c,p,m,b,d,y,h,f;n._RF.push({},"ba4ceUaytpGx6rx5YoJQvoG","SpinFundItem",void 0);const{ccclass:g,property:F}=a;t("SpinFundItem",(u=g("SpinFundItem"),c=F(r),p=F(o),m=F(r),u((y=e((d=class extends l{constructor(){super(...arguments),i(this,"timestamp",y,this),i(this,"icon",h,this),i(this,"count",f,this)}init(t){this.timestamp.string=s.getDay(t.daytime),this.count.string=`${Number(t.amount/1e3).toFixed(1)}`}}).prototype,"timestamp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(d.prototype,"icon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(d.prototype,"count",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinFundPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpinData.ts","./EventListener.ts","./GameEvent.ts","./SpinFundItem.ts","./ItemData.ts","./ItemCfg.ts","./SpriteEx.ts","./SpinWithdrawItem.ts","./SpinMyWithdrawItem.ts"],(function(t){var e,n,i,a,o,r,s,l,p,u,h,c,b,d,f,m,w,g,y,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Prefab,o=t.Node,r=t.Label,s=t._decorator,l=t.Component,p=t.instantiate},function(t){u=t.OpenPopupManager},function(t){h=t.Constants},function(t){c=t.SpinData},function(t){b=t.EventListener},function(t){d=t.GameEvent},function(t){f=t.SpinFundItem},function(t){m=t.ItemData},function(t){w=t.ItemType},function(t){g=t.SpriteEx},function(t){y=t.SpinWithdrawItem},function(t){I=t.SpinMyWithdrawItem}],execute:function(){var P,S,C,F,T,_,D,N,U,W,v,z,B,E,O,j,x,M,L;i._RF.push({},"42b4fsf2VRFObGCMbsNdRLr","SpinFundPopup",void 0);const{ccclass:k,property:R}=s;t("SpinFundPopup",(P=k("SpinFundPopup"),S=R(a),C=R(a),F=R(a),T=R(o),_=R(o),D=R(r),N=R(r),U=R(r),P((z=e((v=class extends l{constructor(){super(...arguments),n(this,"fundItemPrefab",z,this),n(this,"withdrawItemPrefab",B,this),n(this,"myWithdrawItemPrefab",E,this),n(this,"content",O,this),n(this,"tabBtns",j,this),n(this,"totalIncome",x,this),n(this,"totalWithdraw",M,this),n(this,"balance",L,this),this._tabType="withdraw"}show(){c.instance.getSpinFunds(),this.setContent()}setContent(){if(!c.instance.spinFundObj)return;let t=c.instance.spinFundObj;this.totalIncome.string=m.instance.toTokenNumber(w.Usdt,t.fund),this.totalWithdraw.string=m.instance.toTokenNumber(w.Usdt,t.withdraw),this.balance.string=m.instance.toTokenNumber(w.Usdt,t.balance),this.onUpdateContent()}onCloseBtn(){u.instance.hide(h.PopupUI.SpinFundPopup)}onTabBtn(t,e){for(let t=0;t<this.tabBtns.children.length;t++)this.tabBtns.children[t].getComponent(g).index=1;this.tabBtns.children[Number(e)].getComponent(g).index=0,0==Number(e)?this._tabType="withdraw":1==Number(e)?this._tabType="owner":this._tabType="income",this.onUpdateContent()}onTipsBtn(){u.instance.show(h.PopupUI.SpinFundTipsPopup)}onUpdateContent(){if(this.content.removeAllChildren(),"income"==this._tabType){let t=c.instance.incomeObjs;for(let e=0;e<t.length;e++){let n=p(this.fundItemPrefab);n.getComponent(f).init(t[e]),n.parent=this.content}}else if("withdraw"==this._tabType){let t=c.instance.withdrawObjs;for(let e=0;e<t.length;e++){let n=p(this.withdrawItemPrefab);n.getComponent(y).init(t[e]),n.parent=this.content}}else if("owner"==this._tabType){let t=c.instance.withdrawObjs;for(let e=0;e<t.length;e++)if(t[e].isOwner){let n=p(this.myWithdrawItemPrefab);n.getComponent(I).init(t[e]),n.parent=this.content}}}onEnable(){b.on(d.UPDTAE_SPIN_FUND,this.setContent,this)}onDisable(){b.off(d.UPDTAE_SPIN_FUND,this.setContent,this)}}).prototype,"fundItemPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(v.prototype,"withdrawItemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(v.prototype,"myWithdrawItemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(v.prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(v.prototype,"tabBtns",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(v.prototype,"totalIncome",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(v.prototype,"totalWithdraw",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"balance",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=v))||W));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpinFundTipsPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts"],(function(i){var n,t,p,e,s,o,u,r;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){p=i.cclegacy,e=i.Node,s=i._decorator,o=i.Component},function(i){u=i.OpenPopupManager},function(i){r=i.Constants}],execute:function(){var a,c,l,d,f,h,T;p._RF.push({},"37c89zofKpPmK0T/XyWTOAt","SpinFundTipsPopup",void 0);const{ccclass:w,property:P}=s;i("SpinFundTipsPopup",(a=w("SpinFundTipsPopup"),c=P(e),l=P(e),a((h=n((f=class extends o{constructor(){super(...arguments),t(this,"fundTips",h,this),t(this,"withdrawTips",T,this)}show(i){void 0===i&&(i="fund"),"fund"==i?(this.fundTips.active=!0,this.withdrawTips.active=!1):(this.fundTips.active=!1,this.withdrawTips.active=!0)}onCloseBtn(){u.instance.hide(r.PopupUI.SpinFundTipsPopup)}}).prototype,"fundTips",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(f.prototype,"withdrawTips",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));p._RF.pop()}}}));

System.register("chunks:///_virtual/SpinItemCfg.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"6d017IIHphDlr95fsyiJJxO","SpinItemCfg",void 0);t("SpinItemCfg",class{constructor(){this.ClassName="SpinItem",this.Id=void 0,this.itemId=void 0}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/SpinMyWithdrawItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinData.ts","./ItemData.ts","./ItemCfg.ts","./Util.ts","./LanguageManager.ts","./Constants.ts","./OpenPopupManager.ts"],(function(t){var i,e,n,a,s,r,h,o,u,c,w,p,l,d,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Label,s=t.Node,r=t._decorator,h=t.Component,o=t.Sprite},function(t){u=t.SpinData},function(t){c=t.ItemData},function(t){w=t.ItemType},function(t){p=t.Util},function(t){l=t.LanguageManager},function(t){d=t.Constants},function(t){m=t.OpenPopupManager}],execute:function(){var g,b,f,T,y,B,v,S,_,O,j,D,I,M,z;n._RF.push({},"4b16fB/jbBOz4/1ChU3NaQs","SpinMyWithdrawItem",void 0);const{ccclass:P,property:W}=r;t("SpinMyWithdrawItem",(g=P("SpinMyWithdrawItem"),b=W(a),f=W(a),T=W(a),y=W(s),B=W(s),v=W(a),g((O=i((_=class extends h{constructor(){super(...arguments),e(this,"spinTime",O,this),e(this,"usdtAmount",j,this),e(this,"state",D,this),e(this,"withdrawBtn",I,this),e(this,"successBtn",M,this),e(this,"withdrawTime",z,this),this._withdrawObj=null}init(t){this.unschedule(this.updateWithdrawTime),this._withdrawObj=t,this.spinTime.string=p.getDateDetail(t.timestamp),this.usdtAmount.string=c.instance.toTokenNumber(w.Usdt,t.amount),this.state.string=l.instance.getLang("spin.withdraw."+t.state),"success"==t.state?(this.successBtn.active=!0,this.withdrawBtn.active=!1,this.state.node.active=!1):"pending"==t.state?(this.successBtn.active=!1,this.withdrawBtn.active=!1,this.state.node.active=!0):(this.successBtn.active=!1,this.withdrawBtn.active=!0,this.state.node.active=!1,"pending"==t.withdrawState?(this.withdrawTime.node.active=!0,this.withdrawTime.string="Pending"):this.withdrawBtn.getComponent(o).grayscale=!1)}onTapBtn(){"success"==this._withdrawObj.state&&window.open(this._withdrawObj.txUrl)}onTipsBtn(){m.instance.show(d.PopupUI.SpinFundTipsPopup,"withdraw")}updateWithdrawTime(){this._withdrawObj.withdrawTime+=1,this.withdrawTime.string=p.timeToString(this._withdrawObj.withdrawTime)}onWithdrawBtn(){u.instance.withdraw(this._withdrawObj.id)}}).prototype,"spinTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(_.prototype,"usdtAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(_.prototype,"state",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(_.prototype,"withdrawBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(_.prototype,"successBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(_.prototype,"withdrawTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=_))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinOwnerItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinData.ts","./Util.ts","./LanguageManager.ts"],(function(t){var i,e,n,a,s,r,l,c,o,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Label,s=t.Node,r=t._decorator,l=t.Component},function(t){c=t.SpinData},function(t){o=t.Util},function(t){u=t.LanguageManager}],execute:function(){var p,h,m,g,b,w,d,f,y,B,v,O,S;n._RF.push({},"8e7e9hab95AjadtSZHgjFKR","SpinOwnerItem",void 0);const{ccclass:_,property:j}=r;t("SpinOwnerItem",(p=_("SpinOwnerItem"),h=j(a),m=j(a),g=j(a),b=j(s),w=j(s),p((y=i((f=class extends l{constructor(){super(...arguments),e(this,"timestamp",y,this),e(this,"count",B,this),e(this,"state",v,this),e(this,"claimBtn",O,this),e(this,"successBtn",S,this),this._withdrawObj=null}init(t){this._withdrawObj=t,this.timestamp.string=o.getDay(t.timestamp),this.count.string=`${t.amount}`,2==t.state||1==t.state?(this.successBtn.active=!0,this.claimBtn.active=!1,this.state.string=""):(this.successBtn.active=!0,this.claimBtn.active=!1,this.state.string=u.instance.getLang("spin.withdraw.pending"))}onClaimBtn(){1==this._withdrawObj.state&&c.instance.withdraw(this._withdrawObj.id)}}).prototype,"timestamp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(f.prototype,"count",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(f.prototype,"state",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(f.prototype,"claimBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(f.prototype,"successBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesUtil.ts","./OpenPopupManager.ts","./Constants.ts","./CfgMgr.ts","./EventListener.ts","./GameEvent.ts","./GuideData.ts","./SpriteEx.ts","./LanguageManager.ts","./CoinMode.ts","./SpinData.ts","./ItemCfg.ts","./ItemData.ts"],(function(t){var e,i,n,s,r,a,o,l,p,c,u,h,g,d,m,b,w,f,y,I,L,C,T,v,S,P,R,B,N,U,x,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,r=t.RichText,a=t.Label,o=t.ParticleSystem2D,l=t._decorator,p=t.Component,c=t.instantiate,u=t.Sprite,h=t.Color,g=t.UITransform,d=t.Vec3,m=t.tween,b=t.Tween,w=t.v3},function(t){f=t.ResourcesUtil},function(t){y=t.OpenPopupManager},function(t){I=t.Constants},function(t){L=t.CfgMgr},function(t){C=t.EventListener},function(t){T=t.GameEvent},function(t){v=t.GuideData,S=t.GuideStep},function(t){P=t.SpriteEx},function(t){R=t.LanguageManager},function(t){B=t.CoinObj},function(t){N=t.SpinData},function(t){U=t.ItemCfg,x=t.ItemIdType},function(t){F=t.ItemData}],execute:function(){var A,D,O,z,j,E,_,G,M,k,W,H,$,q,K,J,V,Z,Q,X,Y,tt,et,it,nt,st,rt,at,ot,lt,pt,ct,ut,ht,gt,dt,mt,bt,wt,ft,yt,It,Lt,Ct,Tt;n._RF.push({},"a492aa3HdZJDKekUB1Hk5NR","SpinPopup",void 0);const{ccclass:vt,property:St}=l;t("SpinPopup",(A=vt("SpinPopup"),D=St(s),O=St(s),z=St(r),j=St(r),E=St(a),_=St(s),G=St(s),M=St(s),k=St(r),W=St(r),H=St(r),$=St(s),q=St(s),K=St(s),J=St(a),V=St(a),Z=St(s),Q=St(s),X=St(o),Y=St({type:[s]}),tt=St({type:[s]}),A((nt=e((it=class extends p{constructor(){super(...arguments),i(this,"initRewardContent",nt,this),i(this,"spinWheelContent",st,this),i(this,"initRewardLabel1",rt,this),i(this,"initRewardLabel2",at,this),i(this,"initRewardAmount",ot,this),i(this,"initRewardBg",lt,this),i(this,"initRewardIcon",pt,this),i(this,"finger",ct,this),i(this,"progessText",ut,this),i(this,"targetText",ht,this),i(this,"spinNumberText",gt,this),i(this,"pointer",dt,this),i(this,"rewardList",mt,this),i(this,"rewardItem",bt,this),i(this,"cloverNum",wt,this),i(this,"adNum",ft,this),i(this,"llamaBtn",yt,this),i(this,"spinBtn",It,this),i(this,"rewardAnim",Lt,this),i(this,"yellowLights",Ct,this),i(this,"purpleLights",Tt,this)}show(){this.init(),N.instance.getSpinInfo(),this.setContent()}init(){if(0==this.rewardList.children.length){let t=N.instance.getSpinItemCfgArr();for(let e=0;e<t.length;e++){let i=t[e],n=c(this.rewardItem);n.setPosition(0,0),n.angle=-45*e,n.getComponent(u).color=e%2==0?new h(5,62,234,255):new h(13,119,235,255);let s=L.getDataById(new U,i.itemId),r=I.itemsPath+s.icon+"/spriteFrame",a=n.getChildByName("icon").getComponent(u);f.geSpriteFrame(r).then((t=>{a.spriteFrame=t;a.getComponent(g).contentSize})),n.parent=this.rewardList}}this.unschedule(this.updateAnim),this.schedule(this.updateAnim,.5)}updateAnim(){for(let t=0;t<this.yellowLights.length;t++)this.yellowLights[t].getComponent(P).index=this.yellowLights[t].getComponent(P).index?0:1;for(let t=0;t<this.purpleLights.length;t++)this.purpleLights[t].getComponent(P).index=this.purpleLights[t].getComponent(P).index?0:1}setContent(){if(0==N.instance.spinItems.length)return;N.instance.isFirst?(this.spinWheelContent.active=!1,this.initRewardLabel1.string="<b>"+R.instance.getLang("spin.usdtReward1",[Number(N.instance.spinObj.initUsdt).toFixed(1)])+"</b>",this.initRewardLabel2.string="<b>"+R.instance.getLang("spin.usdtReward2",[Number(N.instance.spinObj.targetUsdt).toFixed(1)])+"</b>",this.initRewardAmount.string="+"+Number(N.instance.spinObj.initUsdt).toFixed(1)+"USDT",0==this.initRewardContent.active&&(this.initRewardContent.active=!0,this.initRewardBg.scale=new d(0,0,0),this.initRewardIcon.scale=new d(0,0,0),m(this.initRewardBg).to(.2,{scale:new d(1.1,1.1,1.1)}).to(.2,{scale:new d(1,1,1)}).start(),m(this.initRewardIcon).to(.2,{scale:new d(1.1,1.1,1.1)}).to(.2,{scale:new d(1,1,1)}).start()),b.stopAllByTarget(this.finger),m(this.finger).sequence(m().delay(.5),m().call((()=>{this.finger.children[0].active=!this.finger.children[0].active,this.finger.children[1].active=!this.finger.children[0].active}))).repeatForever().start()):(this.spinWheelContent.active=!0,this.initRewardContent.active=!1);let t=N.instance.spinObj;N.instance.needUpdate&&(this.progessText.string=R.instance.getLang("spin.target1",[t.curUsdt,t.targetUsdt]),this.targetText.string=R.instance.getLang("spin.target2",[t.leftUsdt]),0==t.spinAdLimit?this.spinNumberText.string="<color=#FFFFFF>Guaranteed win after </color><color=#00ff00>"+t.spinClover+"/"+t.spinMaxCloverLimit+"</color> <color=#FFFFFF>spins from cloves</color>":this.spinNumberText.string=R.instance.getLang("spin.targetnum",[t.spinNumber+"/"+t.spinLimit,t.targetUsdt])),this.cloverNum.string=`${t.clover.toString()}`,this.adNum.string=`${t.adLimit.toString()}`;let e=N.instance.spinItems;for(let t in this.rewardList.children){let i=this.rewardList.children[t],n=e[t],s=L.getDataById(new U,n.itemId);if(s){let t=I.itemsPath+s.icon+"/spriteFrame",e=i.getChildByName("icon").getComponent(u);f.geSpriteFrame(t).then((t=>{e.spriteFrame=t}))}}}onGameItem(t){let e=this.progessText.node.getPosition(),i=Math.min(t.num,10),n=t.pos,s=I.commonPreabPath+"usdtItem",r=this.progessText.node.parent.getComponent(g).convertToNodeSpaceAR(n);f.getPrefab(s).then((t=>{for(let n=0;n<i;n++){let s=c(t),a=2*(Math.random()-.5)*100+r.x,o=2*(Math.random()-.5)*50+r.y;s.parent=this.progessText.node.parent,s.setPosition(r),this.scheduleOnce((()=>{m(s).to(.2,{position:w(a,o,0)},{easing:"sineIn"}).delay(.2).to(1,{position:e},{easing:"sineInOut"}).call((()=>{s.destroy(),n==i-1&&(this.progessText.string=R.instance.getLang("spin.target1",[N.instance.spinObj.curUsdt,N.instance.spinObj.targetUsdt]),this.targetText.string=R.instance.getLang("spin.target2",[N.instance.spinObj.leftUsdt]),this.spinNumberText.string=R.instance.getLang("spin.targetnum",[N.instance.spinObj.spinNumber+"/"+N.instance.spinObj.spinLimit,N.instance.spinObj.targetUsdt]))})).start()}),.05+.05*n)}}))}onSpinBtn(t,e){this.pointer.angle=0;for(let t in this.rewardList.children)this.rewardList.children[t].getChildByName("num").active=!1;if(v.instance.guideMode&&v.instance.curStep==S.GUIDE_STEP13_SPIN_TAKEIT&&(v.instance.curStep=1,y.instance.hide(I.PopupUI.GuidePopup)),"clover"==e&&N.instance.spinObj&&0==N.instance.spinObj.clover&&y.instance.showToast("spin.getmoreclover"),"ad"==e&&N.instance.spinObj&&0==N.instance.spinObj.adLimit)return void y.instance.showToast("come.tomorrow");if(N.instance.spinObj&&0==N.instance.spinObj.clover&&0==N.instance.spinObj.adLimit)return void y.instance.showToast("spin.getmoreclover");this.pointer.angle=0,this.spinBtn.parent.active=!1;let i=m().by(.5,{angle:-360},{easing:"linear"});m(this.pointer).repeatForever(i).start(),N.instance.draw(e,((t,e)=>{if(0!=t)return this.pointer.angle=0,this.spinBtn.parent.active=!0,void b.stopAllByTarget(this.pointer);let i=-45*(e.spinId-1)-720,n=m().to(3,{angle:i},{easing:"cubicInOut"}),s=m().call((()=>{if(this.rewardAnim.resetSystem(),this.spinBtn.parent.active=!0,this.rewardList.children[e.spinId-1].getChildByName("num").getComponent(a).string=`${F.instance.toNumber(e.itemId,e.count,4)}`,this.rewardList.children[e.spinId-1].getChildByName("num").active=!0,e.itemId==x.USDT){let t=new B;t.num=10,t.pos=this.spinBtn.getComponent(g).convertToWorldSpaceAR(new d(0,0,0)),this.onGameItem(t)}}));b.stopAllByTarget(this.pointer),m(this.pointer).sequence(n,s).start()}))}onTipsBtn(){y.instance.show(I.PopupUI.SpinTipsPopup)}onTakeitBtn(){b.stopAllByTarget(this.finger),this.initRewardContent.active=!1,this.spinWheelContent.active=!0,v.instance.guideMode&&v.instance.curStep==S.GUIDE_STEP12_SPIN_PAGE&&(v.instance.curStep=1,y.instance.show(I.PopupUI.GuidePopup,this.spinBtn))}onRankBtn(){y.instance.show(I.PopupUI.SpinRankPopup)}onRecordBtn(){y.instance.show(I.PopupUI.SpinRecordPopup)}onFundBtn(){y.instance.show(I.PopupUI.SpinFundPopup)}onCloseBtn(){v.instance.guideMode&&v.instance.curStep==S.GUIDE_STEP14_SPIN_BTN&&C.emit(T.GUIDE_ACTION),y.instance.hide(I.PopupUI.SpinPopup)}onEnable(){C.on(T.UPDTAE_SPIN_DATA,this.setContent,this)}onDisable(){C.off(T.UPDTAE_SPIN_DATA,this.setContent,this)}}).prototype,"initRewardContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(it.prototype,"spinWheelContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(it.prototype,"initRewardLabel1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(it.prototype,"initRewardLabel2",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(it.prototype,"initRewardAmount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(it.prototype,"initRewardBg",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(it.prototype,"initRewardIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(it.prototype,"finger",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(it.prototype,"progessText",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(it.prototype,"targetText",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(it.prototype,"spinNumberText",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(it.prototype,"pointer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(it.prototype,"rewardList",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(it.prototype,"rewardItem",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(it.prototype,"cloverNum",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(it.prototype,"adNum",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(it.prototype,"llamaBtn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(it.prototype,"spinBtn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(it.prototype,"rewardAnim",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(it.prototype,"yellowLights",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(it.prototype,"purpleLights",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=it))||et));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AvatarItem.ts","./SpriteEx.ts","./ItemData.ts","./ItemCfg.ts"],(function(t){var e,n,i,r,a,s,o,l,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,r=t.Label,a=t.Node,s=t._decorator,o=t.Component},function(t){l=t.AvatarItem},function(t){u=t.SpriteEx},function(t){c=t.ItemData},function(t){p=t.ItemType}],execute:function(){var m,b,h,k,I,f,g,d,v,y,z,R,S,w,x;i._RF.push({},"e9b10cxYL5M9p4RJvtFbejm","SpinRankItem",void 0);const{ccclass:T,property:A}=s;t("SpinRankItem",(m=T("SpinRankItem"),b=A(u),h=A(r),k=A(a),I=A(r),f=A(r),g=A(r),m((y=e((v=class extends o{constructor(){super(...arguments),n(this,"rankIcon",y,this),n(this,"rank",z,this),n(this,"avatarItem",R,this),n(this,"spinTimes",S,this),n(this,"usdtAmount",w,this),n(this,"username",x,this)}init(t){t.rank>0&&t.rank<3?(this.rankIcon.node.active=!0,this.rankIcon.index=t.rank-1):this.rankIcon.node.active=!1,this.rank.string=-1==t.rank?"50+":`${t.rank}`,this.spinTimes.string=`${t.spinTimes}`,this.usdtAmount.string=c.instance.toTokenNumber(p.Usdt,t.usdt,3),this.username.string=t.nickname,this.avatarItem.getComponent(l).init(t.avatar)}}).prototype,"rankIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(v.prototype,"rank",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(v.prototype,"avatarItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(v.prototype,"spinTimes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"usdtAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(v.prototype,"username",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpinRankPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpinData.ts","./EventListener.ts","./GameEvent.ts","./SpinRankItem.ts"],(function(n){var t,e,i,o,a,s,r,p,c,l,u,h,k,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.initializerDefineProperty},function(n){i=n.cclegacy,o=n.Prefab,a=n.Node,s=n._decorator,r=n.Component,p=n.instantiate},function(n){c=n.OpenPopupManager},function(n){l=n.Constants},function(n){u=n.SpinData},function(n){h=n.EventListener},function(n){k=n.GameEvent},function(n){f=n.SpinRankItem}],execute:function(){var R,m,P,b,S,g,w,C,v;i._RF.push({},"3ec2fDuAx1FkY/DSwOiYpub","SpinRankPopup",void 0);const{ccclass:D,property:d}=s;n("SpinRankPopup",(R=D("SpinRankPopup"),m=d(o),P=d(a),b=d(a),R((w=t((g=class extends r{constructor(){super(...arguments),e(this,"rankItem",w,this),e(this,"content",C,this),e(this,"ownerRank",v,this)}show(){u.instance.getSpinRank(),this.setContent()}setContent(){let n=u.instance.spinRanks;this.content.removeAllChildren();for(let t=0;t<n.length;t++){let e=p(this.rankItem);e.getComponent(f).init(n[t]),e.parent=this.content}u.instance.ownerRank&&(this.ownerRank.getComponent(f).init(u.instance.ownerRank),this.ownerRank.active=!0)}onCloseBtn(){c.instance.hide(l.PopupUI.SpinRankPopup)}onEnable(){h.on(k.UPDTAE_SPIN_RANK,this.setContent,this)}onDisable(){h.off(k.UPDTAE_SPIN_RANK,this.setContent,this)}}).prototype,"rankItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(g.prototype,"ownerRank",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpinRecordItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Util.ts","./CfgMgr.ts","./ItemCfg.ts","./Constants.ts","./ResourcesUtil.ts","./ItemData.ts"],(function(t){var e,i,n,o,r,s,c,a,l,u,m,p,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,r=t.Sprite,s=t._decorator,c=t.Component,a=t.UITransform},function(t){l=t.Util},function(t){u=t.CfgMgr},function(t){m=t.ItemCfg},function(t){p=t.Constants},function(t){g=t.ResourcesUtil},function(t){f=t.ItemData}],execute:function(){var h,d,I,b,y,S,C,D,R;n._RF.push({},"29d68XNSWtIGJmmVyZpaEfO","SpinRecordItem",void 0);const{ccclass:w,property:z}=s;t("SpinRecordItem",(h=w("SpinRecordItem"),d=z(o),I=z(r),b=z(o),h((C=e((S=class extends c{constructor(){super(...arguments),i(this,"timestamp",C,this),i(this,"icon",D,this),i(this,"count",R,this)}init(t){this.timestamp.string=l.getDateDetail(t.timestamp),this.count.string=f.instance.toNumber(t.itemId,t.count,4);let e=u.getDataById(new m,t.itemId),i=e.singleIcon?e.singleIcon:e.icon,n=p.itemsPath+i+"/spriteFrame";g.geSpriteFrame(n).then((t=>{this.icon.spriteFrame=t;let e=this.icon.getComponent(a).contentSize,i=Math.min(32/e.width,32/e.height);this.icon.node.setScale(i,i)}))}}).prototype,"timestamp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(S.prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(S.prototype,"count",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinRecordPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./SpinData.ts","./EventListener.ts","./GameEvent.ts","./SpinRecordItem.ts"],(function(t){var e,n,o,i,r,s,c,p,a,u,l,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Prefab,r=t.Node,s=t._decorator,c=t.Component,p=t.instantiate},function(t){a=t.OpenPopupManager},function(t){u=t.Constants},function(t){l=t.SpinData},function(t){h=t.EventListener},function(t){d=t.GameEvent},function(t){f=t.SpinRecordItem}],execute:function(){var P,R,m,S,b,C,g;o._RF.push({},"bfb75MhFAhFBLuhFcTIWpye","SpinRecordPopup",void 0);const{ccclass:D,property:v}=s;t("SpinRecordPopup",(P=D("SpinRecordPopup"),R=v(i),m=v(r),P((C=e((b=class extends c{constructor(){super(...arguments),n(this,"recordItem",C,this),n(this,"content",g,this)}show(){l.instance.getSpinRecords(),this.setContent()}setContent(){let t=l.instance.spinRecords;this.content.removeAllChildren();for(let e=0;e<t.length;e++){let n=p(this.recordItem);n.getComponent(f).init(t[e]),n.parent=this.content}}onCloseBtn(){a.instance.hide(u.PopupUI.SpinRecordPopup)}onEnable(){h.on(d.UPDTAE_SPIN_RECORD,this.setContent,this)}onDisable(){h.off(d.UPDTAE_SPIN_RECORD,this.setContent,this)}}).prototype,"recordItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(b.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=b))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinTipsPopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(p){var n,s,o,t,e;return{setters:[function(p){n=p.cclegacy,s=p.Component,o=p._decorator},function(p){t=p.OpenPopupManager},function(p){e=p.Constants}],execute:function(){var c;n._RF.push({},"c5597YKCSpC/LP9vdcmvSEu","SpinTipsPopup",void 0);const{ccclass:i,property:u}=o;p("SpinTipsPopup",i("SpinTipsPopup")(c=class extends s{show(){}onCloseBtn(){t.instance.hide(e.PopupUI.SpinTipsPopup)}})||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinWithdrawItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AvatarItem.ts","./ItemData.ts","./ItemCfg.ts","./Util.ts","./LanguageManager.ts"],(function(t){var e,i,n,a,r,s,o,l,u,c,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,r=t.Label,s=t._decorator,o=t.Component},function(t){l=t.AvatarItem},function(t){u=t.ItemData},function(t){c=t.ItemType},function(t){m=t.Util},function(t){p=t.LanguageManager}],execute:function(){var h,g,b,w,d,f,I,y,v,_,z,D,T;n._RF.push({},"681cfre4aRNmqJc8cwco3zW","SpinWithdrawItem",void 0);const{ccclass:j,property:A}=s;t("SpinWithdrawItem",(h=j("SpinWithdrawItem"),g=A(a),b=A(r),w=A(r),d=A(r),f=A(r),h((v=e((y=class extends o{constructor(){super(...arguments),i(this,"avatarItem",v,this),i(this,"spinTime",_,this),i(this,"usdtAmount",z,this),i(this,"username",D,this),i(this,"state",T,this),this._withdrawObj=null}init(t){this._withdrawObj=t,this.spinTime.string=m.getDateDetail(t.timestamp),this.usdtAmount.string=u.instance.toTokenNumber(c.Usdt,t.amount),this.username.string=t.nickname,this.avatarItem.getComponent(l).init(t.avatar),this.state.string=p.instance.getLang("spin.withdraw."+t.state)}onTapBtn(){"success"==this._withdrawObj.state&&window.open(this._withdrawObj.txUrl)}}).prototype,"avatarItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(y.prototype,"spinTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(y.prototype,"usdtAmount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(y.prototype,"username",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(y.prototype,"state",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=y))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteEx.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,p,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Sprite,o=e.SpriteFrame,p=e.CCInteger,s=e._decorator,u=e.Component}],execute:function(){var a,c,l,x,d,h,m,y;i._RF.push({},"a7351A5vfBG26Vq3Fx4Zzzr","SpriteEx",void 0);const{ccclass:g,property:f,executeInEditMode:F,requireComponent:_,menu:b}=s;e("SpriteEx",(a=_(n),c=b("UI/SpriteEx Index"),l=f({type:[o],tooltip:"SpriteEx Indexes"}),x=f({type:p,tooltip:"The Current Frame"}),g(d=F(d=a(d=c((m=t((h=class extends u{constructor(){super(...arguments),r(this,"spriteFrames",m,this),r(this,"_index",y,this)}get index(){return this._index}set index(e){if(e<0)return;this._index=e%this.spriteFrames.length,this.node.getComponent(n).spriteFrame=this.spriteFrames[this._index]}get size(){return this.spriteFrames.length}}).prototype,"spriteFrames",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),t(h.prototype,"index",[x],Object.getOwnPropertyDescriptor(h.prototype,"index"),h.prototype),y=t(h.prototype,"_index",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=h))||d)||d)||d)||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Stage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./ArrayUtil.ts","./ShelveBase.ts","./UIMgr.ts","./UI.ts","./Mode.ts","./cfg_level.ts","./cfg_icon.ts","./ResMgr.ts","./Bundle.ts","./GlobalGood.ts","./EventMgr.ts","./EventType.ts","./SpriteEx.ts","./AudioManager.ts","./GoodData.ts","./ComboBox.ts","./ShelveLocker.ts","./SmallShelve.ts","./CommonShelve.ts"],(function(e){var t,o,s,i,n,r,l,h,c,a,u,f,d,g,p,m,v,b,C,A,y,k,G,S,D,O,U,P,T,B,_,x,I,M,R,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Node,n=e.Prefab,r=e._decorator,l=e.Component,h=e.macro,c=e.UITransform,a=e.instantiate,u=e.math},function(e){f=e.GameMgr},function(e){d=e.ArrayUtil},function(e){g=e.ShelveBase},function(e){p=e.UIMgr},function(e){m=e.UI},function(e){v=e.ModeName,b=e.Mode},function(e){C=e.cfg_level_snack,A=e.cfg_level_fruit,y=e.cfg_level_dessert},function(e){k=e.cfg_icon_snack,G=e.cfg_icon_fruit,S=e.cfg_icon_dessert},function(e){D=e.ResMgr},function(e){O=e.Bundle},function(e){U=e.GlobalGood},function(e){P=e.EventMgr},function(e){T=e.EventType},function(e){B=e.SpriteEx},function(e){_=e.AudioManager},function(e){x=e.GoodData},function(e){I=e.ComboBox},function(e){M=e.ShelveLocker},function(e){R=e.SmallShelve},function(e){E=e.CommonShelve}],execute:function(){var w,L,z,F,j,W,N,H,q,Q,V,Z,$,J,K;s._RF.push({},"86cbd0gNQZCG5Nt81mqtID5","Stage",void 0);const{ccclass:X,property:Y}=r;e("Stage",(w=X("Game/Stage"),L=Y(B),z=Y(i),F=Y(I),j=Y(i),W=Y(n),N=Y(n),w((Q=t((q=class extends l{constructor(){super(...arguments),o(this,"bg",Q,this),o(this,"shelveBox",V,this),o(this,"comboBox",Z,this),o(this,"tip",$,this),o(this,"shelveLockerPre",J,this),o(this,"shelvePreArr",K,this),this.levelCfg=null,this.levelData=null,this.iconCfg=null,this.shelveArr=[],this.doubleCoin=!1,this.isBusy=!1}onLoad(){this.bg.index=v.indexOf(f.mode),P.on(T.MergeGoods,this.onMergeGoods,this),P.on(T.TimeOut,this.onTimeOut,this),P.on(T.TimeOutAlert,this.onTimeOutAlert,this),P.on(T.UseSkillFreezeTime,this.onUseSkillFreezeTime,this),P.on(T.UseSkillDoubleCoin,this.onUseDoubleCoin,this),P.on(T.UseSkillRefreshPosition,this.onUseRefreshPos,this),P.on(T.UseSkillEraseGroup,this.onUseEraseGroup,this)}onDestroy(){p.close(m.Game),this.unscheduleAllCallbacks(),P.off(T.MergeGoods,this.onMergeGoods,this),P.off(T.TimeOut,this.onTimeOut,this),P.off(T.TimeOutAlert,this.onTimeOutAlert,this),P.off(T.UseSkillFreezeTime,this.onUseSkillFreezeTime,this),P.off(T.UseSkillDoubleCoin,this.onUseDoubleCoin,this),P.off(T.UseSkillRefreshPosition,this.onUseRefreshPos,this),P.off(T.UseSkillEraseGroup,this.onUseEraseGroup,this)}start(){switch(p.open(m.Game),x.instance.initCurStar(),this.tip.active=f.mode===b.dessert&&1===f.CurLevel,this.scheduleOnce((()=>{f.isHardLevel&&p.open(m.StageTip,"Difficulty UP UP UP")}),1),f.mode){case b.dessert:this.levelCfg=y,this.iconCfg=S;break;case b.fruit:this.levelCfg=A,this.iconCfg=G;break;case b.snack:this.levelCfg=C,this.iconCfg=k}f.CurLevel>this.levelCfg.length?this.levelData=d.pickItem(this.levelCfg):this.levelData=this.levelCfg[f.CurLevel-1];const e=this.levelData.shelveMap,t=this.levelData.group,o=this.levelData.lockCnt,s=this.levelData.GoodsTypeCnt;U.Level_Time=this.levelData.time,P.emit(T.TimeReset),this.createShelves(e),this.createShelveLockers(o),this.createGoodsArr(t,s),this.createGoodsData(),this.schedule(this.onCheckWin,.5,h.REPEAT_FOREVER)}createShelves(e){const t=e.length,o=e[0].length,s=this.shelveBox.getComponent(c);s.width=230*o+0*(o-1),s.height=145*t+0*(t-1);for(let t=0;t<e.length;t++)for(let o=0;o<e[t].length;o++){const s=e[t][o],i=this.shelvePreArr[s],n=a(i);this.shelveBox.addChild(n)}this.shelveArr=this.shelveBox.getComponentsInChildren(g)}createShelveLockers(e){if(e<=0)return;const t=d.pickItems(this.shelveArr,e,!0);for(let e=0;e<t.length;e++){const o=t[e],s=a(this.shelveLockerPre);o.node.addChild(s);s.getComponent(M).UnlockCnt=u.randomRangeInt(3,6)}}createGoodsArr(e,t){const o=d.pickIndexs(this.iconCfg,t,!0);f.goodsArr=[];for(let t=0;t<e;t++){const e=d.pickItem(o)+1;f.goodsArr.push(e,e,e)}d.shuffle(f.goodsArr)}createGoodsData(){const e=[],t=[];for(let o=0;o<this.shelveArr.length;o++){const s=this.shelveArr[o];s instanceof E?e.push(s):s instanceof R&&t.push(s)}for(let e=0;e<t.length;e++){const o=t[e].Id;f.goodsData.hasOwnProperty(o)||(f.goodsData[o]={0:[]});for(let e=0;e<3;e++){const e=f.goodsArr.shift();f.goodsData[o][0].push(e)}}const o=3*e.length;for(;f.goodsArr.length>0;){const t=[];for(let e=0;e<o;e++)t.push(e);d.shuffle(t),o<=6?t.splice(0,u.randomRangeInt(2,3)):t.splice(0,u.randomRangeInt(4,6));for(let s=0;s<o;s++){const o=s,i=e[Math.floor(o/3)].Id,n=o%3;f.goodsData.hasOwnProperty(i)||(f.goodsData[i]={0:[],1:[],2:[]});let r=-1;r=f.goodsArr.length<=0||!t.includes(o)?-1:f.goodsArr.shift(),f.goodsData[i][n].push(r)}}}onCheckWin(){this.checkWin()&&(this.isBusy||(this.unscheduleAllCallbacks(),p.open(m.Win)))}checkWin(){for(let e=0;e<this.shelveArr.length;e++){if(!this.shelveArr[e].isEmpty)return!1}return!0}onTimeOut(){this.checkWin()||p.open(m.TimeOut)}onTimeOutAlert(){const e=D.getRes(O.Game,"EffectRedAlert",O.GamePath),t=a(e);this.node.addChild(t)}onUseSkillFreezeTime(){const e=D.getRes(O.Game,"EffectFreeze",O.GamePath),t=a(e);this.node.addChild(t)}onMergeGoods(e){this.comboBox.CurCombo++,_.instance.playSound(`Good|bomb_${this.comboBox.CurCombo}`),x.instance.curStar=this.doubleCoin?2*this.comboBox.CurCombo:this.comboBox.CurCombo,this.comboBox.createFloatText(e)}onUseDoubleCoin(){_.instance.playSound("Good|starDouble"),this.doubleCoin=!0,this.scheduleOnce(this.onAfterDoubleCoin,U.Double_Coin_Duration)}onAfterDoubleCoin(){this.doubleCoin=!1}onUseRefreshPos(){_.instance.playSound("Good|refresh");for(let e=0;e<this.shelveArr.length;e++){const t=this.shelveArr[e].GoodsIdArr;for(let e=0;e<t.length;e++){const o=t[e];f.goodsArr.push(o)}}d.shuffle(f.goodsArr),this.createGoodsData();for(let e=0;e<this.shelveArr.length;e++){const t=this.shelveArr[e];t.clear(),this.scheduleOnce((()=>{t.init()}))}this.isBusy=!0,this.scheduleOnce((()=>{this.isBusy=!1}),.5)}onUseEraseGroup(){_.instance.playSound("Good|tipsItem");const e={};for(let t=0;t<this.shelveArr.length;t++){const o=this.shelveArr[t].GoodsInfo;for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t))for(const s in o[t])if(Object.prototype.hasOwnProperty.call(o[t],s)){const i=o[t][s],n=i.Id;e.hasOwnProperty(n)||(e[n]=[]),e[n].push(i)}for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&d.shuffle(e[t])}const t={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&e[o].length>=3&&(t[o]=e[o]);const o={};let s=0;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e],s++,s>=3))break;for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=o[e],s=d.pickItems(t,3,!0);for(let e=0;e<s.length;e++){const t=s[e],o=t.node.parent.parent.getComponent(g);o&&o.removeGoods(t)}}}}).prototype,"bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(q.prototype,"shelveBox",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(q.prototype,"comboBox",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(q.prototype,"tip",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(q.prototype,"shelveLockerPre",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(q.prototype,"shelvePreArr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=q))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/Storage.ts",["cc"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy,a=t.sys}],execute:function(){e._RF.push({},"aa9e8led8JCu5kY5fi2qjfH","Storage",void 0);t("Storage",class{static setItem(t,e){a.localStorage.setItem(t,e)}static getItem(t){return a.localStorage.getItem(t)}static removeItem(t){a.localStorage.removeItem(t)}static clear(){a.localStorage.clear()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/SuperLinkItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./GameEvent.ts","./InviteData.ts","./SuperLinkSubItem.ts"],(function(t){var e,n,i,s,o,r,u,a,c,l,p,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,o=t.Prefab,r=t._decorator,u=t.Component,a=t.instantiate},function(t){c=t.EventListener},function(t){l=t.GameEvent},function(t){p=t.InviteData},function(t){I=t.SuperLinkSubItem}],execute:function(){var h,m,f,L,S,b,_;i._RF.push({},"0e652RErAFIW7g/9qDmWsiN","SuperLinkItem",void 0);const{ccclass:T,property:k}=r;t("SuperLinkItem",(h=T("SuperLinkItem"),m=k(s),f=k(o),h((b=e((S=class extends u{constructor(){super(...arguments),n(this,"content",b,this),n(this,"superLinkSubItem",_,this)}init(){this.setContent()}async setContent(){this.content.removeAllChildren();let t=p.instance.linkList;for(let e=0;e<t.length;e++){let n=a(this.superLinkSubItem);n.getComponent(I).init(t[e]),n.parent=this.content}}onEnable(){c.on(l.UPDATE_LINK_LIST_DATA,this.setContent,this),c.on(l.SWITCH_INVITE_TAB,this.setContent,this)}onDisable(){c.off(l.UPDATE_LINK_LIST_DATA,this.setContent,this),c.off(l.SWITCH_INVITE_TAB,this.setContent,this)}}).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(S.prototype,"superLinkSubItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=S))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/SuperLinkSubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InviteData.ts","./Util.ts","./SpriteEx.ts"],(function(i){var t,e,n,r,a,l,s,o,u,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,r=i.Label,a=i.Node,l=i._decorator,s=i.Component},function(i){o=i.InviteData},function(i){u=i.Util},function(i){c=i.SpriteEx}],execute:function(){var h,b,p,m,g,k,d,v,y,f,E,w,S,x,T,_,z,N,O,j,I,B,D;n._RF.push({},"d1dacKmWopDk6U9TcZM7l/r","SuperLinkSubItem",void 0);const{ccclass:L,property:$}=l;i("SuperLinkSubItem",(h=L("SuperLinkSubItem"),b=$(c),p=$(r),m=$(r),g=$(r),k=$(r),d=$(r),v=$(r),y=$(a),f=$(r),E=$(r),h((x=t((S=class extends s{constructor(){super(...arguments),e(this,"icon",x,this),e(this,"inviteEarn",T,this),e(this,"inviteNumber",_,this),e(this,"clickEarn",z,this),e(this,"clickNumber",N,this),e(this,"gameEarn",O,this),e(this,"gameNumber",j,this),e(this,"shareBtn",I,this),e(this,"totalEarn",B,this),e(this,"timeText",D,this),this.linkTypes=["invite","morse","card"],this._linkObj=null}init(i){this._linkObj=i,this.icon.index=this.linkTypes.indexOf(i.type)>=0?this.linkTypes.indexOf(i.type):0,this.inviteEarn.string="+"+i.earn.invite,this.inviteNumber.string=`${i.invite}`,this.clickEarn.string="+"+i.earn.click,this.clickNumber.string=`${i.click}`,this.gameEarn.string="+"+i.earn.game,this.gameNumber.string=`${i.game}`,this.totalEarn.string=`+${i.earn.game+i.earn.click+i.earn.invite}`,this._linkObj.countdown<=0?(this.timeText.node.active=!1,this.shareBtn.active=!1,this.totalEarn.node.parent.active=!0):(this.timeText.node.active=!1,this.shareBtn.active=!0,this.totalEarn.node.parent.active=!1)}onShareBtn(){o.instance.reShare(this._linkObj.linkId,this._linkObj.type)}updateTime(){this._linkObj.countdown--,this._linkObj.countdown<=0&&(this.timeText.node.active=!1,this.unschedule(this.updateTime)),this.timeText.string=u.timeToStrings(this._linkObj.countdown)}}).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(S.prototype,"inviteEarn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(S.prototype,"inviteNumber",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(S.prototype,"clickEarn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"clickNumber",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(S.prototype,"gameEarn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(S.prototype,"gameNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(S.prototype,"shareBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(S.prototype,"totalEarn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(S.prototype,"timeText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Switcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,r,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Button,r=t.Node,s=t._decorator,c=t.Component}],execute:function(){var p,u,l,h,a,f,y,d,O;i._RF.push({},"8166fGo6cVLo4VOkCfcoguB","Switcher",void 0);const{ccclass:C,property:I,requireComponent:b,executeInEditMode:g}=s;t("Switcher",(p=C("UIExtend/Switcher"),u=b(n),l=g(!0),h=I(r),a=I(r),p(f=u(f=l((d=e((y=class extends c{constructor(){super(...arguments),o(this,"on",d,this),o(this,"off",O,this),this._isOn=!0}get IsOn(){return this._isOn}set IsOn(t){this._isOn=t,this.on&&(this.on.active=t),this.off&&(this.off.active=!t)}onLoad(){this.node.on(n.EventType.CLICK,this.onClick,this)}onDestroy(){this.node.off(n.EventType.CLICK,this.onClick,this)}onClick(){this.IsOn=!this.IsOn}}).prototype,"on",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(y.prototype,"off",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(y.prototype,"IsOn",[I],Object.getOwnPropertyDescriptor(y.prototype,"IsOn"),y.prototype),f=y))||f)||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/SysOpenCfg.ts",["cc"],(function(s){var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"8d5c566otZJv4v+x4scPN6X","SysOpenCfg",void 0);s("SysOpenCfg",class{constructor(){this.ClassName="SysOpen",this.Id=void 0,this.name=void 0,this.type=void 0,this.desc=void 0,this.unlock=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/TapData.ts",["cc"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy,a=t._decorator}],execute:function(){var n,c;e._RF.push({},"ecd06nJroRIop4SYvpSE1oT","TapData",void 0);const{ccclass:s,property:i}=a;t("TapData",s("TapData")(((c=class t{constructor(){this.tapLevel=1,this.coinNumber=0,this.energy=4e3,this.maxEnergy=4e3}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,n=c))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/TapIncomePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./TapData.ts"],(function(e){var t,n,i,o,a,l,r,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Label,a=e._decorator,l=e.Component},function(e){r=e.OpenPopupManager},function(e){p=e.Constants},function(e){c=e.TapData}],execute:function(){var s,u,b,m,h,f,g,y,d,v,I,P,w,z,T;i._RF.push({},"60970nie5VG3ZNcYu4oK8Xs","TapIncomePopup",void 0);const{ccclass:x,property:L}=a;e("TapIncomePopup",(s=x("TapIncomePopup"),u=L(o),b=L(o),m=L(o),h=L(o),f=L(o),g=L(o),s((v=t((d=class extends l{constructor(){super(...arguments),n(this,"level",v,this),n(this,"nextLevel",I,this),n(this,"income",P,this),n(this,"nextIncome",w,this),n(this,"addIncome",z,this),n(this,"price",T,this)}show(){this.level.string=`LV.${c.instance.tapLevel}`}onCloseBtn(){r.instance.hide(p.PopupUI.TapIncomePopup)}}).prototype,"level",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(d.prototype,"nextLevel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(d.prototype,"income",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(d.prototype,"nextIncome",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(d.prototype,"addIncome",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(d.prototype,"price",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/TapPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./TapData.ts"],(function(e){var n,t,i,o,r,a,p,s,u,c,l,g,m,b,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Node,r=e.Label,a=e._decorator,p=e.Component,s=e.UITransform,u=e.v3,c=e.instantiate,l=e.tween,g=e.Vec3},function(e){m=e.OpenPopupManager},function(e){b=e.Constants},function(e){h=e.TapData}],execute:function(){var y,d,f,N,v,P,T,w,C,x,z;i._RF.push({},"f020d2+3xdK6oNJBayAfJgV","TapPopup",void 0);const{ccclass:D,property:L}=a;e("TapPopup",(y=D("TapPopup"),d=L(o),f=L(o),N=L(r),v=L(r),y((w=n((T=class extends p{constructor(){super(...arguments),t(this,"number",w,this),t(this,"numNode",C,this),t(this,"coinNumber",x,this),t(this,"energy",z,this)}show(){this.coinNumber.string=h.instance.coinNumber+"",this.energy.string=h.instance.energy+"/"+h.instance.maxEnergy}upgradeTap(){m.instance.show(b.PopupUI.UpgradeTapPopup)}update(e){}onClick(e){const n=e.getUILocation(),t=e.target.parent.getComponent(s).convertToNodeSpaceAR(u(n.x,n.y));var i=c(this.number);i.getComponent(r).string="+"+h.instance.tapLevel,i.position=t,i.parent=this.numNode,l(i).to(1,{position:new g(t.x,t.y+160,0)},{easing:"linear",onComplete:()=>{this.numNode.removeChild(i),h.instance.coinNumber+=h.instance.tapLevel,h.instance.energy-=1,this.show()}}).start()}}).prototype,"number",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(T.prototype,"numNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(T.prototype,"coinNumber",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(T.prototype,"energy",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/TargetCardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesUtil.ts","./Constants.ts","./CardData.ts","./SpriteEx.ts","./LanguageManager.ts","./OpenPopupManager.ts","./CardCfg.ts"],(function(t){var e,i,n,a,r,s,o,c,p,l,u,d,g,h,m,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.AnimationComponent,r=t.Sprite,s=t.Label,o=t.Node,c=t._decorator,p=t.Component,l=t.UITransform},function(t){u=t.ResourcesUtil},function(t){d=t.Constants},function(t){g=t.CardData},function(t){h=t.SpriteEx},function(t){m=t.LanguageManager},function(t){f=t.OpenPopupManager},function(t){b=t.CardType}],execute:function(){var C,y,I,w,M,_,x,D,F,T,z,P,v;n._RF.push({},"5693cFBDxFDg43MiM1p3MQE","TargetCardItem",void 0);const{ccclass:B,property:L}=c;t("TargetCardItem",(C=B("TargetCardItem"),y=L(a),I=L(r),w=L(s),M=L(h),_=L(o),C((F=e((D=class extends p{constructor(){super(...arguments),i(this,"anim",F,this),i(this,"icon",T,this),i(this,"desc",z,this),i(this,"bg",P,this),i(this,"mask",v,this),this._cardId=0}init(t,e){let i=0==t?e||0:t;if(this._cardId=t,0==i)this.bg.index=0;else{let a=g.instance.getCardCfgById(i);this.desc.string=m.instance.getLang(a.name),this.bg.index=g.instance.types.indexOf(a.type)+1;var n=d.cardsPath+a.icon+"/spriteFrame";u.geSpriteFrame(n).then((t=>{this.icon.spriteFrame=t;let e=Math.min(100/t.width,100/t.height);this.icon.node.getComponent(l).setContentSize(t.width*e,t.height*e),a.type==b.PLANT||a.type==b.FOOD?this.anim.play("swing"):this.anim.play("jump")})),this.mask.active=!(0!=t||!e)}}onTapBtn(){if(0!=this._cardId){let t=g.instance.getCardCfgById(this._cardId),e=g.instance.getCardObjById(this._cardId);f.instance.show(d.PopupUI.UpgradeCardpopup,e,t,1)}}}).prototype,"anim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(D.prototype,"desc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(D.prototype,"mask",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=D))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./PlayerData.ts","./OpenPopupManager.ts"],(function(t){var s,a,i,e,n,o,c,d,T,r,A;return{setters:[function(t){s=t.cclegacy,a=t._decorator},function(t){i=t.HttpService},function(t){e=t.Api},function(t){n=t.EventListener},function(t){o=t.GameEvent},function(t){c=t.AdPlatform,d=t.AdManager,T=t.AdType},function(t){r=t.PlayerData},function(t){A=t.OpenPopupManager}],execute:function(){var h,p;s._RF.push({},"c4296gr4dRIWIFiW1PrfKJB","TaskData",void 0);const{ccclass:u,property:k}=a;t("TaskData",u("TaskData")(((p=class t{constructor(){this.tasks=[],this._claimTaskId=0}getTaskList(){i.instance.post(e.TASK_LIST).then((t=>{t&&0==t.code&&(this.tasks=t.data.tasks,n.emit(o.UPDTAE_TASK_DATA))}))}reportTask(t){let s=t.id;"adLink"==t.subType?t.adTypes.indexOf(c.Monatag)>=0?d.instance.showPopAd(T.TASKAD,t.subId,((t,a)=>{0==t&&i.instance.post(e.TASK_REPORT,{taskId:s,sign:a}).then((t=>{t&&0==t.code&&(this.tasks=t.data.tasks,n.emit(o.UPDTAE_TASK_DATA))}))})):d.instance.showSpecailAd(T.TASKAD,t.subId,t.adTypes,((t,a)=>{0==t&&i.instance.post(e.TASK_REPORT,{taskId:s,sign:a}).then((t=>{t&&0==t.code&&(this.tasks=t.data.tasks,n.emit(o.UPDTAE_TASK_DATA))}))})):"partner"==t.subType?(window.Telegram.WebApp.openLink(t.url),setTimeout(function(){i.instance.post(e.TASK_REPORT,{taskId:s}).then((t=>{t&&0==t.code&&(this.tasks=t.data.tasks,n.emit(o.UPDTAE_TASK_DATA))}))}.bind(this),5e3)):"adVideo"==t.subType?d.instance.showSpecailAd(T.TASKAD,t.subId,t.adTypes,((t,a)=>{0==t&&i.instance.post(e.TASK_REPORT,{taskId:s,sign:a}).then((t=>{t&&0==t.code&&(this.tasks=t.data.tasks,n.emit(o.UPDTAE_TASK_DATA))}))})):"traffy"==t.subType&&d.instance.showTraffy()}claim(t,s){this._claimTaskId!=t&&(this._claimTaskId=t,i.instance.post(e.TASK_CLAIM,{taskId:t}).then((t=>{this._claimTaskId=0,t&&0==t.code?(this.tasks=t.data.tasks,r.instance.getPlayerInfo(),n.emit(o.UPDTAE_TASK_DATA),A.instance.showToast("Success"),s()):(this._claimTaskId=0,A.instance.showToast(t.msg))})))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,h=p))||h);t("TaskObj",class{constructor(){this.id=void 0,this.rewards=void 0,this.title=void 0,this.state=void 0,this.progress=void 0,this.report=void 0,this.total=void 0,this.type=void 0,this.action=void 0,this.subType=void 0,this.subId=void 0,this.url=void 0,this.adTypes=void 0}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskData.ts","./Constants.ts","./CfgMgr.ts","./ResourcesUtil.ts","./SpriteEx.ts","./LanguageManager.ts","./ItemCfg.ts","./ItemData.ts"],(function(t){var e,i,a,n,r,s,o,l,c,u,p,g,h,m,b,d,f,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.Sprite,r=t.Label,s=t.ProgressBar,o=t.Node,l=t._decorator,c=t.Component,u=t.UITransform},function(t){p=t.TaskData},function(t){g=t.Constants},function(t){h=t.CfgMgr},function(t){m=t.ResourcesUtil},function(t){b=t.SpriteEx},function(t){d=t.LanguageManager},function(t){f=t.ItemCfg},function(t){w=t.ItemData}],execute:function(){var I,y,k,B,T,z,C,v,x,M,D,L,_,S,F,R,j,N,P,O,V,U,E,G,$;a._RF.push({},"14aadGiRtdCP7txCFoe6L3R","TaskItem",void 0);const{ccclass:H,property:q}=l;t("TaskItem",(I=H("TaskItem"),y=q(n),k=q(r),B=q(r),T=q(s),z=q(r),C=q(o),v=q(o),x=q(o),M=q(o),D=q(r),L=q(b),I((F=e((S=class extends c{constructor(){super(...arguments),i(this,"rewardIcon",F,this),i(this,"rewardNum",R,this),i(this,"desc",j,this),i(this,"progress",N,this),i(this,"progressValue",P,this),i(this,"goBtn",O,this),i(this,"claimBtn",V,this),i(this,"claimedBtn",U,this),i(this,"claimedMask",E,this),i(this,"actionText",G,this),i(this,"actionIcon",$,this),this._taskObj=void 0}start(){}init(t){this._taskObj=t,this.progress.progress=t.progress/t.total,this.progressValue.string=`${t.progress}/${t.total}`,"partner"==t.subType?this.desc.string=t.title:this.desc.string=d.instance.getLang(t.title,[t.total]);let e=h.getDataById(new f,t.rewards[0].itemId),i=g.itemsPath+e.icon+"/spriteFrame";m.geSpriteFrame(i).then((t=>{this.rewardIcon.spriteFrame=t;let e=this.rewardIcon.getComponent(u).contentSize,i=Math.min(100/e.width,100/e.height);this.rewardIcon.node.setScale(i,i)})),this.rewardNum.string=w.instance.toNumber(t.rewards[0].itemId,t.rewards[0].count),this.goBtn.active=-1==t.state,this.actionText.string=d.instance.getLang(t.action),"adLink"==t.subType?this.actionIcon.index=1:"adVideo"==t.subType?this.actionIcon.index=0:this.actionIcon.node.active=!1,this.claimBtn.active=0==t.state,this.claimedBtn.active=1==t.state,this.claimedMask.active=1==t.state}onGoBtn(){p.instance.reportTask(this._taskObj)}onClaimBtn(){p.instance.claim(this._taskObj.id,(()=>{}))}}).prototype,"rewardIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(S.prototype,"rewardNum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(S.prototype,"desc",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(S.prototype,"progress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(S.prototype,"progressValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(S.prototype,"goBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(S.prototype,"claimBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(S.prototype,"claimedBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(S.prototype,"claimedMask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(S.prototype,"actionText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(S.prototype,"actionIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=S))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskData.ts","./TaskItem.ts","./OpenPopupManager.ts","./Constants.ts","./EventListener.ts","./GameEvent.ts","./SpriteEx.ts","./QuestItem.ts"],(function(t){var e,i,n,o,s,a,l,r,c,u,p,h,b,d,f,k,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,s=t.ScrollView,a=t.Prefab,l=t._decorator,r=t.Component,c=t.instantiate},function(t){u=t.TaskData},function(t){p=t.TaskItem},function(t){h=t.OpenPopupManager},function(t){b=t.Constants},function(t){d=t.EventListener},function(t){f=t.GameEvent},function(t){k=t.SpriteEx},function(t){m=t.QuestItem}],execute:function(){var v,w,C,S,y,T,g,V,P,E,A,D,I;n._RF.push({},"00bdb39tqNIZpbNY5CvTv5l","TaskPopup",void 0);const{ccclass:_,property:x}=l;t("TaskPopup",(v=_("TaskPopup"),w=x(o),C=x(s),S=x(s),y=x(a),T=x(o),v((P=e((V=class extends r{constructor(){super(...arguments),i(this,"dailyContent",P,this),i(this,"taskScrollView",E,this),i(this,"bonusScrollView",A,this),i(this,"taskItem",D,this),i(this,"tabs",I,this)}show(){this.dailyContent.getComponent(m).init(),u.instance.getTaskList(),this.dailyContent.active=!0,this.taskScrollView.node.active=!1,this.bonusScrollView.node.active=!1,this.setContent()}setContent(){0!=u.instance.tasks.length&&(this.taskScrollView.content.removeAllChildren(),u.instance.tasks.forEach(((t,e)=>{if("daily"==t.type){let e=c(this.taskItem);e.getComponent(p).init(t),e.parent=this.taskScrollView.content}})),this.bonusScrollView.content.removeAllChildren(),u.instance.tasks.forEach(((t,e)=>{if("daily"!=t.type){let e=c(this.taskItem);e.getComponent(p).init(t),e.parent=this.bonusScrollView.content}})))}onTabTouch(t,e){let i=Number(e);for(let t=0;t<this.tabs.children.length;t++)this.tabs.children[t].getComponent(k).index=1;this.tabs.children[Number(e)].getComponent(k).index=0,0==i?(this.dailyContent.active=!0,this.taskScrollView.node.active=!1,this.bonusScrollView.node.active=!1):1==i?(this.dailyContent.active=!1,this.taskScrollView.node.active=!0,this.bonusScrollView.node.active=!1):2==i&&(this.dailyContent.active=!1,this.taskScrollView.node.active=!1,this.bonusScrollView.node.active=!0)}onCloseTouch(){h.instance.hide(b.PopupUI.TaskPopup)}onEnable(){d.on(f.UPDTAE_TASK_DATA,this.setContent,this)}onDisable(){d.off(f.UPDTAE_TASK_DATA,this.setContent,this)}}).prototype,"dailyContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(V.prototype,"taskScrollView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(V.prototype,"bonusScrollView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(V.prototype,"taskItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(V.prototype,"tabs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=V))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskTraffyData.ts",["cc","./HttpService.ts","./Api.ts","./EventListener.ts","./GameEvent.ts","./AdManager.ts","./PlayerData.ts","./OpenPopupManager.ts"],(function(t){var e,a,s,n,i,o,r,c,d;return{setters:[function(t){e=t.cclegacy,a=t._decorator},function(t){s=t.HttpService},function(t){n=t.Api},function(t){i=t.EventListener},function(t){o=t.GameEvent},function(t){r=t.AdManager},function(t){c=t.PlayerData},function(t){d=t.OpenPopupManager}],execute:function(){var h,T;e._RF.push({},"0b3efeHnahHV4e4dZYshryZ","TaskTraffyData",void 0);const{ccclass:f,property:u}=a;t("TaskTraffyData",f("TaskTraffyData")(((T=class t{init(){c.instance.gameObj.showTraffy&&r.instance.initTraffy((()=>{setTimeout((()=>{this.renderTasks()}),2e3)}))}renderTasks(){let t=document.getElementById("GameCanvas"),e=t.getAttribute("width"),a=t.getAttribute("height"),s=.7*Number(e),n=.5*Number(a),i=document.getElementById("traffyTasks");i?(i.style.maxHeight=n+"px !important",i.style.maxWidth=s+"px !important"):(i=document.createElement("div"),i.setAttribute("id","traffyTasks"),i.setAttribute("style","display:none; max-height:"+n+"px !important;max-width:"+s+"px !important;"),document.body.appendChild(i));try{window.Traffy&&window.Traffy.renderTasks(i,{max_tasks:10,onTaskLoad:this.onTaskLoad,onTaskRender:this.onTaskRender,onTaskReward:this.onTaskReward,onTaskReject:this.onTaskReject})}catch(t){}}onTaskLoad(t){console.log(t.length,"traffy loaded",t),t.length>0&&i.emit(o.SHOW_TRAFFY_TASK)}onTaskRender(t,e,a,s){t("3000"),s("Claim")}onTaskReward(e,a){t.instance.claimTraffy(a,e.id,e.title,e.link)}onTaskReject(t){}claimTraffy(t,e,a,i){s.instance.post(n.TASK_TRAFFY_CLAIM,{hash:t,taskId:e,title:a,link:i}).then((t=>{t&&0==t.code?(c.instance.getPlayerInfo(),d.instance.showToast("Success")):d.instance.showToast(t.msg)}))}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,h=T))||h);t("TaskObj",class{constructor(){this.id=void 0,this.rewards=void 0,this.title=void 0,this.state=void 0,this.progress=void 0,this.report=void 0,this.total=void 0,this.type=void 0,this.action=void 0,this.subType=void 0,this.subId=void 0,this.url=void 0,this.adTypes=void 0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskTraffyPopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(t){var e,s,n,a,o;return{setters:[function(t){e=t.cclegacy,s=t.Component,n=t._decorator},function(t){a=t.OpenPopupManager},function(t){o=t.Constants}],execute:function(){var p;e._RF.push({},"adbd1O5MzFKE5lbMdHtgvU+","TaskTraffyPopup",void 0);const{ccclass:c,property:r}=n;t("TaskTraffyPopup",c("TaskTraffyPopup")(p=class extends s{show(){let t=document.getElementById("traffyTasks");t&&(t.style.display="block")}onCloseTouch(){let t=document.getElementById("traffyTasks");t&&(t.style.display="none"),a.instance.hide(o.PopupUI.TaskTraffyPopup)}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/TimeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts","./EventMgr.ts","./EventType.ts","./GameMgr.ts","./GlobalGood.ts"],(function(e){var t,i,s,n,l,o,r,h,m,T,f,_,a,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.Node,l=e._decorator,o=e.Component,r=e.Color,h=e.Label,m=e.tween,T=e.v3},function(e){f=e.TimeUtil},function(e){_=e.EventMgr},function(e){a=e.EventType},function(e){u=e.GameMgr},function(e){c=e.GlobalGood}],execute:function(){var p,v,z,d,R;s._RF.push({},"b3606prx7xMvZ6VYy4AQkFJ","TimeItem",void 0);const{ccclass:b,property:w}=l;e("TimeItem",(p=b("UIItem/TimeItem"),v=w(n),p((R=t((d=class extends o{constructor(){super(...arguments),i(this,"nz",R,this),this._label=null,this.leftTime=0,this._freezeTime=0,this._freeze=!1,this._pause=!1,this._tw=null}get LeftTime(){return this.leftTime}set LeftTime(e){this.leftTime=Math.max(e,0),_.emit(a.TimeTick,this.leftTime),this._label.string=f.formatTime_HHMMSS(1e3*Math.round(this.leftTime)),this._label.color=this.leftTime<=5?r.RED:r.WHITE}onLoad(){this._label=this.getComponentInChildren(h),_.on(a.Revive,this.onRevive,this),_.on(a.UseSkillFreezeTime,this.onUseSkillFreeze,this),_.on(a.TimeReset,this.onTimeReset,this)}onDestroy(){_.off(a.Revive,this.onRevive,this),_.off(a.UseSkillFreezeTime,this.onUseSkillFreeze,this),_.off(a.TimeReset,this.onTimeReset,this)}update(e){if(!this._pause&&!u.Pause&&-1!==c.Level_Time)if(this._freeze)this._freezeTime-=e,this._freezeTime<=0&&(this._freeze=!1);else{const t=this.leftTime;this.LeftTime-=e,t>c.Time_Out_Alert_Time&&this.leftTime<=c.Time_Out_Alert_Time&&(_.emit(a.TimeOutAlert),this._tw&&this._tw.stop(),this._tw=m(this.nz).sequence(m(this.nz).to(.5,{scale:T(1.2,1.2,1)}),m(this.nz).to(.5,{scale:T(1,1,1)})).repeatForever().start()),this.leftTime<=0&&(this._pause=!0,_.emit(a.TimeOut))}}onTimeReset(){this._pause=!1,this.LeftTime=c.Level_Time,this.nz.scale=T(1,1,1),this._tw&&(this._tw.stop(),this._tw=null)}onRevive(){this._pause=!1,this.LeftTime=c.Revive_Add_Time,this.nz.scale=T(1,1,1),this._tw&&(this._tw.stop(),this._tw=null)}onUseSkillFreeze(){this._freeze=!0,this._freezeTime=c.Freeze_Time}}).prototype,"nz",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=d))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeMgr.ts",["cc"],(function(e){var t,s,i,r;return{setters:[function(e){t=e.cclegacy,s=e._decorator,i=e.Component,r=e.director}],execute:function(){var n,c;t._RF.push({},"84df6iIInlDsKGwkeErHSLt","TimeMgr",void 0);const{ccclass:a,property:o}=s;e("TimeMgr",a("Manager/TimeMgr")(((c=class e extends i{onLoad(){e._inst=this,r.addPersistRootNode(this.node)}static async delay(e){return void 0===e&&(e=0),new Promise(((t,s)=>{this._inst.scheduleOnce((()=>{t()}),e)}))}static setTimer(e,t,s){void 0===s&&(s=1);let i=0,r=this.nextId++;r>1e4&&(r=0);const n=()=>{e&&e(),++i>=s&&this.clearTimer(r)};return this._timerMap.set(r,n),this._inst.schedule(n,t,s),r}static clearTimer(e){this._timerMap.has(e)&&(this._inst.unschedule(this._timerMap.get(e)),this._timerMap.delete(e))}})._inst=null,c._timerMap=new Map,c.nextId=0,n=c))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ecd75SF3c5IuJ92y9C7A+KS","TimeUtil",void 0);t("TimeUtil",class{static formatTime_HHMMSS(t){let e=t/1e3,i=(Array(2).join("0")+Math.floor(e/3600)).slice(-2),r=(Array(2).join("0")+Math.floor(e%3600/60)).slice(-2),c=(Array(2).join("0")+Math.floor(e)%60).slice(-2);return"00"==i?r+":"+c:i+":"+r+":"+c}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts"],(function(e){var t,n,s,i,a,o,r,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Label,a=e._decorator,o=e.Component,r=e.tween,c=e.v3},function(e){l=e.LanguageManager}],execute:function(){var u,g,p,d,h;s._RF.push({},"ddfe1rgxVxEoZW8/Ku88Xn7","Toast",void 0);const{ccclass:b,property:f}=a;e("Toast",(u=b("Toast"),g=f(i),u((h=t((d=class extends o{constructor(){super(...arguments),n(this,"lbText",h,this)}init(e,t){let n=l.instance.getLang(e,t);n&&""!=n||(n=e),this.lbText.string=n,this.node.setScale(.5,.5),this.setAnim()}setAnim(){r(this.node).to(.2,{scale:c(1.1,1.1,1.1)},{easing:"sineIn"}).to(.2,{scale:c(1,1,1)},{easing:"sineOut"}).delay(.2).by(.5,{position:c(0,100,0)}).call((()=>{this.scheduleOnce((()=>{this.node.destroy()}),1)})).start()}}).prototype,"lbText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,i,n,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Toggle,o=e._decorator,c=e.Component}],execute:function(){var l,r,h,g,a,u,d;i._RF.push({},"f5ce7bzkrtEH6CgFbFnfv+x","ToggleExtend",void 0);const{ccclass:p,property:f,disallowMultiple:v,requireComponent:E}=o;e("ToggleExtend",(l=p("UIExtend/ToggleExtend"),r=v(!0),h=E(n),g=f({range:[0,1,.1],slide:!0}),l(a=r(a=h((d=t((u=class extends c{constructor(){super(...arguments),s(this,"safeTime",d,this),this.toggle=null,this.checkEvents=void 0,this.isSafe=!0}onLoad(){this.toggle=this.getComponent(n)}start(){this.toggle.node.on(n.EventType.TOGGLE,this.onToggle,this)}onToggle(){this.handleSafe()}handleSafe(){this.isSafe&&(this.isSafe=!1,this.scheduleOnce((()=>{this.checkEvents=this.toggle.checkEvents,this.toggle.checkEvents=[],this.scheduleOnce(this.recover,this.safeTime)})))}recover(){this.isSafe=!0,this.toggle.checkEvents=this.checkEvents}}).prototype,"safeTime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),a=u))||a)||a)||a));i._RF.pop()}}}));

System.register("chunks:///_virtual/TomaEventData.ts",["cc","./AdManager.ts","./Api.ts","./EventListener.ts","./HttpService.ts","./OpenPopupManager.ts","./PlayerData.ts","./GameEvent.ts"],(function(t){var e,n,i,s,a,c,o,r,h;return{setters:[function(t){e=t.cclegacy},function(t){n=t.AdManager,i=t.AdType},function(t){s=t.Api},function(t){a=t.EventListener},function(t){c=t.HttpService},function(t){o=t.OpenPopupManager},function(t){r=t.PlayerData},function(t){h=t.GameEvent}],execute:function(){e._RF.push({},"64165xhr1JNRY3GyjPWwiVt","TomaEventData",void 0);class v{constructor(){this._eventItems=[],this._eventStage=0,this._nextTime=0}get eventStage(){return this._eventStage}get eventItems(){return this._eventItems}get nextTime(){return this._nextTime}set nextTime(t){this._nextTime-=t}getEventDailyInfo(){c.instance.post(s.EVENT_TOMA_INFO,{}).then((t=>{0==t.code&&(this._eventStage=t.data.stageId,this._eventItems=t.data.items,this._nextTime=t.data.nextTime,a.emit(h.UPDATE_TOMA_EVENT_DATA))}))}claim(t,e){e?this._claim("",t):n.instance.showAd(i.EVENT_TOMA,0,((e,n)=>{0==e&&this._claim(n,t)}))}_claim(t,e){c.instance.post(s.EVENT_TOMA_CLAIM,{sign:t,stageId:e}).then((t=>{0==t.code?(o.instance.showRewardPopup(t.data.rewards),this.getEventDailyInfo(),r.instance.getPlayerInfo()):o.instance.showToast(t.msg)}))}static get instance(){return this._instance||(this._instance=new v),this._instance}}t("TomaEventData",v),v._instance=null;t("EventTomaResult",class{constructor(){this.stageId=void 0,this.items=void 0,this.nextTime=void 0}});t("EventTomaObj",class{constructor(){this.id=void 0,this.isLock=void 0,this.isFree=void 0,this.reward=void 0,this.draw=void 0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/TomaEventItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts","./CfgMgr.ts","./Constants.ts","./ResourcesUtil.ts","./TomaEventData.ts","./ItemCfg.ts"],(function(e){var t,i,r,n,a,s,o,l,c,u,h,b,g,p,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Label,a=e.Sprite,s=e.Node,o=e._decorator,l=e.Component,c=e.UITransform,u=e.Color},function(e){h=e.SpriteEx},function(e){b=e.CfgMgr},function(e){g=e.Constants},function(e){p=e.ResourcesUtil},function(e){m=e.TomaEventData},function(e){d=e.ItemCfg}],execute:function(){var w,f,I,v,y,k,B,z,F,x,O,E,T,C,M,_,N,j,L,S,D,R,U,q,H,P,X;r._RF.push({},"888c1bIVpNExITmQpK9UNqo","TomaEventItem",void 0);const{ccclass:$,property:K}=o;e("TomaEventItem",(w=$("TomaEventItem"),f=K(n),I=K(a),v=K(h),y=K(a),k=K(h),B=K(n),z=K(n),F=K(s),x=K(s),O=K(s),E=K(s),T=K(s),w((_=t((M=class extends l{constructor(){super(...arguments),i(this,"rewardNumber",_,this),i(this,"rewardIcon",N,this),i(this,"rewardBg",j,this),i(this,"progressBar",L,this),i(this,"stageBg",S,this),i(this,"stageNumber",D,this),i(this,"stageText",R,this),i(this,"bgMask",U,this),i(this,"itemMask",q,this),i(this,"lockIcon",H,this),i(this,"checkIcon",P,this),i(this,"adIcon",X,this),this._eventObj=null}init(e,t){this._eventObj=e,this.rewardNumber.string=`${e.reward.count}`;let i=b.getDataById(new d,e.reward.itemId);if(!i)return;let r="";r=g.itemsPath+i.icon+"/spriteFrame",p.geSpriteFrame(r).then((e=>{this.rewardIcon.spriteFrame=e;let t=this.rewardIcon.getComponent(c).contentSize,i=Math.min(100/t.width,100/t.height);this.rewardIcon.node.setScale(i,i)})),this.rewardBg.index=i.quality-1>3?3:i.quality-1,this.lockIcon.active=e.isLock,this.bgMask.active=e.isLock,this.itemMask.active=e.isLock,this.checkIcon.active=e.draw,this.adIcon.active=!e.isFree&&(!e.isLock&&0==e.draw),e.id==t+1?this.stageBg.index=1:e.id<t+1?this.stageBg.index=0:this.stageBg.index=2,this.stageNumber.string=`${e.id}`,this.stageText.string=e.isFree?"Free":"Watch 1 ad 🎉",e.id,e.id<t+1?this.progressBar.color=(new u).fromHEX("#3BFFFF"):this.progressBar.color=(new u).fromHEX("#OOOOOO")}onClaimBtn(){1==this._eventObj.draw||this._eventObj.isLock||m.instance.claim(this._eventObj.id,this._eventObj.isFree)}}).prototype,"rewardNumber",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(M.prototype,"rewardIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(M.prototype,"rewardBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(M.prototype,"progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(M.prototype,"stageBg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(M.prototype,"stageNumber",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(M.prototype,"stageText",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(M.prototype,"bgMask",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(M.prototype,"itemMask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(M.prototype,"lockIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(M.prototype,"checkIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(M.prototype,"adIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=M))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/TomaEventPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./EventListener.ts","./GameEvent.ts","./TomaEventData.ts","./TomaEventItem.ts","./PlayerData.ts","./Util.ts"],(function(t){var e,n,i,a,o,s,l,r,u,c,p,m,h,f,b,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Label,o=t.Node,s=t.Prefab,l=t._decorator,r=t.Component,u=t.instantiate},function(t){c=t.Constants},function(t){p=t.OpenPopupManager},function(t){m=t.EventListener},function(t){h=t.GameEvent},function(t){f=t.TomaEventData},function(t){b=t.TomaEventItem},function(t){g=t.PlayerData},function(t){d=t.Util}],execute:function(){var v,T,y,E,P,D,A,I,_,w,U,C,x,z,L,M,O,N,R;i._RF.push({},"dce30YUMoxNUqOC1VasXHvQ","TomaEventPopup",void 0);const{ccclass:F,property:S}=l;t("TomaEventPopup",(v=F("TomaEventPopup"),T=S(a),y=S(a),E=S(a),P=S(a),D=S(o),A=S(o),I=S(a),_=S(s),v((C=e((U=class extends r{constructor(){super(...arguments),n(this,"gold",C,this),n(this,"candy",x,this),n(this,"rainbow",z,this),n(this,"toma",L,this),n(this,"content",M,this),n(this,"tips",O,this),n(this,"timeText",N,this),n(this,"eventDailyItem",R,this)}show(){f.instance.getEventDailyInfo(),this.setContent(),this.onUpdatePlayerInfo()}setContent(){if(this.unschedule(this.updateTime),0==f.instance.eventItems.length)return;this.content.removeAllChildren();let t=f.instance.eventItems;t.forEach(((t,e)=>{let n=u(this.eventDailyItem);n.getComponent(b).init(t,f.instance.eventStage),n.parent=this.content})),t.length==f.instance.eventStage?(this.tips.active=!0,this.schedule(this.updateTime,1)):this.tips.active=!1}onCloseBtn(){p.instance.hide(c.PopupUI.TomaEventPopup)}onUpdatePlayerInfo(t){let e=g.instance.assetObj;t&&"all"!=t&&"gold"!=t||d.numberAnimation(this.gold,e.gold),t&&"all"!=t&&"candy"!=t||d.numberAnimation(this.candy,e.candy),t&&"all"!=t&&"gem"!=t||(this.rainbow.string=e.gem>10?Number(e.gem).toFixed(0):`${e.gem}`),t&&"all"!=t&&"toma"!=t||(this.toma.string=`${e.toma}`)}updateTime(){0!=f.instance.eventItems.length&&(f.instance.nextTime=1,f.instance.nextTime<=0?f.instance.getEventDailyInfo():this.timeText.string=d.countdown(f.instance.nextTime))}onEnable(){m.on(h.UPDATE_TOMA_EVENT_DATA,this.setContent,this),m.on(h.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this)}onDisable(){m.off(h.UPDATE_TOMA_EVENT_DATA,this.setContent,this),m.off(h.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),this.unschedule(this.updateTime)}}).prototype,"gold",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(U.prototype,"candy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(U.prototype,"rainbow",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(U.prototype,"toma",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(U.prototype,"content",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(U.prototype,"tips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(U.prototype,"timeText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(U.prototype,"eventDailyItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=U))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/TownPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./OpenPopupManager.ts","./NewerLlamaItem.ts","./GameDefine.ts","./EventListener.ts","./GoodData.ts","./GameEvent.ts"],(function(e){var n,o,t,s,a,p,i,r,c,l,u,m,d,h,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){t=e.cclegacy,s=e.Node,a=e._decorator,p=e.Component,i=e.director},function(e){r=e.Constants},function(e){c=e.OpenPopupManager},function(e){l=e.NewerLlamaItem},function(e){u=e.GameDefine,m=e.GameLinkType},function(e){d=e.EventListener},function(e){h=e.GoodData},function(e){f=e.GameEvent}],execute:function(){var P,w,G,D,I;t._RF.push({},"8fa25CKFTRKxrHF5REqJY8e","TownPopup",void 0);const{ccclass:g,property:y}=a;e("TownPopup",(P=g("TownPopup"),w=y(s),P((I=n((D=class extends p{constructor(){super(...arguments),o(this,"llamas",I,this)}show(){for(let e=0;e<this.llamas.children.length;e++){let n=e>4?0:e+1;this.llamas.children[e].setScale(.75,.75),this.llamas.children[e].getComponent(l).init(n,30)}u.linkType==m.MORSE?c.instance.show(r.PopupUI.MorsePopup):u.linkType==m.CARD&&c.instance.show(r.PopupUI.CardPopup)}onMenuBtn(e,n){"morse"==n?c.instance.show(r.PopupUI.MorsePopup):"card"==n?c.instance.show(r.PopupUI.CardPopup):"good"==n?(u.linkType="",d.emit(f.SHOW_LOADING),h.instance.getGoodInfo(),i.loadScene("GoodGame",(()=>{d.emit(f.HIDE_LOADING)}))):"shop"==n&&c.instance.show(r.PopupUI.ShopPopup)}}).prototype,"llamas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=D))||G));t._RF.pop()}}}));

System.register("chunks:///_virtual/TransMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,s,n,a,c,g,o;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.UITransform,n=t.Node,a=t._decorator,c=t.Component,g=t.v3,o=t.tween}],execute:function(){var h,l,u,p,d,T,b,f,U,y;r._RF.push({},"e88cdDgp9RBK5KiaGc/Jkgv","TransMgr",void 0);const{ccclass:v,property:O}=a;t("TransMgr",(h=v("Manager/TransMgr"),l=O(s),u=O(s),p=O(n),h(((y=class t extends c{constructor(){super(...arguments),e(this,"gc1UiTrans",b,this),e(this,"gc2UiTrans",f,this),e(this,"logo",U,this),this.gc1OrgHeight=0,this.gc2OrgHeight=0}static get Inst(){return this.inst}onLoad(){t.inst=this,this.gc1OrgHeight=this.gc1UiTrans.height,this.gc2OrgHeight=this.gc2UiTrans.height,this.node.active=!0}fadeIn(){return new Promise(((t,i)=>{this.node.active=!0,this.logo.setScale(g(0,0,1)),o(this.logo).delay(.2).to(.5,{scale:g(1,1,1)},{easing:"backOut"}).start(),o(this.gc1UiTrans).set({height:0}).to(.2,{height:this.gc1OrgHeight}).start();const e=o(this.gc2UiTrans);e.set({height:0}),e.to(1,{height:this.gc2OrgHeight},{easing:"cubicOut"}),e.call((()=>{t()})),e.start()}))}fadeOut(){return new Promise(((t,i)=>{o(this.logo).to(.5,{scale:g()},{easing:"backIn"}).start(),o(this.gc1UiTrans).delay(.8).to(.2,{height:0}).start();const e=o(this.gc2UiTrans);e.to(1,{height:0},{easing:"cubicIn"}),e.call((()=>{this.node.active=!1,t()})),e.start()}))}}).inst=null,b=i((T=y).prototype,"gc1UiTrans",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(T.prototype,"gc2UiTrans",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(T.prototype,"logo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=T))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"bf728GshzFKTY+fJ57MWLKm","UI",void 0);e("UI",function(e){return e.PATH="Prefab/GoodGame/Ui/",e.Main="Prefab/GoodGame/Ui/UIMain",e.Game="Prefab/GoodGame/Ui/UIGame",e.Pause="Prefab/GoodGame/Ui/UIPause",e.Win="Prefab/GoodGame/Ui/UIWin",e.Setting="Prefab/GoodGame/Ui/UISetting",e.Top="Prefab/GoodGame/Ui/UITop",e.Toast="Prefab/GoodGame/Ui/UIToast",e.GetSkill="Prefab/GoodGame/Ui/UIGetSkill",e.StageTip="Prefab/GoodGame/Ui/UIStageTip",e.Home="Prefab/GoodGame/Ui/UIHome",e.Loading="Prefab/GoodGame/Ui/UILoading",e.TimeOut="Prefab/GoodGame/Ui/UITimeOut",e.LuckySpin="Prefab/GoodGame/Ui/UILuckySpin",e.DailyReward="Prefab/GoodGame/Ui/UIDailyReward",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIType.ts","./EventMgr.ts","./EventType.ts","./Debug.ts"],(function(e){var n,t,i,o,s,r,a,c,l,u,d,p,h,f,m,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Widget,s=e.Enum,r=e._decorator,a=e.Component,c=e.find,l=e.UITransform,u=e.assetManager,d=e.Prefab,p=e.instantiate},function(e){h=e.UIType},function(e){f=e.EventMgr},function(e){m=e.EventType},function(e){g=e.Debug}],execute:function(){var y,C,v,b,E;i._RF.push({},"80593TI3qZCQ7b+123pgyON","UIBase",void 0);const{ccclass:I,property:T,requireComponent:U}=r;e("UIBase",(y=U(o),C=T({type:s(h)}),y((E=n((b=class extends a{constructor(){super(...arguments),t(this,"uiType",E,this)}onOpen(e){}onClose(e){}open(e,n,t){f.emit(m.OpenUI,e,n,t)}delayOpen(e,n,t,i){this.scheduleOnce(this.open.bind(this,n,t,i),e)}close(e,n){e||(e=this.node?this.node.name:""),e&&f.emit(m.CloseUI,e,n)}delayClose(e,n,t){this.scheduleOnce(this.close.bind(this,n,t),e)}bindClick(e,n,t,i,o){var s=new a.EventHandler;s.target=n,s.component=t,s.handler=i,s.customEventData=o,e.clickEvents=[s]}unbindClick(e){e.clickEvents=[]}findNode(e,n){return n||(n=this.node),c(e,n)}findComp(e,n,t){t||(t=this.node);return c(e,t)?.getComponent(n)}get uiTrans(){return this.node.getComponent(l)}instantiate(e,n,t){return new Promise(((i,o)=>{t||(t=this.node);const s=u.getBundle(e);if(!s)return g.Warn("Component",`bundle ${e} not exist or loaded`),void o();const r=s.get(n,d);let a=null;r?(a=p(r),t.addChild(a),i(a)):s.load(n,d,((e,n)=>{if(e)o();else{if(!this.isValid)return;a=p(n),t.addChild(a),i(a)}}))}))}}).prototype,"uiType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.Common}}),v=b))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIDailyReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GoodData.ts"],(function(t){var e,i,n,o,r,s,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Widget,r=t.Node,s=t._decorator},function(t){a=t.UIBase},function(t){c=t.GoodData}],execute:function(){var l,u,p,d,b,h,f,y;n._RF.push({},"50549e+08tOVLNTzO4x1Ivv","UIDailyReward",void 0);const{ccclass:v,property:D,requireComponent:I}=s;t("UIDailyReward",(l=v("UI/UIDailyReward"),u=I(o),p=D(r),d=D(r),l(b=u((f=e((h=class extends a{constructor(){super(...arguments),i(this,"tips",f,this),i(this,"btn",y,this)}onOpen(t){c.instance.goodObj.nexttime>0?(this.tips.active=!0,this.btn.active=!1):(this.tips.active=!1,this.btn.active=!0)}onClose(t){}onBtnCloseClick(){this.close()}onBtnGetAllClick(){c.instance.claim((()=>{this.close()}))}}).prototype,"tips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(h.prototype,"btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./CoinItem.ts","./EventType.ts","./EventMgr.ts","./GoodData.ts"],(function(t){var e,n,o,i,s,c,r,a,l,u,d,I,m;return{setters:[function(t){e=t.cclegacy,n=t.Widget,o=t.Label,i=t.tween,s=t.isValid,c=t._decorator},function(t){r=t.UIBase},function(t){a=t.UI},function(t){l=t.GameMgr},function(t){u=t.CoinItem},function(t){d=t.EventType},function(t){I=t.EventMgr},function(t){m=t.GoodData}],execute:function(){var h;e._RF.push({},"a79b8xBTLVOXYoKv/I0IVrN","UIGame",void 0);const{ccclass:g,property:v,requireComponent:f}=c;t("UIGame",g("UI/UIGame")(h=f(n)(h=class extends r{constructor(){super(...arguments),this.lbLevel=null,this.coinItem=null}onLoad(){this.lbLevel=this.findComp("SettingItem/LbLevel",o),this.coinItem=this.findComp("CoinItem",u)}onEnable(){I.on(d.MergeGoods,this.onMergeGoods,this)}onDisable(){I.off(d.MergeGoods,this.onMergeGoods,this)}onOpen(t){this.lbLevel.string=`Lv.${l.CurLevel}`,this.coinItem.init(m.instance.curStar)}onClose(t){}onBtnSettingClick(){this.open(a.Pause)}onMergeGoods(t){this.coinItem.updateCoin(m.instance.curStar,!1);const e=this.coinItem.createFlyCoin();e.setWorldPosition(t);const n=i(e);n.to(.5,{worldPosition:this.coinItem.node.worldPosition},{easing:"sineOut"}),n.call((()=>{s(e)&&e.destroy()})),n.start()}})||h)||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIGetSkill.ts",["cc","./SkillMgr.ts","./GameMgr.ts","./UIBase.ts","./CfgSkillInfo.ts","./ResMgr.ts","./Bundle.ts","./GoodData.ts"],(function(t){var i,s,n,e,l,o,c,r,a,u,h,d;return{setters:[function(t){i=t.cclegacy,s=t.Widget,n=t.Sprite,e=t.Label,l=t._decorator},function(t){o=t.SkillMgr},function(t){c=t.GameMgr},function(t){r=t.UIBase},function(t){a=t.CfgSkillInfo},function(t){u=t.ResMgr},function(t){h=t.Bundle},function(t){d=t.GoodData}],execute:function(){var f;i._RF.push({},"b73c8UtlDxOB6C/zAXazRyU","UIGetSkill",void 0);const{ccclass:k,property:g,requireComponent:p}=l;t("UIGetSkill",k("UI/UIGetSkill")(f=p(s)(f=class extends r{constructor(){super(...arguments),this.icon=null,this.lbTitle=null,this.lbDesc=null,this.skill=null}onLoad(){this.icon=this.findComp("Icon",n),this.lbTitle=this.findComp("LbTitle",e),this.lbDesc=this.findComp("LbDesc",e)}onOpen(t){c.Pause=!0,this.skill=t;const i=a[this.skill];this.lbTitle.string=i.name,this.lbDesc.string=i.desc,this.icon.spriteFrame=u.getSpriteFrame(h.Icon,h.IconPath+i.icon)}onClose(t){c.Pause=!1}onBtnGetClick(){const t=a[this.skill];d.instance.addItem(t.name,(()=>{o.addSkill(this.skill),this.close()}))}})||f)||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/UILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./Bundle.ts","./ResMgr.ts","./UI.ts","./TransMgr.ts"],(function(e){var s,t,o,r,n,i,a,l,c,d,u,h,g,p,I,m;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){o=e.cclegacy,r=e.Widget,n=e.Node,i=e._decorator,a=e.ProgressBar,l=e.v3,c=e.tween,d=e.macro,u=e.math},function(e){h=e.UIBase},function(e){g=e.Bundle},function(e){p=e.ResMgr},function(e){I=e.UI},function(e){m=e.TransMgr}],execute:function(){var f,B,P,U,R,y;o._RF.push({},"c5c89x9MsFIlJYn2pgdGmv/","UILoading",void 0);const{ccclass:L,property:M,requireComponent:v}=i;e("UILoading",(f=L("UI/UILoading"),B=v(r),P=M(n),f(U=B((y=s((R=class extends h{constructor(){super(...arguments),this.progressBar=null,this.loaded=!1,t(this,"logo",y,this)}async onLoad(){m.Inst.fadeOut(),this.progressBar=this.getComponentInChildren(a)}async start(){this.logo.setScale(l(0,0,1)),c(this.logo).delay(.2).to(.5,{scale:l(1,1,1)},{easing:"backOut"}).start(),this.schedule(this.updateProgress,.25,d.REPEAT_FOREVER),await this.loadRes(),this.loaded=!0}init(){}onOpen(e){}onClose(e){}loadRes(){return Promise.all([p.loadDir(g.UI,g.UIPath),p.loadDir(g.Game,g.GamePath),p.loadDir(g.Icon,g.IconPath)])}updateProgress(){let e=u.randomRange(.1,.3);this.progressBar.progress=Math.min(this.progressBar.progress+e,.9),this.loaded&&(this.progressBar.progress=1,this.unschedule(this.updateProgress),this.onLoadCompleted())}onLoadCompleted(){this.init(),this.scheduleOnce((()=>{this.close(),this.open(I.Main)}),.1)}}).prototype,"logo",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=R))||U)||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/UILuckySpin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GlobalGood.ts","./UI.ts","./InputBlock.ts","./GoodData.ts","./CfgMgr.ts","./ItemCfg.ts","./Constants.ts","./ResourcesUtil.ts","./PlayerData.ts","./Util.ts","./EventListener.ts","./GameEvent.ts","./ItemData.ts","./EventMgr.ts","./EventType.ts","./OpenPopupManager.ts"],(function(t){var e,n,i,s,o,a,r,l,c,h,d,u,p,g,m,f,I,b,y,w,C,L,U,P,B,A,v,D,E,T,G,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Widget,o=t.Label,a=t.Node,r=t._decorator,l=t.Toggle,c=t.instantiate,h=t.Sprite,d=t.UITransform,u=t.tween,p=t.Vec3,g=t.v3},function(t){m=t.UIBase},function(t){f=t.GlobalGood},function(t){I=t.UI},function(t){b=t.InputBlock},function(t){y=t.GoodData},function(t){w=t.CfgMgr},function(t){C=t.ItemCfg,L=t.ItemIdType},function(t){U=t.Constants},function(t){P=t.ResourcesUtil},function(t){B=t.PlayerData},function(t){A=t.Util},function(t){v=t.EventListener},function(t){D=t.GameEvent},function(t){E=t.ItemData},function(t){T=t.EventMgr},function(t){G=t.EventType},function(t){O=t.OpenPopupManager}],execute:function(){var S,_,k,N,z,M,R,F,j,x,W,H,X,Y,$,q,V,J,K,Q;i._RF.push({},"12b47yXvBNN1bTOTIecWwLX","UILuckySpin",void 0);const{ccclass:Z,property:tt,requireComponent:et}=r;t("UILuckySpin",(S=Z("UI/UILuckySpin"),_=et(s),k=tt(o),N=tt(o),z=tt(o),M=tt(o),R=tt(a),F=tt(a),j=tt(a),x=tt(a),S(W=_((X=e((H=class extends m{constructor(){super(...arguments),n(this,"gold",X,this),n(this,"candy",Y,this),n(this,"rainbow",$,this),n(this,"star",q,this),n(this,"spinBtn",V,this),this.lights=null,this.orgAngle=0,n(this,"rewardList",J,this),n(this,"rewardItem",K,this),n(this,"spinBg",Q,this)}onLoad(){this.lights=this.findComp("Lights",l)}onOpen(t){this.orgAngle=this.spinBg.angle,this.init(),this.onUpdatePlayerInfo()}onClose(t){}onUpdatePlayerInfo(t){let e=B.instance.assetObj;t&&"all"!=t&&"gold"!=t||A.numberAnimation(this.gold,e.gold),t&&"all"!=t&&"candy"!=t||A.numberAnimation(this.candy,e.candy),t&&"all"!=t&&"gem"!=t||(this.rainbow.string=e.gem>10?Number(e.gem).toFixed(0):`${e.gem}`),this.star.string=y.instance.star+""}onUpdateContent(){let t=y.instance.goodObj;this.star.string=t.star+""}init(){if(0==this.rewardList.children.length){let t=y.instance.spinItemObjs;for(let e=0;e<t.length;e++){let n=t[e],i=c(this.rewardItem);i.setPosition(0,0),i.angle=-60*e;let s=w.getDataById(new C,n.itemId),o=U.itemsPath+s.icon+"/spriteFrame",a=i.getChildByName("icon").getComponent(h);P.geSpriteFrame(o).then((t=>{a.spriteFrame=t;a.getComponent(d).contentSize})),i.parent=this.rewardList}}}spin(t){this.spinBg.angle=0,this.rewardList.angle=0,this.orgAngle=this.spinBg.angle;const e=this.orgAngle-(720-60*(t.spinId-1));this.scheduleOnce((()=>{this.rewardList.children[t.spinId-1].getChildByName("num").getComponent(o).string=`${E.instance.toNumber(t.itemId,t.count,4)}`,this.rewardList.children[t.spinId-1].getChildByName("num").active=!0,this.onRewardAniItem(t.itemId)}),3),b.setActive(3),u(this.spinBg).to(3,{angle:e},{easing:"sineInOut"}).start(),u(this.rewardList).to(3,{angle:e},{easing:"sineInOut"}).start(),this.schedule((()=>{this.lights.isChecked=!this.lights.isChecked}),.25,10)}onBtnSpinClick(){for(let t=0;t<this.rewardList.children.length;t++)this.rewardList.children[t].getChildByName("num").active=!1;y.instance.star<f.Lucky_Spin_Coin_Cost?this.open(I.Toast,"Star Insufficient"):(O.instance.showLoadingPopup(),y.instance.draw(((t,e)=>{v.emit(D.HIDE_LOADING),0==t&&this.spin(e)})))}onRewardAniItem(t){let e=this.gold.node,n="goldItem";t==L.Gold?(e=this.gold.node,n="goldItem"):t==L.Candy?(e=this.candy.node,n="candyItem"):t==L.GEM&&(e=this.rainbow.node,n="gemItem");let i=e.getPosition(),s=this.spinBtn.getComponent(d).convertToWorldSpaceAR(new p(0,0,0)),o=U.commonPreabPath+n,a=e.parent.getComponent(d).convertToNodeSpaceAR(s);P.getPrefab(o).then((t=>{for(let n=0;n<10;n++){let s=c(t),o=2*(Math.random()-.5)*100+a.x,r=2*(Math.random()-.5)*50+a.y;s.parent=e.parent,s.setPosition(a),this.scheduleOnce((()=>{u(s).to(.2,{position:g(o,r,0)},{easing:"sineIn"}).delay(.2).to(1,{position:i},{easing:"sineInOut"}).call((()=>{s.destroy()})).start()}),.05+.05*n)}}))}onEnable(){v.on(D.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),T.on(G.UpdateGoodData,this.onUpdateContent,this)}onDisable(){v.off(D.UPDATE_PLAYER_DATA,this.onUpdatePlayerInfo,this),T.off(G.UpdateGoodData,this.onUpdateContent,this)}}).prototype,"gold",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"candy",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(H.prototype,"rainbow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"star",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"spinBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"rewardList",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(H.prototype,"rewardItem",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(H.prototype,"spinBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=H))||W)||W));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./CoinItem.ts","./TransMgr.ts","./UIMgr.ts","./Mode.ts","./GoodData.ts","./EventMgr.ts","./EventType.ts","./AudioManager.ts","./OpenPopupManager.ts","./GameEvent.ts","./EventListener.ts","./GameDefine.ts"],(function(t){var e,n,i,o,s,a,r,c,l,u,d,p,f,h,g,m,v,b,L,M,k,y,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Widget,s=t.Label,a=t.Node,r=t._decorator,c=t.director},function(t){l=t.UIBase},function(t){u=t.UI},function(t){d=t.GameMgr},function(t){p=t.CoinItem},function(t){f=t.TransMgr},function(t){h=t.UIMgr},function(t){g=t.Mode},function(t){m=t.GoodData},function(t){v=t.EventMgr},function(t){b=t.EventType},function(t){L=t.AudioManager},function(t){M=t.OpenPopupManager},function(t){k=t.GameEvent},function(t){y=t.EventListener},function(t){I=t.GameDefine}],execute:function(){var U,C,D,G,O,w,E,T,_,z,B,P,S,j,x,A;i._RF.push({},"b48c3CF9ehDAYx9uAzJwSnO","UIMain",void 0);const{ccclass:F,property:R,requireComponent:H}=r;t("UIMain",(U=F("UI/UIMain"),C=H(o),D=R(s),G=R(s),O=R(s),w=R(s),E=R(a),T=R(a),U(_=C((B=e((z=class extends l{constructor(){super(...arguments),this.coinItem=null,n(this,"dessertLevel",B,this),n(this,"fruitLevel",P,this),n(this,"snackLevel",S,this),n(this,"ticketText",j,this),n(this,"ad",x,this),n(this,"ticket",A,this),this._isLoading=!1}onLoad(){this.coinItem=this.findComp("Top/CoinItem",p)}start(){}onUpdateContent(t){if(void 0===t&&(t=!0),!m.instance.goodObj)return;this._isLoading&&(this._isLoading=!1,y.emit(k.HIDE_LOADING));let e=m.instance.goodObj;if(e.ticket>0)for(let t=0;t<this.ad.length;t++)this.ad[t].active=!1,this.ticket[t].active=!0,this.ticketText[t].string="1/"+e.ticket;else for(let t=0;t<this.ad.length;t++)this.ad[t].active=!0,this.ticket[t].active=!1;this.fruitLevel.string="Lv."+e.fruit,this.dessertLevel.string="Lv."+e.dessert,this.snackLevel.string="Lv."+e.snack,t&&this.coinItem.init(e.star)}onOpen(t){t&&m.instance.pos&&this.scheduleOnce((()=>{v.emit(b.UpdateCoin,m.instance.goodObj.star,!0,m.instance.pos)}),2),this.onUpdateContent(!(t&&null!=m.instance.pos));let e=1+Math.floor(3*Math.random());L.instance.playMusic(e,!0),m.instance.goodObj||(this._isLoading=!0,M.instance.showLoadingPopup())}onClose(t){}onBtnSettingClick(){this.open(u.Setting)}onBtnLuckySpinClick(){this.open(u.LuckySpin)}onBtnDailyClick(){this.open(u.DailyReward)}async onPlayBtn(t,e){m.instance.pos=t.target.getWorldPosition();let n=m.instance.goodObj;m.instance.play(e,!(n.ticket>0),(async()=>{"dessert"==e?d.mode=g.dessert:"fruit"==e?d.mode=g.fruit:"snack"==e&&(d.mode=g.snack),await f.Inst.fadeIn(),f.Inst.fadeOut(),h.close(u.Main),d.startGame()}))}onCloseBtn(){h.close(u.Main),I.linkType="game",c.loadScene("Main")}onEnable(){v.on(b.UpdateGoodData,this.onUpdateContent,this)}onDisable(){v.off(b.UpdateGoodData,this.onUpdateContent,this)}}).prototype,"dessertLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"fruitLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"snackLevel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(z.prototype,"ticketText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(z.prototype,"ad",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(z.prototype,"ticket",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=z))||_)||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts","./UIType.ts","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./UIBase.ts","./Bundle.ts"],(function(t){var e,i,n,s,o,p,a,r,c,l,d,u,h,U,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t._decorator,p=t.Component,a=t.instantiate,r=t.isValid},function(t){c=t.Debug},function(t){l=t.UIType},function(t){d=t.EventMgr},function(t){u=t.EventType},function(t){h=t.ResMgr},function(t){U=t.UIBase},function(t){_=t.Bundle}],execute:function(){var g,I,f,y,M,k;n._RF.push({},"5d0c5AcBRJP9Y7zbyKAPqyz","UIMgr",void 0);const{ccclass:v,property:S}=o,b="UIMgr";t("UIMgr",(g=v("Manager/UIMgr"),I=S(s),g(((k=class t extends p{constructor(){super(...arguments),i(this,"popUpMask",M,this)}onLoad(){t._inst=this,t._node=this.node,t.init()}static init(){d.on(u.OpenUI,this.open,this),d.on(u.CloseUI,this.close,this)}static async open(t,e,i){if(this.isOpened(t))return void c.Warn(b,`${t} is open`);let n=i?.uiBundle??_.UI;h.isLoaded(n,t)||await h.loadRes(n,t);let s=h.getRes(n,t);if(!s)return void c.Error(b,`${t} is not exist`);let o=a(s),p=o.getComponent(U),d=i?.uiType??p.uiType;if(this._node.children[d].addChild(o),p.onOpen(e),d===l.PopUp){let e=o.getSiblingIndex();this._inst.popUpMask.active=!0,this._inst.popUpMask.setSiblingIndex(e-1),this._popUpStack.push(t)}d===l.Toast?(r(this._toast)&&this._toast.destroy(),this._toast=o):this._openedUI[t]=p}static close(t,e){if(-1==t.indexOf(_.UIPath)&&(t=_.UIPath+t),!this.isOpened(t))return;let i=this._openedUI[t];if(i.uiType===l.PopUp){let e=this._popUpStack.indexOf(t);if(this._popUpStack.splice(e,1),this._popUpStack.length<=0)this._inst.popUpMask.active=!1;else{let t=this._popUpStack[this._popUpStack.length-1],e=this._openedUI[t].node.getSiblingIndex();this._inst.popUpMask.setSiblingIndex(Math.max(0,e))}}i.onClose(e),delete this._openedUI[t],i.node.destroy()}static get(t){return this._openedUI[t]}static isOpened(t){return this._openedUI.hasOwnProperty(t)}})._inst=null,k._node=null,k._openedUI={},k._popUpStack=[],k._toast=null,M=e((y=k).prototype,"popUpMask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPause.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./TransMgr.ts","./UI.ts","./AudioManager.ts"],(function(e){var t,n,i,s,o,r,a,u,d,l,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Widget,o=e.Slider,r=e._decorator,a=e.UITransform},function(e){u=e.UIBase},function(e){d=e.GameMgr},function(e){l=e.TransMgr},function(e){c=e.UI},function(e){p=e.AudioManager}],execute:function(){var h,m,g,f,C,I,S,w;i._RF.push({},"99604hwffdIqoB08X82Yi9G","UIPause",void 0);const{ccclass:y,property:B,requireComponent:b}=r;e("UIPause",(h=y("UI/UIPause"),m=b(s),g=B(o),f=B(o),h(C=m((S=t((I=class extends u{constructor(){super(...arguments),n(this,"musicSlider",S,this),n(this,"soundSlider",w,this)}onLoad(){}onOpen(e){d.Pause=!0;let t=p.instance.musicVolume,n=p.instance.soundVolume;this.musicSlider.progress=t,this.soundSlider.progress=n,this.musicSlider.node.getChildByName("bar").getComponent(a).width=t*this.musicSlider.node.getComponent(a).width,this.soundSlider.node.getChildByName("bar").getComponent(a).width=n*this.soundSlider.node.getComponent(a).width}onClose(e){d.Pause=!1}onBtnCloseClick(){this.close()}async onBtnRestartClick(){await l.Inst.fadeIn(),d.startGame(),this.close(),l.Inst.fadeOut()}async onBtnBackClick(){await l.Inst.fadeIn(),d.quitGame(),this.close(),this.open(c.Main),l.Inst.fadeOut()}onMusicEvent(e){let t=e.progress,n=e.node.getComponent(a).width;e.node.getChildByName("bar").getComponent(a).width=t*n,p.instance.setMusic(t)}onSoundEvent(e){let t=e.progress,n=e.node.getComponent(a).width;e.node.getChildByName("bar").getComponent(a).width=t*n,p.instance.setSound(t)}}).prototype,"musicSlider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"soundSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=I))||C)||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./AudioManager.ts"],(function(e){var t,n,i,o,s,r,d,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Widget,s=e.Slider,r=e._decorator,d=e.UITransform},function(e){l=e.UIBase},function(e){u=e.AudioManager}],execute:function(){var a,c,p,g,m,h,S,C;i._RF.push({},"62320wQmq5B5a+/DXUHqOic","UISetting",void 0);const{ccclass:b,property:w,requireComponent:y}=r;e("UISetting",(a=b("UI/UISetting"),c=y(o),p=w(s),g=w(s),a(m=c((S=t((h=class extends l{constructor(){super(...arguments),n(this,"musicSlider",S,this),n(this,"soundSlider",C,this)}onLoad(){}onOpen(e){let t=u.instance.musicVolume,n=u.instance.soundVolume;this.musicSlider.progress=t,this.soundSlider.progress=n,this.musicSlider.node.getChildByName("bar").getComponent(d).width=t*this.musicSlider.node.getComponent(d).width,this.soundSlider.node.getChildByName("bar").getComponent(d).width=n*this.soundSlider.node.getComponent(d).width}onClose(e){}onBtnCloseClick(){this.close()}onMusicEvent(e){let t=e.progress,n=e.node.getComponent(d).width;e.node.getChildByName("bar").getComponent(d).width=t*n,u.instance.setMusic(t)}onSoundEvent(e){let t=e.progress,n=e.node.getComponent(d).width;e.node.getChildByName("bar").getComponent(d).width=t*n,u.instance.setSound(t)}}).prototype,"musicSlider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(h.prototype,"soundSlider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m)||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIStageTip.ts",["cc","./UIBase.ts"],(function(t){var i,s,e,o,n,r,a,p;return{setters:[function(t){i=t.cclegacy,s=t.Widget,e=t.Label,o=t.UIOpacity,n=t.tween,r=t.v3,a=t._decorator},function(t){p=t.UIBase}],execute:function(){var c;i._RF.push({},"eedb3kZZwRMobFrRF0qBVAd","UIStageTip",void 0);const{ccclass:l,property:u,requireComponent:h}=a;t("UIStageTip",l("UI/UIStageTip")(c=h(s)(c=class extends p{constructor(){super(...arguments),this.lbTip=null,this.arrow=null,this.uiOpacity=null}onLoad(){this.lbTip=this.findComp("LbTip",e),this.arrow=this.findNode("Arrow"),this.uiOpacity=this.getComponent(o)}onOpen(t){this.lbTip.string=t,n(this.lbTip.node).to(.5,{position:r(0,0,0)},{easing:"sineOut"}).start(),n(this.arrow).to(10,{position:r(850,0)}).start(),n(this.uiOpacity).delay(2).to(1,{opacity:0}).call((()=>{this.node.destroy()})).start()}onClose(t){}})||c)||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/UITimeOut.ts",["cc","./UIBase.ts","./TransMgr.ts","./GameMgr.ts","./UI.ts","./AudioManager.ts","./GoodData.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,e,s,o,i,a,c,u,r,d,f;return{setters:[function(t){n=t.cclegacy,e=t.Widget,s=t._decorator},function(t){o=t.UIBase},function(t){i=t.TransMgr},function(t){a=t.GameMgr},function(t){c=t.UI},function(t){u=t.AudioManager},function(t){r=t.GoodData},function(t){d=t.EventMgr},function(t){f=t.EventType}],execute:function(){var l;n._RF.push({},"65d4fRB33BEYIU5zpUOPlVA","UITimeOut",void 0);const{ccclass:I,property:g,requireComponent:p}=s;t("UITimeOut",I("UI/UITimeOut")(l=p(e)(l=class extends o{onOpen(t){a.Pause=!0,u.instance.playSound("Good|good_fail")}onClose(t){a.Pause=!1}async onBtnCloseClick(){await i.Inst.fadeIn(),this.close(),a.quitGame(),this.open(c.Main),i.Inst.fadeOut()}onBtnYesClick(){r.instance.addTime((()=>{this.close(),d.emit(f.Revive)}))}})||l)||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["cc","./UIBase.ts"],(function(t){var s,e,o,n,c;return{setters:[function(t){s=t.cclegacy,e=t.Widget,o=t.Label,n=t._decorator},function(t){c=t.UIBase}],execute:function(){var r;s._RF.push({},"9bfdf2gwKJFtbS3dltSSAky","UIToast",void 0);const{ccclass:a,property:l,requireComponent:i}=n;t("UIToast",a("UI/UIToast")(r=i(e)(r=class extends c{constructor(){super(...arguments),this.lbToast=null}onLoad(){this.lbToast=this.getComponentInChildren(o)}onDestroy(){this.unscheduleAllCallbacks()}onOpen(t){this.lbToast.string=`${t}`,this.scheduleOnce((()=>{this.node.destroy()}),2)}onClose(t){}})||r)||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/UIType.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"9fe4cXoojZFEr5u4gK1uaz/","UIType",void 0);o("UIType",function(o){return o[o.Common=0]="Common",o[o.PopUp=1]="PopUp",o[o.Top=2]="Top",o[o.Toast=3]="Toast",o}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIWin.ts",["cc","./GameMgr.ts","./InputBlock.ts","./UI.ts","./UIBase.ts","./TransMgr.ts","./AudioManager.ts","./GoodData.ts"],(function(n){var t,s,i,a,e,o,c,u,r,l,I;return{setters:[function(n){t=n.cclegacy,s=n.Widget,i=n.Label,a=n._decorator},function(n){e=n.GameMgr},function(n){o=n.InputBlock},function(n){c=n.UI},function(n){u=n.UIBase},function(n){r=n.TransMgr},function(n){l=n.AudioManager},function(n){I=n.GoodData}],execute:function(){var d;t._RF.push({},"6ab0cQ2h+FDI4MQgPLQ0pRU","UIWin",void 0);const{ccclass:h,requireComponent:f}=a;n("UIWin",h("UI/UIWin")(d=f(s)(d=class extends u{constructor(){super(...arguments),this.lbCoin=null,this.coin=0}set Coin(n){this.coin=Math.max(n,0),this.lbCoin.string=`x${this.coin}`}onLoad(){this.lbCoin=this.findComp("LbCoin",i)}onOpen(n){l.instance.playSound("Good|good_success"),this.lbCoin.string=`x${I.instance.curStar}`,I.instance.settle(I.instance.curStar),e.passGame(),e.Pause=!0}onClose(n){e.Pause=!1,o.Active=!1,I.instance.curStar=0}async onBtnMultiClick(){I.instance.doubleClaim((async()=>{await r.Inst.fadeIn(),this.close(),e.quitGame(),this.open(c.Main,!0),r.Inst.fadeOut()}))}async onBtnNextClick(){await r.Inst.fadeIn(),this.close(),e.quitGame(),this.open(c.Main,!0),r.Inst.fadeOut()}async onBtnCloseClick(){await r.Inst.fadeIn(),this.close(),e.quitGame(),this.open(c.Main,!0),r.Inst.fadeOut()}})||d)||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/UnlockCardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./CardData.ts","./CardCfg.ts","./ResourcesUtil.ts","./CfgMgr.ts","./EventListener.ts","./GameEvent.ts","./InviteData.ts","./LanguageManager.ts"],(function(t){var e,n,i,a,r,s,l,o,c,d,u,g,h,p,C,f,b,_,v,k,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Sprite,r=t.Label,s=t.Node,l=t._decorator,o=t.Component,c=t.AnimationComponent},function(t){d=t.OpenPopupManager},function(t){u=t.Constants},function(t){g=t.CardData},function(t){h=t.CardType,p=t.CardUnlockType,C=t.CardCfg},function(t){f=t.ResourcesUtil},function(t){b=t.CfgMgr},function(t){_=t.EventListener},function(t){v=t.GameEvent},function(t){k=t.InviteData},function(t){y=t.LanguageManager}],execute:function(){var L,m,I,x,U,D,O,T,A,P,j,B,w,z,G,E,N,F,M,R,S,q,J;i._RF.push({},"08655uIJ/JF25CU/73mLNlu","UnlockCardPopup",void 0);const{ccclass:V,property:$}=l;t("UnlockCardPopup",(L=V("UnlockCardPopup"),m=$(a),I=$(r),x=$(r),U=$(r),D=$(r),O=$(r),T=$(r),A=$(r),P=$(r),j=$(s),L((z=e((w=class extends o{constructor(){super(...arguments),n(this,"icon",z,this),n(this,"cardName",G,this),n(this,"curLevel",E,this),n(this,"nextLevel",N,this),n(this,"curGold",F,this),n(this,"nextGold",M,this),n(this,"nextAddGold",R,this),n(this,"unlockText",S,this),n(this,"unlockBtnText",q,this),n(this,"adIcon",J,this),this._cardObj=null,this._cardCfg=null,this._unlockCardCfg=null}show(t,e){this._cardObj=t,this._cardCfg=e,this.setContent()}setContent(){this.cardName.string=y.instance.getLang(this._cardCfg.name);var t=u.cardsPath+this._cardCfg.icon+"/spriteFrame";f.geSpriteFrame(t).then((t=>{this.icon.spriteFrame=t,this._cardCfg.type==h.PLANT||this._cardCfg.type==h.FOOD?this.icon.node.getComponent(c).play("swing"):this.icon.node.getComponent(c).play("jump")}));let e=g.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level);this.curLevel.string="Lv."+this._cardObj.level,this.curGold.string=`${e.earn}`;let n=g.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level+1);this.nextLevel.string="Lv."+(this._cardObj.level+1),this.nextGold.string=`${n.earn}`,this.nextAddGold.string="(+"+(n.earn-e.earn)+")",this.adIcon.active=!1,this._cardCfg.unlock==p.CARD?(this._unlockCardCfg=b.getDataById(new C,this._cardCfg.parentId),this.unlockText.string=y.instance.getLang("card.unlockLv",[y.instance.getLang(this._unlockCardCfg.name),this._cardCfg.value]),this.unlockBtnText.string=y.instance.getLang("card.gounlock")):this._cardCfg.unlock==p.INVITE?(this.unlockText.string=y.instance.getLang("card.invite",[this._cardObj.value]),this.unlockBtnText.string=y.instance.getLang("card.goinvite")):this._cardCfg.unlock==p.AD?(this.unlockText.string=y.instance.getLang("card.ad",[this._cardObj.value]),this.adIcon.active=!0,this.unlockBtnText.string=y.instance.getLang("card.unlock")):this.unlockText.string=""}onUnlockBtn(){if(this._cardCfg.parentId){let t=g.instance.getCardObjById(this._cardCfg.parentId),e=g.instance.getCardCfgById(t.cardId);if(t.level>0||e.unlock==p.NONE){let n=this._cardCfg.value-t.level;d.instance.show(u.PopupUI.UpgradeCardpopup,t,e,n),this.onCloseBtn()}else this.onCloseBtn(),d.instance.show(u.PopupUI.UnlockCardPopup,t,e)}else this._cardCfg.unlock==p.AD?g.instance.unlockAd(this._cardObj.cardId):this._cardCfg.unlock==p.INVITE&&k.instance.share("invite")}onCloseBtn(){d.instance.hide(u.PopupUI.UnlockCardPopup)}onUpdateCard(){let t=g.instance.getCardObjById(this._cardObj.cardId);t&&(this._cardObj=t,this._cardCfg.unlock==p.AD&&0==this._cardObj.value&&(d.instance.show(u.PopupUI.UpgradeCardpopup,this._cardObj,this._cardCfg,1),this.onCloseBtn()),this.setContent())}onEnable(){_.on(v.UPDATE_CARD_DATA,this.onUpdateCard,this)}onDisable(){_.off(v.UPDATE_CARD_DATA,this.onUpdateCard,this)}}).prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(w.prototype,"cardName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(w.prototype,"curLevel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(w.prototype,"nextLevel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(w.prototype,"curGold",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(w.prototype,"nextGold",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(w.prototype,"nextAddGold",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(w.prototype,"unlockText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(w.prototype,"unlockBtnText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(w.prototype,"adIcon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=w))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeCardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./CardData.ts","./CardCfg.ts","./ResourcesUtil.ts","./EventListener.ts","./GameEvent.ts","./LanguageManager.ts"],(function(e){var t,i,a,r,n,s,l,o,d,c,p,u,g,h,b,C,f,v,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,r=e.Sprite,n=e.Label,s=e.Node,l=e._decorator,o=e.Component,d=e.AnimationComponent,c=e.UITransform,p=e.Vec3},function(e){u=e.OpenPopupManager},function(e){g=e.Constants},function(e){h=e.CardData},function(e){b=e.CardType},function(e){C=e.ResourcesUtil},function(e){f=e.EventListener},function(e){v=e.GameEvent},function(e){_=e.LanguageManager}],execute:function(){var m,L,y,O,B,j,w,x,T,P,U,z,A,D,G,R,E,F,I,q,S,$,M,N,k,W,H,V,J;a._RF.push({},"2f97axpSaxBhbBtyE1kEBPW","UpgradeCardPopup",void 0);const{ccclass:K,property:Q}=l;e("UpgradeCardPopup",(m=K("UpgradeCardPopup"),L=Q(r),y=Q(n),O=Q(n),B=Q(n),j=Q(n),w=Q(n),x=Q(n),T=Q(n),P=Q(n),U=Q(n),z=Q(s),A=Q(s),D=Q(s),m((E=t((R=class extends o{constructor(){super(...arguments),i(this,"icon",E,this),i(this,"cardName",F,this),i(this,"curLevel",I,this),i(this,"nextLevel",q,this),i(this,"curGold",S,this),i(this,"nextGold",$,this),i(this,"nextAddGold",M,this),i(this,"cost",N,this),i(this,"upgradeText",k,this),i(this,"fragmentText",W,this),i(this,"resetBtn",H,this),i(this,"resetTips",V,this),i(this,"upgradeBtn",J,this),this._cardObj=null,this._cardCfg=null,this._upgradeLevel=1}show(e,t,i){this._cardObj=e,this._cardCfg=t,this.setContent(i)}setContent(e){this._upgradeLevel=e,this.cardName.string=_.instance.getLang(this._cardCfg.name);var t=g.cardsPath+this._cardCfg.icon+"/spriteFrame";C.geSpriteFrame(t).then((e=>{this.icon.spriteFrame=e,this._cardCfg.type==b.PLANT||this._cardCfg.type==b.FOOD?this.icon.node.getComponent(d).play("swing"):this.icon.node.getComponent(d).play("jump")}));let i=h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level);this.curLevel.string="Lv."+this._cardObj.level,this.curGold.string=`${i.earn}`;let a=h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level+e);this.nextLevel.string="Lv."+(this._cardObj.level+e),a?(this.nextGold.string=`${a.earn}`,this.nextAddGold.string="(+"+(a.earn-i.earn)+")",this.resetBtn.active=!1,this.resetTips.active=!1,this.upgradeBtn.active=!0):(this.resetBtn.active=!0,this.resetTips.active=!0,this.upgradeBtn.active=!1),this.cost.string=1==e?`${i.gold}`:`${this.getCost(i.gold,e)}`;let r=1==e?`${i.fragment}`:`${this.getFragment(i.fragment,e)}`;this.fragmentText.string=r+"/"+this._cardObj.fragment,this.upgradeText.string=1==e?_.instance.getLang("card.upgrade"):_.instance.getLang("card.upgradeLv",[a.level])}getCost(e,t){let i=e;for(let e=this._cardObj.level+1;e<this._cardObj.level+t;e++){i+=h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,e).gold}return i}getFragment(e,t){let i=e;for(let e=this._cardObj.level+1;e<this._cardObj.level+t;e++){i+=h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,e).fragment}return i}onCloseBtn(){u.instance.hide(g.PopupUI.UpgradeCardpopup)}onUpgradeBtn(){h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level+this._upgradeLevel)?h.instance.upgrade(this._cardObj.cardId,this._cardObj.level+this._upgradeLevel,((e,t,i)=>{e&&u.instance.show(g.PopupUI.CardRewardPopup,this._cardObj,t,(()=>{if(i.length>0){let e=this.upgradeText.node.getComponent(c).convertToWorldSpaceAR(new p(0,0,0));u.instance.showRewardDoublePopup(i,e,null)}}))})):u.instance.showToast("skill.maxlevel")}onResetBtn(){h.instance.getCardLevelCfgByCardLevel(this._cardCfg.quality,this._cardObj.level+this._upgradeLevel)||h.instance.reset(this._cardObj.cardId,(()=>{this.onCloseBtn()}))}onUpdateCard(){let e=h.instance.getCardObjs();for(let t=0;t<e.length;t++){let i=e[t];i.cardId==this._cardObj.cardId&&(this._cardObj=i,this.setContent(this._upgradeLevel))}}onFragmentBtn(){u.instance.show(g.PopupUI.ShopPopup)}onEnable(){f.on(v.UPDATE_CARD_DATA,this.onUpdateCard,this)}onDisable(){f.off(v.UPDATE_CARD_DATA,this.onUpdateCard,this)}}).prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(R.prototype,"cardName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"curLevel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(R.prototype,"nextLevel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(R.prototype,"curGold",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(R.prototype,"nextGold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(R.prototype,"nextAddGold",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(R.prototype,"cost",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(R.prototype,"upgradeText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(R.prototype,"fragmentText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(R.prototype,"resetBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(R.prototype,"resetTips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(R.prototype,"upgradeBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=R))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeTapPopup.ts",["cc","./OpenPopupManager.ts","./Constants.ts"],(function(p){var o,e,n,t,s;return{setters:[function(p){o=p.cclegacy,e=p.Component,n=p._decorator},function(p){t=p.OpenPopupManager},function(p){s=p.Constants}],execute:function(){var a;o._RF.push({},"ddcfdnPMThLfJUiPySswKyv","UpgradeTapPopup",void 0);const{ccclass:u,property:c}=n;p("UpgradeTapPopup",u("UpgradeTapPopup")(a=class extends e{show(){}onCloseBtn(){t.instance.hide(s.PopupUI.UpgradeTapPopup)}incomeUpgrade(){t.instance.show(s.PopupUI.TapIncomePopup)}restoreLimit(){t.instance.show(s.PopupUI.RestorePopup)}boostQuota(){t.instance.show(s.PopupUI.BoostQuotaPopup)}})||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/UserModel.ts",["cc"],(function(s){var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"ff699Thp2JLMo/vCoEFUesS","UserModel",void 0);s("UserModel",class{constructor(){this.userId=void 0,this.username="",this.name=void 0,this.avatar="0-0-0",this.isDebug=!1,this.code=void 0,this.step=void 0,this.country=void 0,this.channel=void 0,this.showMine=void 0}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc"],(function(t){var e,r,a,n,o,i,l,s,h,c,u,g,f,d;return{setters:[function(t){e=t.cclegacy,r=t.Component,a=t.Vec3,n=t.Quat,o=t.Vec2,i=t.v2,l=t.Color,s=t.Rect,h=t.screen,c=t.v3,u=t.tween,g=t.misc,f=t.view,d=t.bezier}],execute:function(){e._RF.push({},"2e632+VYKdG5qMiRPU5yd+n","Util",void 0);t("Util",class extends r{static isEmptyObject(t){let e=!0;if(t&&t.constructor===Object){for(let r in t)if(t.hasOwnProperty(r)){e=!1;break}}else e=!1;return e}static getStringLength(t){let e=t,r=0;for(let t=0,a=e.length;t<a;t++){r+=e.charCodeAt(t)<=255?1:2}return Math.ceil(r/2)}static getRandomNFromM(t,e){let r=[],a=0,n=0;for(;n<e&&!(n>=t+1);){a=this.getRandomInt(0,t);let e=0;for(let t=0;t<n;t++)if(r[t]===a){e=1;break}0===e&&(r[n]=a,n++)}return r}static getRandomInt(t,e){let r=Math.random()*(e-t+1)+t;return Math.floor(r)}static randomHit(t){return Math.random()<t/100}static arrayToObject(t,e){let r={};for(let a in t)t.hasOwnProperty(a)&&t[a][e]&&(r[t[a][e]]=t[a])}static clone(t){if(null===t||"object"!=typeof t)return t;let e={};t.constructor===Array&&(e=[]);for(let r in t)t.hasOwnProperty(r)&&(e[r]=this.clone(t[r]));return e}static objectToArray(t){let e=[];for(let r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}static formatMoney(t){let e=["","K","M","G","T","P","E","Z","Y","B","N","D"],r="";for(let a=0;a<e.length;a++){if(!(t>=1e4)){r=Math.floor(t)+e[a];break}t/=1e3}return""===r&&(r=Math.floor(t)+"U"),r}static newFormatMoney(t){if(t<1e4)return t.toString();let e=["","K","M","G","T","P","E","Z","Y","B","N","D"],r="";for(let a=0;a<e.length;a++){if(!(t>=1e4)){r=t.toFixed(1)+e[a];break}t/=1e3}return""===r&&(r=Math.floor(t)+"U"),r}static isNewDay(t){let e=new Date(t),r=new Date,a=e.getYear(),n=e.getMonth(),o=e.getDate(),i=r.getYear(),l=r.getMonth(),s=r.getDate();return i>a||(l>n||s>o)}static getPropertyCount(t){let e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r}static difference(t,e){let r=[];if(t.constructor!==Array||e.constructor!==Array)return r;let a=t.length;for(let n=0;n<a;n++)-1===e.indexOf(t[n])&&r.push(t[n]);return r}static trim(t){return t.replace(/(^\s*)|(\s*$)/g,"")}static format(t,e){return t=t.replace(new RegExp("\\{0\\}","gm"),e)}static format1(t,e){let r=e.length;for(;r--;)t=t.replace(new RegExp("\\{"+r+"\\}","gm"),e[r]);return t}static isNowValid(t,e){let r=new Date(t),a=new Date(e),n=!1;if(r.getDate()+""!="NaN"&&a.getDate()+""!="NaN"){let t=new Date;n=t<a&&t>r}return n}static getDeltaDays(t,e){t=new Date(t),e=new Date(e);let r=t.getFullYear(),a=t.getMonth()+1,n=t.getDate(),o=e.getFullYear(),i=e.getMonth()+1,l=e.getDate();t=new Date(r+"/"+a+"/"+n+" GMT+0800").getTime();let s=(e=new Date(o+"/"+i+"/"+l+" GMT+0800").getTime())-t;return Math.floor(s/864e5)}static getMin(t){let e=null;if(t.constructor===Array){let r=t.length;for(let a=0;a<r;a++)e=0===a?Number(t[0]):e>Number(t[a])?Number(t[a]):e}return e}static formatTwoDigits(t){return(Array(2).join(0)+t).slice(-2)}static getDay(t){void 0===t&&(t=0);let e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}static getDayTime(t){void 0===t&&(t=0);let e=new Date(1e3*t),r=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),n=e.getMonth()+1,o=e.getDate();return(n>9?n:"0"+n)+"-"+(o>9?o:"0"+o)+" "+r+":"+a}static formatDate(t){let e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}static formatTimeForMillisecond(t){let e=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60);return{hour:Math.floor(t/1e3/60/60),minute:r,second:e}}static rand(t){let e=this.clone(t);for(let t=e.length-1;t>=0;t--){const r=Math.floor(Math.random()*(t+1)),a=e[r];e[r]=e[t],e[t]=a}return e}static getOffsetMimutes(t,e){let r=e-t;return Math.floor(r%36e5/6e4)}static formatNumToFixed(t,e){return void 0===e&&(e=0),Number(t.toFixed(e))}static formatNumber(t,e){void 0===e&&(e=2);let r=Number(t).toFixed(e);if(r.indexOf(".")>=0)for(;"0"==r[r.length-1];)r=r.slice(0,-1);return r.indexOf(".")==r.length-1&&(r=r.slice(0,-1)),r}static dayRemainingTime(){let t="",e="",r="",a=(new Date).getTime(),n=new Date((new Date).toLocaleDateString()).getTime()+864e5-a,o=Math.floor(n/1e3%60);r=o>=10?o.toString():"0"+o;let i=Math.floor(n/1e3/60%60);e=i>=10?i.toString():"0"+i;let l=Math.floor(n/1e3/60/60);return t=l>=10?l.toString():"0"+l,[t,e,r]}static lerp(t,e,r){void 0===r&&(r=.25);let a=e;return t>e?a=e+(t-e)*r:t<e&&(a=e-(e-t)*r),a}static base64ToArrayBuffer(t){let e=atob(t),r=e.length,a=new Uint8Array(r);for(let t=0;t<r;t++)a[t]=e.charCodeAt(t);return a.buffer}static uint8arrayToBase64(t){let e,r=0,a=t.length,n="";for(;r<a;)e=t.subarray(r,Math.min(r+32768,a)),n+=String.fromCharCode.apply(null,e),r+=32768;return btoa(n)}static base64ToUint8Array(t){let e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(e),a=new Uint8Array(r.length);for(let t=0;t<r.length;++t)a[t]=r.charCodeAt(t);return a}static arrayBufferToBase64(t){let e="",r=new Uint8Array(t),a=r.byteLength;for(let t=0;t<a;t++)e+=String.fromCharCode(r[t]);return window.btoa(e)}static encrypt(t){let e=this._base64encode(t),r=6;if(e.length%2==0&&(r=7),e.length<r)return e;let a="";for(let t=0;t<(e.length-r+1)/2;t++)a+=e[2*t+1],a+=e[2*t];return a+=e.slice(e.length-r+1),a}static decrypt(t){let e=6;if(t.length%2==0&&(e=7),t.length<e)return this._base64Decode(t);let r="";for(let a=0;a<t.length-e;a+=2)r+=t[a+1],r+=t[a];return r+=t.slice(t.length-e+1),r=this._base64Decode(r),r}static base64Encode(t){return btoa(t)}static base64Decode(t){try{return atob(t)}catch(e){return t}}static _base64encode(t){let e,r,a,n,o,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="",c=0;for(t=this._utf8Encode(t);c<t.length;)e=t.charCodeAt(c++),r=t.charCodeAt(c++),a=t.charCodeAt(c++),n=e>>2,o=(3&e)<<4|r>>4,i=(15&r)<<2|a>>6,l=63&a,isNaN(r)?i=l=64:isNaN(a)&&(l=64),h=h+s.charAt(n)+s.charAt(o)+s.charAt(i)+s.charAt(l);return h}static _utf8Encode(t){t=t.replace(/\r\n/g,"\n");let e="";for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e+=String.fromCharCode(a):a>127&&a<2048?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e}static _utf8Decode(t){let e="",r=0,a=0,n=0,o=0;for(;r<t.length;)a=t.charCodeAt(r),a<128?(e+=String.fromCharCode(a),r++):a>191&&a<224?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&a)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),o=t.charCodeAt(r+2),e+=String.fromCharCode((15&a)<<12|(63&n)<<6|63&o),r+=3);return e}static _base64Decode(t){let e,r,a,n,o,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=s.indexOf(t.charAt(c++)),o=s.indexOf(t.charAt(c++)),i=s.indexOf(t.charAt(c++)),l=s.indexOf(t.charAt(c++)),e=n<<2|o>>4,r=(15&o)<<4|i>>2,a=(3&i)<<6|l,h+=String.fromCharCode(e),64!=i&&(h+=String.fromCharCode(r)),64!=l&&(h+=String.fromCharCode(a));return h=this._utf8Decode(h),h}static checkTwoPosEulRad(t,e,r,a){return Math.atan2(t-r,e-a)}static getTwoPosXZLength(t,e,r,a){const n=t-r,o=e-a;return Math.sqrt(n*n+o*o)}static setStringToVec3(t){const e=t.split(",");return new a(Number(e[0]),Number(e[1]),Number(e[2]))}static setStringToQuate(t){const e=t.split(",");return new n(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]))}static getRandomRange(t,e){return e?(Math.random()>.5?1:-1)*Math.random()*t:Math.random()*t}static getDirectionOfDistanceX(t,e){return t*Math.sin(e)}static getDirectionOfDistanceZ(t,e){return t*Math.cos(e)}static angle_to_radian(t){return Math.PI/180*t}static radian_to_angle(t){return 180/Math.PI*t}static angle_to_vector(t){let e=this.angle_to_radian(t),r=Math.cos(e),a=Math.sin(e);return new o(r,a).normalize()}static vector_to_angle(t){if(0==t.x&&0==t.y)return null;let e=i(t.x,t.y).normalize().signAngle(new o(1,0));return-this.radian_to_angle(e)}static timeToString(t){let e=Math.floor(t/86400)<10?"0"+Math.floor(t/86400):Math.floor(t/86400),r=Math.floor(t%86400/3600)<10?"0"+Math.floor(t%86400/3600):Math.floor(t%86400/3600),a=Math.floor(t/60%60)<10?"0"+Math.floor(t/60%60):Math.floor(t/60%60),n=Math.floor(t%60)<10?"0"+Math.floor(t%60):Math.floor(t%60),o="";return"00"!=e?(o=`${e}day ${r}h ${a}m`,o):"00"!=r?(o=`${r}:${a}:${n}`,o):(o=`${a}:${n}`,o)}static timeToStrings(t,e){void 0===e&&(e=!0),t=t>0?t:0;let r=Math.floor(t/3600)<10?"0"+Math.floor(t/3600):Math.floor(t/3600),a=Math.floor(t/60%60)<10?"0"+Math.floor(t/60%60):Math.floor(t/60%60),n=Math.floor(t%60)<10?"0"+Math.floor(t%60):Math.floor(t%60);return e?`${r}:${a}:${n}`:`${a}:${n}`}static getTimeToString(t){let e=Math.floor(t/3600)<10?"0"+Math.floor(t/3600):Math.floor(t/3600),r=Math.floor(t/60%60)<10?"0"+Math.floor(t/60%60):Math.floor(t/60%60),a=Math.floor(t%60)<10?"0"+Math.floor(t%60):Math.floor(t%60),n="";return"00"!=e?(n=`${e}h${r}m`,n):"00"!=r?(n=`${r}m${a}s`,n):(n=`${a}s`,n)}static getTodayRemainingtime(){let t=(new Date).getTime(),e=(new Date((new Date).toLocaleDateString()).getTime()-t)/1e3/3600/24,r=24*(e-Math.floor(e)),a=Math.floor(r),n=60*(r-a),o=Math.floor(n),i=60*(n-o),l=Math.floor(i);return a>0?(a=a<10?"0"+a:a,o=o<10?"0"+o:o,l=l<10?"0"+l:l,`${a}:${o}:${l}:`):(o=o<10?"0"+o:o,l=l<10?"0"+l:l,`${o}:${l}:`)}static countdown(t){let e=Math.floor(t/3600%24),r=Math.floor(t/60%60),a=Math.floor(t%60);return e>0?(e=e<10?"0"+e:e,r=r<10?"0"+r:r,a=a<10?"0"+a:a,`${e}:${r}:${a}`):(r=r<10?"0"+r:r,a=a<10?"0"+a:a,`${r}:${a}`)}static countdownByDay(t){let e=Math.floor(t/86400),r=Math.floor(t/3600%24),a=Math.floor(t/60%60),n=Math.floor(t%60);return e>0?(e=e<10?"0"+e:e,r=r<10?"0"+r:r,a=a<10?"0"+a:a,n=n<10?"0"+n:n,`${e}Days ${r}:${a}:${n}`):r>0?(r=r<10?"0"+r:r,a=a<10?"0"+a:a,n=n<10?"0"+n:n,`${r}:${a}:${n}`):(a=a<10?"0"+a:a,n=n<10?"0"+n:n,`00:${a}:${n}`)}static getDays(t){let e=Math.floor(t/3600/24),r=Math.floor(t/3600),a=Math.ceil(t/60%60),n="";return e>0?(n=`${e}day(s)`,n):r>0?(n=`${r}hour(s)`,n):void(n=`${a}minute`)}static getMonthDay(){let t=new Date,e=t.getFullYear(),r=t.getMonth()+1;return new Date(e,r,0).getDate()}static getMonth(){return(new Date).getMonth()+1}static stringToColor(t){let e=this.hex2int(t[0],16)+this.hex2int(t[1],1),r=this.hex2int(t[2],16)+this.hex2int(t[3],1),a=this.hex2int(t[4],16)+this.hex2int(t[5],1);return new l(e,r,a,255)}static hex2int(t,e){let r=t.charCodeAt(0);return 48<=r&&r<58?r-=48:r=(223&r)-65+10,r*e}static getDateDetail(t){return new Date(1e3*t).toLocaleString()}static getCircleRandPoint(t,e){let r=e.x+2*(Math.random()-.5)*t,a=e.y+2*(Math.random()-.5)*t;return new o(r,a)}static getCirclePoints(t,e,r,a,n){void 0===a&&(a=60),void 0===n&&(n=1);let i=[],l=n*(Math.PI/180)*Math.round(360/r);for(let n=0;n<r;n++){let r=e.x+t*Math.sin(l*n),s=e.y+t*Math.cos(l*n);i.unshift(new o(r+Math.random()*a,s+Math.random()*a))}return i}static getCircleRandomPoints(t,e,r,n){void 0===n&&(n=60);let o=[],i=Math.PI/180*Math.round(360/r),l=Math.random()*Math.PI;for(let s=0;s<r;s++){let r=e.x+t*Math.sin(i*s+l),h=e.y+t*Math.cos(i*s+l);o.unshift(new a(r+Math.random()*n,h+Math.random()*n,0))}return o}static getCirclePos(t,e,r){let n=Math.PI/180*r,o=e.y+t*Math.cos(n),i=e.x+t*Math.sin(n);return new a(o,i,0)}static getUpDownRandomPoints(t,e,r,n){void 0===n&&(n=300);let o=[];for(let i=0;i<r;i++){let r=Math.floor(100*Math.random())<=50?1:-1,i=2*(Math.random()-.5)*n,l=e.y+(t+60*Math.random())*r;o.unshift(new a(i,l,0))}return o}static getLeftRightRectRandomPoints1(t,e,r,n,i,l){void 0===l&&(l=20);let h=[];t=n>i?i/2-l:n/2-l,t=n/2-l;let c=Math.PI/180*Math.round(360/r),u=Math.random()*Math.PI,g=new s(-n/2,-i/2,n,i),f=0;for(let n=0;n<r;n++){let r=e.x+t*Math.sin(c*n+u),s=e.y+t*Math.cos(c*n+u),d=new o(r+Math.random()*l,s+Math.random()*l);if(g.contains(d))h.unshift(new a(d.x,d.y,0));else if(h.length){f=Math.floor(Math.random()*h.length);let t=this.clone(h[f]),e=new a(t.x+2*(Math.random()-.5)*20,t.y+2*(Math.random()-.5)*20,0);h.unshift(e)}else{t=i/2-l;let e=this.getCircleRandomPoints(t,new a(0,0,0),10,20);f=Math.floor(Math.random()*e.length),h.unshift(e[f])}}return h}static uuid(){let t=[],e="0123456789abcdef";for(let r=0;r<36;r++)t[r]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}static getUuid(t){return Number(Math.random().toString().substr(2,t)+Date.now()).toString(36)}static getMonthDays(t,e){return new Date(t,e,0).getDate()}static getMonthDayMilliseconds(t,e){return new Date(t,e,1).getTime()}static getDayHour(t){let e=new Date(t),r=e.getDate()<10?"0"+e.getDate():e.getDate(),a=e.getHours()<10?"0"+e.getHours():e.getHours();e.getMinutes(),e.getMinutes();return r+"d"+a+"h"}static getWinSize(){return h.windowSize}static getBezierPoint(t,e,r,a,n){const o=t.x*(1-n)*(1-n)*(1-n)+3*e.x*n*(1-n)*(1-n)+3*r.x*n*n*(1-n)+a.x*n*n*n,l=t.y*(1-n)*(1-n)*(1-n)+3*e.y*n*(1-n)*(1-n)+3*r.y*n*n*(1-n)+a.y*n*n*n;return i(o,l)}static bezierTo(t,e,r,a,n,o){o=o||Object.create(null);return o.onUpdate=(e,o)=>{t.position=((t,e,r,a)=>{let n=(1-t)*(1-t)*e.x+2*t*(1-t)*r.x+t*t*a.x,o=(1-t)*(1-t)*e.y+2*t*(1-t)*r.y+t*t*a.y;return c(n,o,0)})(o,r,a,n)},u(t).to(e,{},o)}static playTargetTween(t,e,r){return new Promise(((r,a)=>{let n=t.position,i=t.eulerAngles,l=u(n);new o;l.parallel(u().to(e,{x:-t.position.x},{progress:function(t,e,r,a){return d(t,100,200,e,a)},easing:"smooth",onUpdate:()=>{t.setPosition(n)}}),u().to(e,{y:0},{progress:function(t,e,r,a){return d(t,100,200,e,a)},easing:"smooth",onUpdate:()=>{t.setPosition(n)}})).start(),u(i).to(e,{z:360},{onUpdate:()=>{t.eulerAngles=i}}).call((()=>{r(1)})).start()}))}static targetBezier(t,e,r,a,n,l,s,h){return new Promise(((c,f)=>{let d=new o(e.x,e.y);u({t:0}).to(a,{t:1},{onUpdate:(a,c)=>{const u=i(0,0),f=i(n,l),M=i(s,h),m=i(1,1),y=u.x*(1-c)*(1-c)*(1-c)+3*f.x*c*(1-c)*(1-c)+3*M.x*c*c*(1-c)+m.x*c*c*c,w=u.y*(1-c)*(1-c)*(1-c)+3*f.y*c*(1-c)*(1-c)+3*M.y*c*c*(1-c)+m.y*c*c*c;let x=(r.x-e.x)*y+e.x,D=(r.y-e.y)*w+e.y,b=new o(x,D);t.setPosition(x,D);let C=new o;o.subtract(C,b,d);let p=C.signAngle(i(0,1)),$=g.radiansToDegrees(p);t.angle=-$,d=b.clone()}}).call((()=>{c(1)})).start()}))}static targetScaleBezier(t,e,r,a,n,o,l,s,h,c){return new Promise(((g,f)=>{let d=u(t).to(n,{t:1},{onUpdate:(t,n)=>{const o=i(0,0),u=i(l,s),g=i(h,c),f=i(1,1),d=o.x*(1-n)*(1-n)*(1-n)+3*u.x*n*(1-n)*(1-n)+3*g.x*n*n*(1-n)+f.x*n*n*n,M=o.y*(1-n)*(1-n)*(1-n)+3*u.y*n*(1-n)*(1-n)+3*g.y*n*n*(1-n)+f.y*n*n*n;let m=(a.x-r.x)*d+r.x,y=(a.y-r.y)*M+r.y;e.setPosition(m,y)}}),M=u(t).to(n,{scale:o},{onUpdate:(t,r)=>{e.setScale(t.scale,t.scale,t.scale)}});u(t).parallel(d,M).call((()=>{g(1)})).start()}))}static PFromC(t){let e=0,r=0,a=0,n=Math.ceil(1/t);for(let o=1;o<=n;++o)e=Math.min(1,o*t)*(1-r),r+=e,a+=o*e;return 1/a}static CFromP(t){let e=t,r=0,a=t,n=1;for(;;){a=(e+r)/2;let o=this.PFromC(a);if(Math.abs(o-n)<=5e-5)break;o>t?e=a:r=a,n=o}return a}static segmentsIntr(t,e,r,a){let n=(t.x-r.x)*(e.y-r.y)-(t.y-r.y)*(e.x-r.x),o=(t.x-a.x)*(e.y-a.y)-(t.y-a.y)*(e.x-a.x);if(n*o>=0)return!1;let l=(r.x-t.x)*(a.y-t.y)-(r.y-t.y)*(a.x-t.x);if(l*(l+n-o)>=0)return!1;let s=l/(o-n),h=s*(e.x-t.x),c=s*(e.y-t.y);return i(t.x+h,t.y+c)}static bezier_length(t,e,r,a,n){let i=t,l=0,s=.05;for(let n=0;n<20;n++){let n=t.x*(1-s)*(1-s)*(1-s)+3*e.x*s*(1-s)*(1-s)+3*r.x*s*s*(1-s)+a.x*s*s*s,h=t.y*(1-s)*(1-s)*(1-s)+3*e.y*s*(1-s)*(1-s)+3*r.y*s*s*(1-s)+a.y*s*s*s,c=new o(n,h),u=c.subtract(i);i=c,l+=u.length(),s+=.05}return l}static weightRandomIdx(t){if(t.length<=1)return 0;let e=0;for(let r=0;r<t.length;r++)e+=t[r];let r=Math.random()*e,a=0,n=0;for(let e=0;e<t.length;e++){if(n=a+t[e],a<r&&r<=n)return e;a=n}return 0}static randomIdx(t){if(t.length<=1)return 0;let e=t.length,r=Math.random()*e,a=0,n=0;for(let e=0;e<t.length;e++){if(n=a+1,a<r&&r<=n)return e;a=n}return 0}static numMoveZoro(t){return t.indexOf(".")<0||"."==(t=t.replace(/0+?$/g,""))[t.length-1]&&(t=t.replace(/[.$]/,"")),t}static getRectRandPos(t){let e=new a,r=Math.random()*t.width,n=Math.random()*t.height;return e.x=t.x+r,e.y=t.y+n,e}static adapterScale(){let t=f.getDesignResolutionSize(),e=f.getVisibleSize();return e.width>t.width?1:e.width/t.width}static numberAnimation(t,e,r){void 0===r&&(r=.2);let a={num:Number(t.string)};u(a).to(r,{num:e},{progress:(e,r,a,n)=>(t.string=`${Math.ceil(e+(r-e)*n)}`,e+(r-e)*n)}).start()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/VipCfg.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"474c0kP6LxPcrFHjX+DKCLM","VipCfg",void 0);i("VipCfg",class{constructor(){this.ClassName="Vip",this.Id=void 0,this.level=void 0,this.day=void 0,this.ad=void 0,this.task=void 0,this.invite=void 0,this.gem=void 0,this.llama=void 0,this.gold=void 0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/VipData.ts",["cc","./VipCfg.ts","./CfgMgr.ts"],(function(t){var e,a,i,n;return{setters:[function(t){e=t.cclegacy,a=t._decorator},function(t){i=t.VipCfg},function(t){n=t.CfgMgr}],execute:function(){var s,c;e._RF.push({},"e5871R4cNJIiIXNAK8QpTGQ","VipData",void 0);const{ccclass:r}=a;t("VipData",r("VipData")(((c=class t{constructor(){this._vipMapData=new Map,this._maxLevel=0}get maxLevel(){return this._maxLevel}initCfg(){let t=n.getCfgDataArray(new i);for(let e=0;e<t.length;e++){const a=t[e];this._vipMapData.set(a.level,a),this._maxLevel=this._maxLevel>a.level?this._maxLevel:a.level}}getVipInfo(){}getVipCfg(t){return this._vipMapData.get(t)}static get instance(){return this._instance||(this._instance=new t),this._instance}})._instance=null,s=c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/VipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteEx.ts"],(function(e){var i,t,n,r,o,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e._decorator,o=e.Component},function(e){c=e.SpriteEx}],execute:function(){var a,s,l,p,u,h,y;n._RF.push({},"567be9CZv5AZLpzvTaf5qD5","VipItem",void 0);const{ccclass:d,property:b}=r;e("VipItem",(a=d("VipItem"),s=b(c),l=b(c),a((h=i((u=class extends o{constructor(){super(...arguments),t(this,"icon",h,this),t(this,"gray",y,this)}init(e,i){this.icon.index=e,this.gray.index=e,i>=e?(this.gray.node.active=!1,this.icon.node.active=!0):(this.gray.node.active=!0,this.icon.node.active=!1)}onEnable(){}onDisable(){}}).prototype,"icon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(u.prototype,"gray",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=u))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/VipPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./VipItem.ts","./PlayerData.ts","./VipData.ts","./LanguageManager.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var e,i,n,s,r,l,o,a,c,h,p,g,u,d,b,m,v,f,x,w,V,_,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.ScrollView,r=t.Prefab,l=t.ProgressBar,o=t.Label,a=t.RichText,c=t.Node,h=t._decorator,p=t.Component,g=t.instantiate,u=t.UIOpacity,d=t.v2,b=t.UITransform},function(t){m=t.OpenPopupManager},function(t){v=t.Constants},function(t){f=t.VipItem},function(t){x=t.PlayerData},function(t){w=t.VipData},function(t){V=t.LanguageManager},function(t){_=t.EventListener},function(t){P=t.GameEvent}],execute:function(){var I,y,C,O,T,L,j,z,A,D,E,S,k,N,R,M,U,B,G,H,W,Y,F,K,$,X,q,J,Q,Z,tt,et,it;n._RF.push({},"d03248HVBVEbKXBKfYeCLiu","VipPopup",void 0);const{ccclass:nt,property:st}=h;t("VipPopup",(I=nt("VipPopup"),y=st(s),C=st(r),O=st(l),T=st(l),L=st(l),j=st(l),z=st(o),A=st(o),D=st(o),E=st(o),S=st(o),k=st(o),N=st(a),R=st(c),M=st(c),I((G=e((B=class extends p{constructor(){super(...arguments),i(this,"scrollView",G,this),i(this,"vipItem",H,this),i(this,"loginProgress",W,this),i(this,"taskProgress",Y,this),i(this,"adProgress",F,this),i(this,"inviteProgress",K,this),i(this,"targetText",$,this),i(this,"loginText",X,this),i(this,"taskText",q,this),i(this,"adText",J,this),i(this,"inviteText",Q,this),i(this,"curLevelText",Z,this),i(this,"vipDesc",tt,this),i(this,"leftArrow",et,this),i(this,"rightArrow",it,this),this._curIndex=0,this._lastIndex=0,this._gameObj=null}show(){w.instance.initCfg(),x.instance.getPlayerInfo(),this._gameObj=x.instance.gameObj,this._curIndex=2+this._gameObj.vip,this.scrollView.content.removeAllChildren(),this.buildVipNoneItem(-1),this.buildVipNoneItem(-1);for(let t=0;t<13;t++){let e=g(this.vipItem);e.getComponent(f).init(t,this._gameObj.vip),this._gameObj.vip==t?e.setScale(1,1):e.setScale(.7,.7),e.parent=this.scrollView.content}this.buildVipNoneItem(-1),this.buildVipNoneItem(-1),this.scheduleOnce((()=>{this.setContent()}),.5)}buildVipNoneItem(t){let e=g(this.vipItem);e.getComponent(u).opacity=0,e.parent=this.scrollView.content}scrollViewEvent(t){this.updateScrollView()}setVipInfoContent(){let t=this._curIndex-2>=0?this._curIndex-2:0;t=t>w.instance.maxLevel?w.instance.maxLevel:t;let e=t==w.instance.maxLevel?w.instance.maxLevel:t+1;this.targetText.string=V.instance.getLang("vip.progress",[e]);let i=w.instance.getVipCfg(e);this.loginProgress.progress=this._gameObj.day/i.day,this.loginText.string=this._gameObj.day+"/"+i.day,this.taskProgress.progress=0==i.task?1:this._gameObj.task/i.task,this.taskText.string=this._gameObj.task+"/"+i.task,this.adProgress.progress=this._gameObj.ad/i.ad,this.adText.string=this._gameObj.ad+"/"+i.ad,this.inviteProgress.progress=0==i.invite?1:this._gameObj.inviteCount/i.invite,this.inviteText.string=this._gameObj.inviteCount+"/"+i.invite,0==i.invite?this.inviteProgress.node.active=!1:this.inviteProgress.node.active=!0,this.curLevelText.string=V.instance.getLang("vip.privilege",[t]);let n=w.instance.getVipCfg(t);this.vipDesc.string=n?`1.Gold Production +${n.gold}%\n2.Gem Production +${n.gem}% `:"1.Gold Production +0%\n2.Gem Production +0%",this.leftArrow.active=0!=t,t==w.instance.maxLevel?this.rightArrow.active=!1:this.rightArrow.active=!0}updateScrollView(){let t=-1;for(let e=0;e<this.scrollView.content.children.length;e++){let i=this.scrollView.content.children[e];i.setScale(.7,.7),this.isOnHit(i)&&(t=this.scrollView.content.children.indexOf(i),this._curIndex=e,this.setVipInfoContent())}if(t>=0){this._lastIndex=t;let e=Math.abs(this.scrollView.getContentPosition().x),i=this.scrollView.content.children[this._curIndex],n=i.position.x,s=Math.abs(e-n)/2/this.getNodeRealWidth(this.scrollView.content.children[this._curIndex])/2;i.setScale(1-s,1-s),n>e?this.scrollView.content.children[this._lastIndex-1].setScale(.7+s,.7+s):this.scrollView.content.children[this._lastIndex+1].setScale(.7+s,.7+s)}}scrollEnded(){if(this._curIndex){for(let e=0;e<this.scrollView.content.children.length;e++){var t=this.scrollView.content.children[e];t.setScale(.7,.7),e==this._curIndex&&t.setScale(1,1)}let e=this.scrollView.content.children[this._curIndex].position.x;this.scrollView.scrollToOffset(d(e-this.scrollView.node.getComponent(b).contentSize.width/2,0),0)}}onLeftBtn(){this._curIndex-2>0&&(this._curIndex--,this.setContent())}onRightBtn(){this._curIndex<w.instance.maxLevel+2&&(this._curIndex++,this.setContent())}setContent(){this.setVipInfoContent(),this.scrollEnded()}isOnHit(t){var e=Math.abs(this.scrollView.getContentPosition().x);let i=t.position.x,n=this.getNodeRealWidth(t);return i-n/2<=e&&e<i+n/2}getNodeRealWidth(t){return t.getComponent(b).width*t.scale.x}onCloseBtn(){m.instance.hide(v.PopupUI.VipPopup)}onUpdateContent(){if(this._gameObj=x.instance.gameObj,this._curIndex=2+this._gameObj.vip,!(this.scrollView.content.children.length<15)){for(let t=0;t<13;t++){let e=this.scrollView.content.children[t+2];e.getComponent(f).init(t,this._gameObj.vip),this._gameObj.vip==t?e.setScale(1,1):e.setScale(.7,.7)}this.setContent()}}onEnable(){this.scrollView.node.on("scroll-ended",this.scrollEnded,this),_.on(P.UPDATE_PLAYER_DATA,this.onUpdateContent,this)}onDisable(){this.scrollView.node.off("scroll-ended",this.scrollEnded,this),_.off(P.UPDATE_PLAYER_DATA,this.onUpdateContent,this)}}).prototype,"scrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"vipItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(B.prototype,"loginProgress",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(B.prototype,"taskProgress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(B.prototype,"adProgress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(B.prototype,"inviteProgress",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(B.prototype,"targetText",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(B.prototype,"loginText",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(B.prototype,"taskText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(B.prototype,"adText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(B.prototype,"inviteText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(B.prototype,"curLevelText",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(B.prototype,"vipDesc",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(B.prototype,"leftArrow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(B.prototype,"rightArrow",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=B))||U));n._RF.pop()}}}));

System.register("chunks:///_virtual/WalletConnectPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WalletManager.ts","./OpenPopupManager.ts","./Constants.ts"],(function(e){var n,t,a,s,o,i,l,r,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,s=e.Label,o=e._decorator,i=e.Component},function(e){l=e.WalletManager},function(e){r=e.OpenPopupManager},function(e){c=e.Constants}],execute:function(){var p,u,d,g,b,h,P;a._RF.push({},"c1313u8kaNIBIMt4X1M2Sw7","WalletConnectPopup",void 0);const{ccclass:f,property:C}=o;e("WalletConnectPopup",(p=f("WalletConnectPopup"),u=C(s),d=C(s),p((h=n((b=class extends i{constructor(){super(...arguments),t(this,"address",h,this),t(this,"balance",P,this)}show(){let e=l.instance.getAddress();this.address.string=e.substring(0,4)+"..."+e.substring(e.length-4),l.instance.getTokenBalance((e=>{this.balance.string=Number(Number(e)/10**9).toFixed(2)}))}onDisconnectBtn(){l.instance.disconnect(),r.instance.hide(c.PopupUI.WalletPopup)}onCloseBtn(){r.instance.hide(c.PopupUI.WalletPopup)}}).prototype,"address",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(b.prototype,"balance",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/WalletData.ts",["cc","./AdManager.ts","./Api.ts","./EventListener.ts","./HttpService.ts","./OpenPopupManager.ts","./WalletManager.ts","./GameEvent.ts"],(function(t){var i,s,a,e,n,h,d,r,c;return{setters:[function(t){i=t.cclegacy},function(t){s=t.AdManager,a=t.AdType},function(t){e=t.Api},function(t){n=t.EventListener},function(t){h=t.HttpService},function(t){d=t.OpenPopupManager},function(t){r=t.WalletManager},function(t){c=t.GameEvent}],execute:function(){i._RF.push({},"c226fcIbs9Ip7VfhZXWDvLJ","WalletData",void 0);class o{constructor(){this.isWithdrawing=!1,this._withdrawItemObjs=[],this._withdrawBillObjs=[],this._lastBillObj=null,this._adNum=0,this._adMaxNum=0}get withdrawItemObjs(){return this._withdrawItemObjs}get lastBillObj(){return this._lastBillObj}get withdrawBillObjs(){return this._withdrawBillObjs}get adNum(){return this._adNum}get adMaxNum(){return this._adMaxNum}withdraw(t,i){r.instance.isConnected()?this._withdraw(t,r.instance.getAddress(),i):r.instance.connectWallet((s=>{0==s?this._withdraw(t,r.instance.getAddress(),i):d.instance.showToast("Connect Wallet Failed")}))}_withdraw(t,i,s){s&&(this.isWithdrawing||(this.isWithdrawing=!0,r.instance.getTonBalance((a=>{0!=a?h.instance.post(e.WALLET_WITHDRAW_SUBMIT,{token:t,address:i,amount:s}).then((t=>{0==t.code?(this.getWithdrawBill(),this.getWithdrawInfo(),d.instance.showToast("The withdrawal is expected to arrive within 24 hours.")):(this.isWithdrawing=!1,d.instance.showToast(t.msg))})).catch((t=>{this.isWithdrawing=!1,d.instance.showToast("network.error")})):d.instance.showToast("The TON balance must be greater than 0")}))))}watchAd(){s.instance.showAd(a.WITHDRAW,0,((t,i)=>{0==t&&h.instance.post(e.WALLET_WITHDRAW_AD,{sign:i}).then((t=>{0==t.code&&(this._adNum+=1,n.emit(c.UPDATE_WITHDRAW_AD))})).catch((t=>{}))}))}getWithdrawInfo(){h.instance.post(e.WALLET_WITHDRAW_INFO).then((t=>{0==t.code&&(this._withdrawItemObjs=t.data.items,this._lastBillObj=t.data.bill,this._adMaxNum=t.data.adMaxNum,this._adNum=t.data.adNum,n.emit(c.UPDATE_WITHDRAW_DATA))}))}getWithdrawBill(){h.instance.post(e.WALLET_WITHDRAW_BILL).then((t=>{0==t.code&&(this._withdrawBillObjs=t.data.bills,n.emit(c.UPDATE_WALLET_BILL))}))}static get instance(){return this._instance||(this._instance=new o),this._instance}}t("WalletData",o),o._instance=null;t("WithdrawInfoResult",class{constructor(){this.items=void 0,this.bill=void 0,this.adNum=void 0,this.adMaxNum=void 0}});t("WithdrawBillObj",class{constructor(){this.token=void 0,this.amount=void 0,this.state=void 0,this.withdrawTime=void 0,this.nextday=void 0,this.day=void 0,this.adNum=void 0}});t("WithdrawItemObj",class{constructor(){this.id=void 0,this.amount=void 0,this.limit=void 0,this.vip=void 0,this.ad=void 0}});t("WithdrawBillState",function(t){return t.PENDING="pending",t.SENDING="sending",t.SUCCESS="success",t.CANCELLED="cancelled",t}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/WalletManager.ts",["cc","./index.ts","./OpenPopupManager.ts","./EventListener.ts","./GameEvent.ts"],(function(t){var n,e,a,s,i,o,c,r,l;return{setters:[function(t){n=t.cclegacy},function(t){e=t.TonClient,a=t.TonConnectUI,s=t.GameFi,i=t.Address,o=t.toNano},function(t){c=t.OpenPopupManager},function(t){r=t.EventListener},function(t){l=t.GameEvent}],execute:function(){n._RF.push({},"00275kKo0pP94/BPeN1nIz7","WalletManager",void 0);class h{constructor(){this._walletCfg=null,this._gameFi=null,this.connectUI=null,this.walletInfo=null,this.balance=0,this.tonClient=null}async initCfg(t){this._walletCfg=t}async init(t){this._walletCfg=t;try{this.initGameFi()}catch(t){console.log("initGameFi",t)}this.tonClient=new e({endpoint:"https://toncenter.com/api/v2/jsonRPC",apiKey:""})}async initGameFi(){if(this._gameFi)return;let t=new a({manifestUrl:this._walletCfg.manifestUrl});const n={network:this._walletCfg.network,contentResolver:{},merchant:{jettonAddress:this._walletCfg.usdtAddress,tonAddress:this._walletCfg.walletAddress}};this._gameFi=await s.create({...n,connector:t}),this.connectUI=this._gameFi.walletConnector,this.walletInfo=this.connectUI.wallet,this.connectUI.onModalStateChange((t=>{r.emit(l.UPDATE_WALLET_INFO)}))}isTonConnectSdkError(t){const n="TON_CONNECT_SDK";return"string"==typeof t?t.includes(n):t.message?.includes(n)}isConnected(){return this.connectUI?this.connectUI.connected:(console.error("ton ui not inited!"),!1)}getAddress(){if(this.isConnected()){const t=this.connectUI.account.address;return i.parseRaw(t).toString({testOnly:!0,bounceable:!1})}return""}getBounceAddress(){if(this.isConnected()){console.log("this.connectUI.account",this.connectUI.account);const t=this.connectUI.account.address;return i.parseRaw(t).toString({testOnly:!1,bounceable:!1})}return""}async connectWallet(t){if(!this._gameFi)try{await this.initGameFi()}catch(n){return console.log("initGameFi",n),void t(1)}this.isConnected()?this.connectUI.disconnect():(this.connectUI.onStatusChange((n=>{this.walletInfo=n,r.emit(l.UPDATE_WALLET_INFO),t(0)})),this.connectUI.openModal())}async disconnect(){try{this.connectUI.disconnect(),r.emit(l.UPDATE_WALLET_INFO)}catch(t){}}onTransferTon(t){if(this.connectUI.connected){const n={to:t.address,amount:o(.01)};this._gameFi.transferTon(n)}}onBuyWithTon(t){const n={amount:o(t)};this._gameFi.buyWithTon(n)}async getTonBalance(t){let n=this._gameFi.wallet.account.address;t(await this.tonClient.getBalance(i.parse(n)))}async getTokenBalance(t){if(this._gameFi){t&&t(this.balance);try{const n=this._gameFi.openJetton(this._gameFi.merchantJettonAddress),e=await n.getWallet(i.parse(this._gameFi.wallet.account.address)),a=await e.getData();return this.balance=Number(a.balance),t&&t(this.balance),a.balance}catch(t){return console.error("failed to load balance",t),0}}}async send(t,n,e,a){const s={validUntil:Math.floor(Date.now()/1e3)+60,messages:[{address:t,amount:n,payload:e}]};try{const t=await this.connectUI.sendTransaction(s);a&&a(0,t)}catch(t){console.log("sendTransaction error",t),a&&a(1);let n="";n=t?"You rejected the transaction. Please confirm it to send to the blockchain":t.toString(),c.instance.showToast(n)}}async buyWithToken(t,n,e){let a=await this.getTokenBalance();if(Number(a)<Number(t))return void c.instance.showToast("balance.insufficient");let s={to:this._gameFi.merchantAddress,amount:o(Number(t)/10**9),forwardAmount:o(1e-9),forwardPayload:n};this._gameFi.transferJetton(s).then((()=>{e(0)})).catch((t=>{console.log("transferJetton",t);let n=t.message;if(n.indexOf("TON_CONNECT_SDK_ERROR")){let t=["TonConnectUIError","TonConnectError","[TON_CONNECT_SDK_ERROR]",":"];for(let e=0;e<t.length;e++){let a=t[e];n.indexOf(a)>=0&&(n=n.slice(n.indexOf(a)+a.length))}n.indexOf(".")>=0&&(n=n.slice(0,n.indexOf(".")+1)),n=n.replace("\n","")}c.instance.showToast(n)}))}static get instance(){return this._instance||(this._instance=new h),this._instance}}t("WalletManager",h),h._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/WithdrawAmountItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./GameEvent.ts"],(function(t){var e,i,n,o,r,s,a,l,u,m,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Label,r=t.Sprite,s=t.Node,a=t._decorator,l=t.Component,u=t.Color},function(t){m=t.EventListener},function(t){c=t.GameEvent}],execute:function(){var h,b,p,f,d,A,_,g,w;n._RF.push({},"edbc4xGKOhK4ZJ68AtQ4Sex","WithdrawAmountItem",void 0);const{ccclass:E,property:T}=a;t("WithdrawAmountItem",(h=E("WithdrawAmountItem"),b=T(o),p=T(r),f=T(s),h((_=e((A=class extends l{constructor(){super(...arguments),i(this,"amount",_,this),i(this,"bg",g,this),i(this,"mask",w,this),this._itemObj=null}init(t,e){this._itemObj=t,this.amount.string=t.amount+" usdt",this.bg.color=(new u).fromHEX("#F8E8C7"),0==e&&(this.bg.color=(new u).fromHEX("#FFC15B")),this.mask.active=0==t.limit}onTapBtn(){this.bg.color=(new u).fromHEX("#FFC15B"),m.emit(c.WITHDRAW_TAP_AMOUNT,this._itemObj)}onUpdateContent(t){this._itemObj.amount!=t.amount&&(this.bg.color=(new u).fromHEX("#F8E8C7"))}onEnable(){m.on(c.WITHDRAW_TAP_AMOUNT,this.onUpdateContent,this)}onDisable(){m.off(c.WITHDRAW_TAP_AMOUNT,this.onUpdateContent,this)}}).prototype,"amount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(A.prototype,"bg",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(A.prototype,"mask",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=A))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/WithdrawBillPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./EventListener.ts","./WalletData.ts","./BillItem.ts","./OpenPopupManager.ts","./Constants.ts"],(function(t){var e,i,n,l,o,a,r,s,c,p,u,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,l=t.ScrollView,o=t.Prefab,a=t._decorator,r=t.Component,s=t.instantiate},function(t){c=t.GameEvent},function(t){p=t.EventListener},function(t){u=t.WalletData},function(t){h=t.BillItem},function(t){d=t.OpenPopupManager},function(t){f=t.Constants}],execute:function(){var B,w,b,m,P,E,L;n._RF.push({},"1c148JBO+lOMaamE3PnZV8O","WithdrawBillPopup",void 0);const{ccclass:v,property:W}=a;t("WithdrawBillPopup",(B=v("WithdrawBillPopup"),w=W(l),b=W(o),B((E=e((P=class extends r{constructor(){super(...arguments),i(this,"scrollView",E,this),i(this,"billItem",L,this)}show(){u.instance.getWithdrawBill()}onUpdateBill(){let t=u.instance.withdrawBillObjs;this.scrollView.content.removeAllChildren(),t.forEach(((t,e)=>{var i=s(this.billItem);i.getComponent(h).init(t),i.setScale(.9,.9),i.parent=this.scrollView.content}))}onCloseBtn(){d.instance.hide(f.PopupUI.WithdrawBillPopup)}onEnable(){p.on(c.UPDATE_WALLET_BILL,this.onUpdateBill,this)}onDisable(){p.off(c.UPDATE_WALLET_BILL,this.onUpdateBill,this)}}).prototype,"scrollView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(P.prototype,"billItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/WithdrawPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OpenPopupManager.ts","./Constants.ts","./WalletData.ts","./WalletManager.ts","./LanguageManager.ts","./GameEvent.ts","./EventListener.ts","./PlayerData.ts","./WithdrawAmountItem.ts","./BillItem.ts"],(function(t){var i,e,n,a,s,o,l,r,h,c,u,d,p,b,m,w,g,f,A,v,W;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,s=t.Prefab,o=t.Label,l=t.ProgressBar,r=t._decorator,h=t.Component,c=t.instantiate},function(t){u=t.OpenPopupManager},function(t){d=t.Constants},function(t){p=t.WalletData,b=t.WithdrawBillState},function(t){m=t.WalletManager},function(t){w=t.LanguageManager},function(t){g=t.GameEvent},function(t){f=t.EventListener},function(t){A=t.PlayerData},function(t){v=t.WithdrawAmountItem},function(t){W=t.BillItem}],execute:function(){var P,D,L,N,T,y,_,U,I,B,C,z,E,M,x,O,H,R,j,F,k,G,S,V,K,X,q,J,Q,Y,Z,$,tt,it,et;n._RF.push({},"4028cv4/uBMn75KBycwPxXo","WithdrawPopup",void 0);const{ccclass:nt,property:at}=r;t("WithdrawPopup",(P=nt("WithdrawPopup"),D=at(a),L=at(s),N=at(o),T=at(a),y=at(o),_=at(o),U=at(a),I=at(a),B=at(a),C=at(o),z=at(o),E=at(o),M=at(a),x=at(l),O=at(o),H=at(o),P((F=i((j=class extends h{constructor(){super(...arguments),e(this,"content",F,this),e(this,"amountItemPrefab",k,this),e(this,"balanceLabel",G,this),e(this,"disconnectBtn",S,this),e(this,"withdrawLabel",V,this),e(this,"vipLabel",K,this),e(this,"redpoint",X,this),e(this,"billContent",q,this),e(this,"conditionContent",J,this),e(this,"fee",Q,this),e(this,"tips",Y,this),e(this,"walletAddress",Z,this),e(this,"ad",$,this),e(this,"adProgess",tt,this),e(this,"adNum",it,this),e(this,"adDesc",et,this),this._withdrawAmount=0,this._curToken="usdt"}show(){p.instance.getWithdrawInfo(),this.balanceLabel.string=Number(A.instance.assetObj.usdt).toFixed(3),this.onUpdateWallet(),this.onUpdateWithdrawAmounts()}onUpdateWithdrawAmounts(){this.content.removeAllChildren();let t=p.instance.withdrawItemObjs;t.forEach(((t,i)=>{var e=c(this.amountItemPrefab);e.getComponent(v).init(t,i),e.parent=this.content})),this.onUpdateBill(),0==this._withdrawAmount&&t.length>0&&this.onTapAmount(t[0])}onUpdateAd(){this.adProgess.progress=p.instance.adNum/p.instance.adMaxNum,this.adNum.string=p.instance.adNum+"/"+p.instance.adMaxNum,p.instance.adNum>=p.instance.adMaxNum&&(this.vipLabel.node.active=!0,this.ad.active=!1)}onWithdrawBtn(){p.instance.withdraw(this._curToken,this._withdrawAmount)}onDisconnect(){m.instance.disconnect()}onUpdateWallet(){if(m.instance.isConnected()){this.disconnectBtn.active=!0,this.withdrawLabel.string=w.instance.getLang("wallet.withdraw");let t=m.instance.getBounceAddress();this.walletAddress.string="Wallet: "+t[0]+t[1]+t[2]+t[3]+"...."+t[t.length-4]+t[t.length-3]+t[t.length-2]+t[t.length-1]}else this.disconnectBtn.active=!1,this.withdrawLabel.string=w.instance.getLang("wallet.connect"),this.walletAddress.string=""}onCloseBtn(){u.instance.hide(d.PopupUI.WithdrawPopup)}onUpdateBill(){let t=p.instance.lastBillObj;!t||t.state!=b.PENDING&&t.state!=b.SENDING?(this.redpoint.active=!1,this.billContent.active=!1,this.conditionContent.active=!0,this.fee.string="Fee: 0.02"):(this.redpoint.active=!0,this.billContent.getChildByName("billItem").getComponent(W).init(t),this.billContent.active=!0,this.conditionContent.active=!1,this.fee.node.active=!1,"sending"==t.state?this.tips.string="Be sure to come back and claim it tomorrow!":this.tips.string="The withdrawal is expected to arrive within 24 hours.")}onHistoryBtn(){u.instance.show(d.PopupUI.WithdrawBillPopup)}onTapAmount(t){this._withdrawAmount=t.amount,t.ad>0&&t.ad>p.instance.adNum?(this.vipLabel.string="",this.vipLabel.node.active=!1,this.ad.active=!0,this.adProgess.progress=p.instance.adNum/p.instance.adMaxNum,this.adNum.string=p.instance.adNum+"/"+p.instance.adMaxNum,this.adDesc.string="Watch "+p.instance.adMaxNum+" Ads",this.vipLabel.string=A.instance.gameObj.vip>=t.vip?"Withdrawal Conditions: None":w.instance.getLang("withdraw.viplimit",[t.vip])):(this.vipLabel.string=A.instance.gameObj.vip>=t.vip?"Withdrawal Conditions: None":w.instance.getLang("withdraw.viplimit",[t.vip]),this.vipLabel.node.active=!0,this.ad.active=!1)}onWatchAd(){p.instance.watchAd()}onVipBtn(){u.instance.show(d.PopupUI.VipPopup)}onEnable(){f.on(g.UPDATE_WALLET_INFO,this.onUpdateWallet,this),f.on(g.UPDATE_WITHDRAW_DATA,this.onUpdateWithdrawAmounts,this),f.on(g.UPDATE_WITHDRAW_AD,this.onUpdateAd,this),f.on(g.WITHDRAW_TAP_AMOUNT,this.onTapAmount,this)}onDisable(){f.off(g.UPDATE_WALLET_INFO,this.onUpdateWallet,this),f.off(g.UPDATE_WITHDRAW_DATA,this.onUpdateWithdrawAmounts,this),f.off(g.UPDATE_WITHDRAW_AD,this.onUpdateAd,this),f.off(g.WITHDRAW_TAP_AMOUNT,this.onTapAmount,this)}}).prototype,"content",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(j.prototype,"amountItemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(j.prototype,"balanceLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(j.prototype,"disconnectBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(j.prototype,"withdrawLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(j.prototype,"vipLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(j.prototype,"redpoint",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(j.prototype,"billContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(j.prototype,"conditionContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(j.prototype,"fee",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(j.prototype,"tips",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(j.prototype,"walletAddress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(j.prototype,"ad",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(j.prototype,"adProgess",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(j.prototype,"adNum",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(j.prototype,"adDesc",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=j))||R));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});